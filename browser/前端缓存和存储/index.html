<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>前端存储 | Sewen 博客</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="./mylogo.png">
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.min.js"></script>
    <link rel="manifest" href="/myblog/manifest.webmanifest" crossorigin="use-credentials">
    <link rel="alternate" type="application/atom+xml" href="https://sewar-x.github.io/myblog/atom.xml" title="Sewen 博客 Atom Feed">
    <link rel="alternate" type="application/json" href="https://sewar-x.github.io/myblog/rss.xml" title="Sewen 博客 JSON Feed">
    <link rel="alternate" type="application/rss+xml" href="https://sewar-x.github.io/myblog/rss.xml" title="Sewen 博客 RSS Feed">
    <meta name="description" content="sewen 的前端学习笔记、博客、前端基础总结、技术深度剖析、面试题总结、算法总结、项目过程总结">
    <meta property="og:url" content="https://sewar-x.github.io/myblog/browser/%E5%89%8D%E7%AB%AF%E7%BC%93%E5%AD%98%E5%92%8C%E5%AD%98%E5%82%A8.html">
    <meta property="og:site_name" content="Sewen 博客">
    <meta property="og:title" content="前端存储">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="en-US">
    <meta name="theme-color" content="#46bd87">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <link rel="preload" href="/myblog/assets/css/0.styles.645fbc6f.css" as="style"><link rel="preload" href="/myblog/assets/js/app.9d2b617a.js" as="script"><link rel="preload" href="/myblog/assets/js/layout-Layout.d2d4ce64.js" as="script"><link rel="preload" href="/myblog/assets/js/page-前端存储.cd82cf54.js" as="script"><link rel="preload" href="/myblog/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-components/Blog/BlogHome~layout-components/~2222f443.5835591a.js" as="script"><link rel="prefetch" href="/myblog/assets/js/199.a9216960.js"><link rel="prefetch" href="/myblog/assets/js/200.4c66fc79.js"><link rel="prefetch" href="/myblog/assets/js/layout-Blog.1fca7e90.js"><link rel="prefetch" href="/myblog/assets/js/layout-NotFound.3c74e8aa.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/AlgoliaSearch/Dropdown.70fcebe7.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Anchor.3235541c.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/ArticleInfo.7b815b20.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/ArticleItem.b0e177e1.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/ArticleList.d1cf1b24.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/ArticleType.b630b80e.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/BlogHero.621312ba.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/BlogHome.4fe44489.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/BlogInfo.b2a94760.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/BlogPage.e0fbe820.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/BloggerInfo.0df38355.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/CategoryList.ec1bcd96.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/ProjectList.8550a110.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/TagList.bcf7b782.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/Timeline.b6cf5471.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/TimelineList.3c6e08a6.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Clipboard.e940a903.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Common.820a8694.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Home.70383986.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/MyTransition.0de46069.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/DropdownLink.e3f6c118.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/NavLink.93b11770.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/NavLinks.8ba214e6.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/Navbar.b90a94f9.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/RepoLink.663a7f55.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/SidebarButton.76b0035a.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Page.98b5d09c.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/PageFooter.20bc9bd8.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/PageMeta.b7e6b12f.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/PageNav.8305dd1f.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Password.45e0e82a.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/DropdownTransition.068c5eea.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/Sidebar.f6f90d52.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/SidebarDropdownLink.505127a8.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/SidebarGroup.7eecf370.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/SidebarLink.6e39fe32.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/SidebarNavLinks.0f8566cb.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Theme/DarkmodeSwitch.20ac7b92.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Theme/ThemeColor.6086e4ed.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Theme/ThemeOptions.483238c9.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/ArticleIcon.0a22e2b1.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/AutoIcon.2ff1c790.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/BookIcon.419b49ba.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/DarkIcon.7d81873b.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/EditIcon.8ada485d.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/EmptyIcon.d704a5cf.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/I18nIcon.ffad8b3e.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/LightIcon.47d807da.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/LinkIcon.1a8a7826.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/LockIcon.a29a2b79.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/NextIcon.0214ee59.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/Page404Icon.8bc1ebbb.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/PresentationIcon.17500d9b.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/PrevIcon.2ae04a70.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/ProjectIcon.b336d567.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/StickyIcon.0f509b9d.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Baidu.244b9a41.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Bitbucket.11ba94e1.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Dingding.e8a3d90d.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Discord.3295a55b.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Dribbble.464dac3b.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Email.f9254caa.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Evernote.991472fb.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Facebook.08e78e47.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Flipboard.a1124d0f.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Gitee.c44bc20a.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Github.5667e5ae.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Gitlab.ad95c7a7.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Gmail.b5acc6bc.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Instagram.56be85f2.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Lines.d9db3dce.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Linkedin.b82d8d8b.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Pinterest.0f3ffe71.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Pocket.41ef3c92.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/QQ.7558f4ba.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Qzone.bf658fae.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Reddit.9c4c95ee.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Rss.9780139e.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Steam.06abbae2.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Twitter.26fa5bda.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Wechat.9cac8c4c.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Weibo.5206a632.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Whatsapp.0738f1e3.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Youtube.f41fd7f2.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Zhihu.4d851d2f.js"><link rel="prefetch" href="/myblog/assets/js/page--0abc50bf.0d6f1484.js"><link rel="prefetch" href="/myblog/assets/js/page--1cd40f4c.dd76c7b3.js"><link rel="prefetch" href="/myblog/assets/js/page--53f93199.e80bdec8.js"><link rel="prefetch" href="/myblog/assets/js/page--5afd2fd0.adea4e92.js"><link rel="prefetch" href="/myblog/assets/js/page--67c584d3.0a3f3cd9.js"><link rel="prefetch" href="/myblog/assets/js/page--776a8506.cdf48aac.js"><link rel="prefetch" href="/myblog/assets/js/page-CSS.eb94b29f.js"><link rel="prefetch" href="/myblog/assets/js/page-Chrome开发工具使用指南.a2675120.js"><link rel="prefetch" href="/myblog/assets/js/page-DevServer.0281863d.js"><link rel="prefetch" href="/myblog/assets/js/page-Echarts二次封装.4387b8ad.js"><link rel="prefetch" href="/myblog/assets/js/page-Elementui与Element-plusui二次封装.82f12a09.js"><link rel="prefetch" href="/myblog/assets/js/page-Git基础.03c616ad.js"><link rel="prefetch" href="/myblog/assets/js/page-Git规范.e2fdc38a.js"><link rel="prefetch" href="/myblog/assets/js/page-HTML.1e3c14b9.js"><link rel="prefetch" href="/myblog/assets/js/page-Home.f0b7e772.js"><link rel="prefetch" href="/myblog/assets/js/page-JSON配置化组件二次封装.12060fd9.js"><link rel="prefetch" href="/myblog/assets/js/page-JS原理实现.3c427e19.js"><link rel="prefetch" href="/myblog/assets/js/page-JS应用题.3d313b34.js"><link rel="prefetch" href="/myblog/assets/js/page-JavaScript基础.551be887.js"><link rel="prefetch" href="/myblog/assets/js/page-Linux.c6159ebd.js"><link rel="prefetch" href="/myblog/assets/js/page-Loader和Plugin原理.b2971b76.js"><link rel="prefetch" href="/myblog/assets/js/page-MySQL.0b1d704a.js"><link rel="prefetch" href="/myblog/assets/js/page-NPM.a55851b2.js"><link rel="prefetch" href="/myblog/assets/js/page-Node.ec405a21.js"><link rel="prefetch" href="/myblog/assets/js/page-Nodejs常见问题集合.12844e69.js"><link rel="prefetch" href="/myblog/assets/js/page-Node性能优化.b4ea1c34.js"><link rel="prefetch" href="/myblog/assets/js/page-Promise专题.7869a31b.js"><link rel="prefetch" href="/myblog/assets/js/page-React.d76cf0ac.js"><link rel="prefetch" href="/myblog/assets/js/page-SSG移动端项目实践.2122615b.js"><link rel="prefetch" href="/myblog/assets/js/page-TypeScript.4f597fda.js"><link rel="prefetch" href="/myblog/assets/js/page-Vite.637881bf.js"><link rel="prefetch" href="/myblog/assets/js/page-Vite原理解析.6677fdb4.js"><link rel="prefetch" href="/myblog/assets/js/page-Vue25项目webpack构建分析.7bbea0fa.js"><link rel="prefetch" href="/myblog/assets/js/page-Vue2VsVue3.10be4140.js"><link rel="prefetch" href="/myblog/assets/js/page-Vue2x原理源码分析.e9e753b6.js"><link rel="prefetch" href="/myblog/assets/js/page-Vue3基础.210247ff.js"><link rel="prefetch" href="/myblog/assets/js/page-Vue3源码分析.17379e04.js"><link rel="prefetch" href="/myblog/assets/js/page-VueCli源码分析.afc3c83f.js"><link rel="prefetch" href="/myblog/assets/js/page-VueRouter原理分析.0a092eb6.js"><link rel="prefetch" href="/myblog/assets/js/page-VueSSR原理分析.63006040.js"><link rel="prefetch" href="/myblog/assets/js/page-VueVsReact.2156be28.js"><link rel="prefetch" href="/myblog/assets/js/page-Vuex原理分析.5ba3e6e4.js"><link rel="prefetch" href="/myblog/assets/js/page-WEB安全.5aa0eeef.js"><link rel="prefetch" href="/myblog/assets/js/page-WebPack构建原理.9c29703e.js"><link rel="prefetch" href="/myblog/assets/js/page-webpackAPI分析.4c8b152b.js"><link rel="prefetch" href="/myblog/assets/js/page-webpack优化.dcc6c3bc.js"><link rel="prefetch" href="/myblog/assets/js/page-webpack基础.3820ee6c.js"><link rel="prefetch" href="/myblog/assets/js/page-webpack项目实践.77e22417.js"><link rel="prefetch" href="/myblog/assets/js/page-一次后台管理系统的性能优化.7c2d8712.js"><link rel="prefetch" href="/myblog/assets/js/page-从零到一搭建SSR项目.855376fc.js"><link rel="prefetch" href="/myblog/assets/js/page-从零到一搭建Vue2项目和规范设计.93017fd2.js"><link rel="prefetch" href="/myblog/assets/js/page-从零到一搭建Vue3单页面应用.de152d54.js"><link rel="prefetch" href="/myblog/assets/js/page-从零到一搭建公共组件库.93278073.js"><link rel="prefetch" href="/myblog/assets/js/page-从零到一搭建移动端SSG项目.9c113d06.js"><link rel="prefetch" href="/myblog/assets/js/page-使用docker部署Node服务.5cf328fd.js"><link rel="prefetch" href="/myblog/assets/js/page-分治.e3dfc22d.js"><link rel="prefetch" href="/myblog/assets/js/page-前端发版静态资源404问题.9eb1ca89.js"><link rel="prefetch" href="/myblog/assets/js/page-前端工程化.1e6e58d0.js"><link rel="prefetch" href="/myblog/assets/js/page-前端性能优化方案.83718d22.js"><link rel="prefetch" href="/myblog/assets/js/page-前端架构实践.171dbc0f.js"><link rel="prefetch" href="/myblog/assets/js/page-前端渲染架构.3b783de8.js"><link rel="prefetch" href="/myblog/assets/js/page-前端自动部署.5076846c.js"><link rel="prefetch" href="/myblog/assets/js/page-前端部署原理.82ecd8a7.js"><link rel="prefetch" href="/myblog/assets/js/page-动态规划.a3af92f1.js"><link rel="prefetch" href="/myblog/assets/js/page-哈希表.c76000e8.js"><link rel="prefetch" href="/myblog/assets/js/page-回溯算法.cd914c32.js"><link rel="prefetch" href="/myblog/assets/js/page-图.dfd9828a.js"><link rel="prefetch" href="/myblog/assets/js/page-基础.7bf5a37b.js"><link rel="prefetch" href="/myblog/assets/js/page-堆.4657e538.js"><link rel="prefetch" href="/myblog/assets/js/page-字符串.252f2a08.js"><link rel="prefetch" href="/myblog/assets/js/page-异步编程.904f4c65.js"><link rel="prefetch" href="/myblog/assets/js/page-性能优化指标和监控.f2175836.js"><link rel="prefetch" href="/myblog/assets/js/page-排序算法.c7a51b99.js"><link rel="prefetch" href="/myblog/assets/js/page-搭建低代码平台.19eaf5ec.js"><link rel="prefetch" href="/myblog/assets/js/page-操作系统.473c4281.js"><link rel="prefetch" href="/myblog/assets/js/page-数学运算.c82748fb.js"><link rel="prefetch" href="/myblog/assets/js/page-数据结构算法.84480586.js"><link rel="prefetch" href="/myblog/assets/js/page-数组.692b0d0a.js"><link rel="prefetch" href="/myblog/assets/js/page-权限管理.c7e10db0.js"><link rel="prefetch" href="/myblog/assets/js/page-查找.790e52df.js"><link rel="prefetch" href="/myblog/assets/js/page-栈和队列.8dbc3586.js"><link rel="prefetch" href="/myblog/assets/js/page-树.24efdeaa.js"><link rel="prefetch" href="/myblog/assets/js/page-浏览器.bee9ec04.js"><link rel="prefetch" href="/myblog/assets/js/page-混合桌面应用开发.9e10d1c3.js"><link rel="prefetch" href="/myblog/assets/js/page-登录.bb830451.js"><link rel="prefetch" href="/myblog/assets/js/page-目录.c85b4d0b.js"><link rel="prefetch" href="/myblog/assets/js/page-移动端开发.56ac22ec.js"><link rel="prefetch" href="/myblog/assets/js/page-组件和组件封装.b5e86da2.js"><link rel="prefetch" href="/myblog/assets/js/page-计算机网络基础.0a106662.js"><link rel="prefetch" href="/myblog/assets/js/page-设计模式.ffdc7cfd.js"><link rel="prefetch" href="/myblog/assets/js/page-调试技巧.485ae36e.js"><link rel="prefetch" href="/myblog/assets/js/page-贪心算法.0f417640.js"><link rel="prefetch" href="/myblog/assets/js/page-输入url到页面展示全过程.510aef2e.js"><link rel="prefetch" href="/myblog/assets/js/page-递归.5e55e552.js"><link rel="prefetch" href="/myblog/assets/js/page-链表.1cf6927f.js"><link rel="prefetch" href="/myblog/assets/js/page-项目总结.ffcd2a4b.js"><link rel="prefetch" href="/myblog/assets/js/vendors~docsearch.f3877d0d.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-components/Blog/BlogHome~layout-components/~5d377965.d9712593.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-Blog~layout-Layout~layout-components/Blog/ArticleItem~layout-components/Blog/ArticleL~b56f3aac.47bb5cb5.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-NotFound~layout-components/Common~layout-components/Page.57d58db9.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-Slide.81546b3b.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-components/AlgoliaSearch/Full.b30f067a.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-components/Blog/BlogPage.bcccbd38.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-components/Navbar/Navbar.e2a7361e.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-components/Page.6c65077c.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-components/Sidebar/Sidebar.34cd9cf7.js"><link rel="prefetch" href="/myblog/assets/js/vendors~photo-swipe.428df1da.js">
    <link rel="stylesheet" href="/myblog/assets/css/0.styles.645fbc6f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container has-navbar has-anchor"><header class="navbar"><!----> <div class="content__navbar-start"></div> <button title="Sidebar Button" class="sidebar-button"><span class="icon"></span></button> <a href="/myblog/" class="home-link router-link-active"><img src="./mylogo.png" alt="Sewen 博客" class="logo"> <!----> <span class="site-name can-hide">Sewen 博客</span></a> <!----> <div class="content__navbar-center"></div> <div class="links"><button tabindex="-1" aria-hidden="true" class="color-button"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="skin-icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4
        38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32
        51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0
        102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2
        6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4
        0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2
        9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224
        419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4
        470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0
        22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6
        12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128
        505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2
        16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8
        86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4
        80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6
        6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg> <div class="color-picker-menu" style="display:none;"><div class="theme-options"><ul class="themecolor-select"><label for="themecolor-select">Theme Color:</label> <li><span class="default-theme"></span></li> </ul> <div class="darkmode-toggle"><label for="darkmode-toggle" class="desc">Theme Mode:</label> <div class="darkmode-switch"><div class="item day"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon light-icon"><path d="M512 256a42.667 42.667 0 0 0 42.667-42.667V128a42.667 42.667 0 0 0-85.334 0v85.333A42.667 42.667 0 0 0 512 256zm384 213.333h-85.333a42.667 42.667 0 0 0 0 85.334H896a42.667 42.667 0 0 0 0-85.334zM256 512a42.667 42.667 0 0 0-42.667-42.667H128a42.667 42.667 0 0 0 0 85.334h85.333A42.667 42.667 0 0 0 256 512zm9.387-298.667a42.667 42.667 0 0 0-59.307 62.72l61.44 59.307a42.667 42.667 0 0 0 31.147 11.947 42.667 42.667 0 0 0 30.72-13.227 42.667 42.667 0 0 0 0-60.16zm459.946 133.974a42.667 42.667 0 0 0 29.44-11.947l61.44-59.307a42.667 42.667 0 0 0-57.6-62.72l-61.44 60.587a42.667 42.667 0 0 0 0 60.16 42.667 42.667 0 0 0 28.16 13.227zM512 768a42.667 42.667 0 0 0-42.667 42.667V896a42.667 42.667 0 0 0 85.334 0v-85.333A42.667 42.667 0 0 0 512 768zm244.48-79.36a42.667 42.667 0 0 0-59.307 61.44l61.44 60.587a42.667 42.667 0 0 0 29.44 11.946 42.667 42.667 0 0 0 30.72-12.8 42.667 42.667 0 0 0 0-60.586zm-488.96 0-61.44 59.307a42.667 42.667 0 0 0 0 60.586 42.667 42.667 0 0 0 30.72 12.8 42.667 42.667 0 0 0 28.587-10.666l61.44-59.307a42.667 42.667 0 0 0-59.307-61.44zM512 341.333A170.667 170.667 0 1 0 682.667 512 170.667 170.667 0 0 0 512 341.333z" fill="currentColor"></path></svg></div> <div class="item auto active"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon auto-icon"><path d="M460.864 539.072H564.8L510.592 376l-49.728 163.072zM872 362.368V149.504H659.648L510.528 0l-149.12 149.504H149.12v212.928L0 511.872l149.12 149.504v212.928h212.352l149.12 149.504 149.12-149.504h212.352V661.376l149.12-149.504L872 362.368zM614.464 693.12l-31.616-90.624H438.272l-31.616 90.624h-85.888l144.576-407.68h90.368l144.576 407.68h-85.824zm0 0" fill="currentColor"></path></svg></div> <div class="item night"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon dark-icon"><path d="M935.539 630.402c-11.43-11.432-28.674-14.739-43.531-8.354-46.734 20.103-96.363 30.297-147.508 30.297-99.59 0-193.221-38.784-263.64-109.203-108.637-108.637-139.61-270.022-78.908-411.148a39.497 39.497 0 0 0-51.886-51.887c-52.637 22.64-100.017 54.81-140.826 95.616-85.346 85.346-132.346 198.821-132.346 319.52 0 120.7 47.001 234.172 132.347 319.519S408.063 947.11 528.76 947.11c120.7 0 234.172-47.003 319.52-132.351 40.809-40.81 72.978-88.19 95.616-140.826a39.497 39.497 0 0 0-8.356-43.532z" fill="currentColor"></path></svg></div></div> <!----></div></div></div></button> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/myblog/" class="nav-link router-link-active"><!---->
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Front-end Basics" class="dropdown-title"><span class="title"><!---->
        前端基础
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/browser/html/" class="nav-link"><!---->
  HTML
</a></li><li class="dropdown-item"><a href="/myblog/browser/css/" class="nav-link"><!---->
  Css
</a></li><li class="dropdown-item"><a href="/myblog/browser/javascript/" class="nav-link"><!---->
  JavaScript
</a></li><li class="dropdown-item"><a href="/myblog/browser/typescript/" class="nav-link"><!---->
  TypeScript
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><span class="title"><!---->
        计算机基础
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/browser/algorithms/" class="nav-link"><!---->
  数据结构和算法
</a></li><li class="dropdown-item"><a href="/myblog/browser/network/" class="nav-link"><!---->
  计算机网络/HTTP
</a></li><li class="dropdown-item"><a href="/myblog/browser/network/输入url到页面展示全过程/" class="nav-link"><!---->
  输入url到页面展示全过程
</a></li><li class="dropdown-item"><a href="/myblog/browser/operating-system/" class="nav-link"><!---->
  操作系统
</a></li><li class="dropdown-item"><a href="/myblog/browser/design-model/" class="nav-link"><!---->
  设计模式
</a></li><li class="dropdown-item"><a href="/myblog/browser/Web-Security/" class="nav-link"><!---->
  Web安全
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架和源码分析" class="dropdown-title"><span class="title"><!---->
        框架和源码分析
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/browser/vue/Vue2原理和源码分析.html" class="nav-link"><!---->
  Vue 专题
</a></li><li class="dropdown-item"><a href="/myblog/browser/React/" class="nav-link"><!---->
  React 专题
</a></li><li class="dropdown-item"><a href="/myblog/browser/webpack/webpack构建原理.html" class="nav-link"><!---->
  webpack 专题
</a></li><li class="dropdown-item"><a href="/myblog/browser/vite/" class="nav-link"><!---->
  vite 专题
</a></li><li class="dropdown-item"><a href="/myblog/browser/axios/" class="nav-link"><!---->
  Axios 专题
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="浏览器" class="dropdown-title"><span class="title"><!---->
        浏览器
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/browser/browser/浏览器原理/" class="nav-link"><!---->
  浏览器原理
</a></li><li class="dropdown-item"><a href="/myblog/browser/browser/前端缓存和存储/" class="nav-link"><!---->
  前端缓存和存储
</a></li><li class="dropdown-item"><a href="/myblog/browser/performance/前端调试技巧/" class="nav-link"><!---->
  前端调试技巧
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="node.js" class="dropdown-title"><span class="title"><!---->
        服务器
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/browser/node/" class="nav-link"><!---->
  Node.js
</a></li><li class="dropdown-item"><a href="/myblog/browser/linux/" class="nav-link"><!---->
  Linux
</a></li><li class="dropdown-item"><a href="/myblog/browser/mysql/" class="nav-link"><!---->
  MySQL
</a></li><li class="dropdown-item"><a href="/myblog/browser/nginx/" class="nav-link"><!---->
  Nginx
</a></li><li class="dropdown-item"><a href="/myblog/browser/docker/" class="nav-link"><!---->
  Docker
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="浏览器和性能优化" class="dropdown-title"><span class="title"><!---->
        性能优化
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/browser/performance/性能优化指标和监控/" class="nav-link"><!---->
  性能优化指标和监控
</a></li><li class="dropdown-item"><a href="/myblog/browser/performance/前端性能优化方案/" class="nav-link"><!---->
  前端性能优化方案
</a></li><li class="dropdown-item"><a href="/myblog/browser/performance/一次管理后台的渲染优化/" class="nav-link"><!---->
  一次管理后台的渲染优化
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端工程" class="dropdown-title"><span class="title"><!---->
        前端工程
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/browser/Front-end-Engineering/前端工程化/" class="nav-link"><!---->
  前端工程化
</a></li><li class="dropdown-item"><a href="/myblog/browser/Front-end-Engineering/前端渲染架构/" class="nav-link"><!---->
  前端渲染架构
</a></li><li class="dropdown-item"><a href="/myblog/browser/Front-end-Engineering/前端架构实践/" class="nav-link"><!---->
  前端架构实践
</a></li><li class="dropdown-item"><a href="/myblog/browser/Front-end-Engineering/npm/" class="nav-link"><!---->
  npm
</a></li><li class="dropdown-item"><a href="/myblog/browser/git/" class="nav-link"><!---->
  Git
</a></li><li class="dropdown-item"><a href="/myblog/browser/projectDeploy/自动构建和部署/" class="nav-link"><!---->
  自动构建和部署
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目实践" class="dropdown-title"><span class="title"><!---->
        项目实践
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/browser/projectDeploy/" class="nav-link"><!---->
  前端部署
</a></li><li class="dropdown-item"><a href="/myblog/browser/componentsEncapsulation/组件和组件封装实践.html" class="nav-link"><!---->
  组件和组件封装实践
</a></li><li class="dropdown-item"><a href="/myblog/browser/projectsSummary/登录与单点登录/" class="nav-link"><!---->
  登录与单点登录
</a></li><li class="dropdown-item"><a href="/myblog/browser/projectsSummary/权限管理方案实践/" class="nav-link"><!---->
  权限管理方案实践
</a></li><li class="dropdown-item"><a href="/myblog/browser/projectsSummary/Echarts二次封装实践/" class="nav-link"><!---->
  Echarts二次封装实践
</a></li><li class="dropdown-item"><a href="/myblog/browser/projectsSummary/文档在线预览和编辑方案/" class="nav-link"><!---->
  文档在线预览和编辑方案
</a></li><li class="dropdown-item"><a href="/myblog/browser/projectsSummary/移动端开发实践/" class="nav-link"><!---->
  移动端开发实践
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目搭建到原理分析" class="dropdown-title"><span class="title"><!---->
        项目搭建
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/browser/projectsSummary/从零到一搭建SSR项目/" class="nav-link"><!---->
  从零到一搭建SSR项目
</a></li><li class="dropdown-item"><a href="/myblog/browser/projectsSummary/从零到一搭建移动端SSG项目/" class="nav-link"><!---->
  从零到一搭建移动端SSG项目
</a></li><li class="dropdown-item"><a href="/myblog/browser/projectsSummary/移动端SSG项目实践/" class="nav-link"><!---->
  移动端SSG项目实践
</a></li><li class="dropdown-item"><a href="/myblog/browser/projectsSummary/从零到一搭建Vue2工程化项目/" class="nav-link"><!---->
  从零到一搭建Vue2工程化项目
</a></li><li class="dropdown-item"><a href="/myblog/browser/projectsSummary/从零到一搭建Vue3工程化项目/" class="nav-link"><!---->
  从零到一搭建Vue3工程化项目
</a></li><li class="dropdown-item"><a href="/myblog/browser/projectsSummary/搭建低代码平台/" class="nav-link"><!---->
  搭建低代码平台
</a></li><li class="dropdown-item"><a href="/myblog/browser/projectsSummary/混合桌面应用开发实践/" class="nav-link"><!---->
  混合桌面应用开发实践
</a></li></ul></div></div></nav> <!----> <!----> <!----> <div class="content__navbar-end"></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><div vocab="https://schema.org/" typeof="Person" class="blogger-info mobile"><div data-balloon-pos="down" role="navigation" class="blogger hasIntro"><img property="image" alt="Blogger Avatar" src="./mylogo.png" class="avatar round"> <div property="name" class="name">Sewen 博客</div> <meta property="url" content="../outline.md"></div> <div class="num-wrapper"><div><div class="num">91</div> <div>Articles</div></div> <div><div class="num">0</div> <div>Category</div></div> <div><div class="num">0</div> <div>Tags</div></div> <div><div class="num">91</div> <div>Timeline</div></div></div> <div class="media-links-wrapper"><a href="https://github.com/Sewar-x/myblog" rel="noopener noreferrer" target="_blank" aria-label="Github" data-balloon-pos="up" class="media-link"><span class="sr-only">Github</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-github"><circle cx="512" cy="512" r="512" fill="#171515"></circle> <path d="M509.423 146.442c-200.317 0-362.756 162.42-362.756 362.8 0 160.266 103.936 296.24 248.109 344.217 18.139 3.327 24.76-7.872 24.76-17.486 0-8.613-.313-31.427-.49-61.702-100.912 21.923-122.205-48.63-122.205-48.63-16.495-41.91-40.28-53.067-40.28-53.067-32.937-22.51 2.492-22.053 2.492-22.053 36.407 2.566 55.568 37.386 55.568 37.386 32.362 55.438 84.907 39.43 105.58 30.143 3.296-23.444 12.667-39.43 23.032-48.498-80.557-9.156-165.246-40.28-165.246-179.297 0-39.604 14.135-71.988 37.342-97.348-3.731-9.178-16.18-46.063 3.556-96.009 0 0 30.46-9.754 99.76 37.19 28.937-8.048 59.97-12.071 90.823-12.211 30.807.14 61.843 4.165 90.822 12.21 69.26-46.944 99.663-37.189 99.663-37.189 19.792 49.946 7.34 86.831 3.61 96.01 23.25 25.359 37.29 57.742 37.29 97.347 0 139.366-84.82 170.033-165.637 179.013 13.026 11.2 24.628 33.342 24.628 67.182 0 48.498-.445 87.627-.445 99.521 0 9.702 6.535 20.988 24.945 17.444 144.03-48.067 247.881-183.95 247.881-344.175 0-200.378-162.442-362.798-362.802-362.798z" fill="#FFF"></path></svg></a><a href="1567910907" rel="noopener noreferrer" target="_blank" aria-label="Wechat" data-balloon-pos="up" class="media-link"><span class="sr-only">Wechat</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-wechat"><circle cx="512" cy="512" r="512" fill="#1AC88E"></circle> <path d="M827.551 578.742a176.583 176.583 0 0 0-185.685-158.379 172.942 172.942 0 0 0-186.3 158.379 172.942 172.942 0 0 0 185.686 158.379 282.169 282.169 0 0 0 65.536-10.923l60.689 32.768-16.384-54.613a166.275 166.275 0 0 0 76.458-125.611zm-245.76-27.307a21.845 21.845 0 1 1 0-43.69 24.872 24.872 0 0 1 27.307 21.845 24.872 24.872 0 0 1-27.921 21.845h.614zm121.356 0a21.845 21.845 0 1 1 0-43.69 24.872 24.872 0 0 1 27.306 21.845 24.872 24.872 0 0 1-28.512 21.845h1.206z" fill="#FFF"></path> <path d="M623.662 400.953h21.23A222.709 222.709 0 0 0 419.772 245.6a208.145 208.145 0 0 0-223.323 189.94 182.044 182.044 0 0 0 89.201 150.483l-22.436 67.356 78.279-39.435a389.575 389.575 0 0 0 78.279 10.923h20.616a163.226 163.226 0 0 1-6.667-46.718 182.044 182.044 0 0 1 189.94-177.197zm-121.379-60.69a27.921 27.921 0 1 1 0 55.843 31.562 31.562 0 0 1-33.36-27.921 31.562 31.562 0 0 1 34.59-27.921h-1.23zM346.34 396.107a31.562 31.562 0 0 1-33.383-27.921 31.562 31.562 0 0 1 33.383-27.921 27.921 27.921 0 1 1 0 55.842z" fill="#FFF"></path></svg></a></div></div> <hr> <!----> <div class="content__sidebar-top"></div> <nav class="sidebar-nav-links"><div class="nav-item"><a href="/myblog/" class="nav-link router-link-active"><!---->
  首页
</a></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="Front-end Basics" class="dropdown-title"><span class="title"><!---->
      前端基础
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/browser/html/" class="nav-link"><!---->
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/myblog/browser/css/" class="nav-link"><!---->
  Css
</a></li><li class="dropdown-item"><!----> <a href="/myblog/browser/javascript/" class="nav-link"><!---->
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/myblog/browser/typescript/" class="nav-link"><!---->
  TypeScript
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><span class="title"><!---->
      计算机基础
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/browser/algorithms/" class="nav-link"><!---->
  数据结构和算法
</a></li><li class="dropdown-item"><!----> <a href="/myblog/browser/network/" class="nav-link"><!---->
  计算机网络/HTTP
</a></li><li class="dropdown-item"><!----> <a href="/myblog/browser/network/输入url到页面展示全过程/" class="nav-link"><!---->
  输入url到页面展示全过程
</a></li><li class="dropdown-item"><!----> <a href="/myblog/browser/operating-system/" class="nav-link"><!---->
  操作系统
</a></li><li class="dropdown-item"><!----> <a href="/myblog/browser/design-model/" class="nav-link"><!---->
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/myblog/browser/Web-Security/" class="nav-link"><!---->
  Web安全
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="框架和源码分析" class="dropdown-title"><span class="title"><!---->
      框架和源码分析
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/browser/vue/Vue2原理和源码分析.html" class="nav-link"><!---->
  Vue 专题
</a></li><li class="dropdown-item"><!----> <a href="/myblog/browser/React/" class="nav-link"><!---->
  React 专题
</a></li><li class="dropdown-item"><!----> <a href="/myblog/browser/webpack/webpack构建原理.html" class="nav-link"><!---->
  webpack 专题
</a></li><li class="dropdown-item"><!----> <a href="/myblog/browser/vite/" class="nav-link"><!---->
  vite 专题
</a></li><li class="dropdown-item"><!----> <a href="/myblog/browser/axios/" class="nav-link"><!---->
  Axios 专题
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="浏览器" class="dropdown-title"><span class="title"><!---->
      浏览器
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/browser/browser/浏览器原理/" class="nav-link"><!---->
  浏览器原理
</a></li><li class="dropdown-item"><!----> <a href="/myblog/browser/browser/前端缓存和存储/" class="nav-link"><!---->
  前端缓存和存储
</a></li><li class="dropdown-item"><!----> <a href="/myblog/browser/performance/前端调试技巧/" class="nav-link"><!---->
  前端调试技巧
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="node.js" class="dropdown-title"><span class="title"><!---->
      服务器
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/browser/node/" class="nav-link"><!---->
  Node.js
</a></li><li class="dropdown-item"><!----> <a href="/myblog/browser/linux/" class="nav-link"><!---->
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/myblog/browser/mysql/" class="nav-link"><!---->
  MySQL
</a></li><li class="dropdown-item"><!----> <a href="/myblog/browser/nginx/" class="nav-link"><!---->
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/myblog/browser/docker/" class="nav-link"><!---->
  Docker
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="浏览器和性能优化" class="dropdown-title"><span class="title"><!---->
      性能优化
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/browser/performance/性能优化指标和监控/" class="nav-link"><!---->
  性能优化指标和监控
</a></li><li class="dropdown-item"><!----> <a href="/myblog/browser/performance/前端性能优化方案/" class="nav-link"><!---->
  前端性能优化方案
</a></li><li class="dropdown-item"><!----> <a href="/myblog/browser/performance/一次管理后台的渲染优化/" class="nav-link"><!---->
  一次管理后台的渲染优化
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="前端工程" class="dropdown-title"><span class="title"><!---->
      前端工程
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/browser/Front-end-Engineering/前端工程化/" class="nav-link"><!---->
  前端工程化
</a></li><li class="dropdown-item"><!----> <a href="/myblog/browser/Front-end-Engineering/前端渲染架构/" class="nav-link"><!---->
  前端渲染架构
</a></li><li class="dropdown-item"><!----> <a href="/myblog/browser/Front-end-Engineering/前端架构实践/" class="nav-link"><!---->
  前端架构实践
</a></li><li class="dropdown-item"><!----> <a href="/myblog/browser/Front-end-Engineering/npm/" class="nav-link"><!---->
  npm
</a></li><li class="dropdown-item"><!----> <a href="/myblog/browser/git/" class="nav-link"><!---->
  Git
</a></li><li class="dropdown-item"><!----> <a href="/myblog/browser/projectDeploy/自动构建和部署/" class="nav-link"><!---->
  自动构建和部署
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="项目实践" class="dropdown-title"><span class="title"><!---->
      项目实践
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/browser/projectDeploy/" class="nav-link"><!---->
  前端部署
</a></li><li class="dropdown-item"><!----> <a href="/myblog/browser/componentsEncapsulation/组件和组件封装实践.html" class="nav-link"><!---->
  组件和组件封装实践
</a></li><li class="dropdown-item"><!----> <a href="/myblog/browser/projectsSummary/登录与单点登录/" class="nav-link"><!---->
  登录与单点登录
</a></li><li class="dropdown-item"><!----> <a href="/myblog/browser/projectsSummary/权限管理方案实践/" class="nav-link"><!---->
  权限管理方案实践
</a></li><li class="dropdown-item"><!----> <a href="/myblog/browser/projectsSummary/Echarts二次封装实践/" class="nav-link"><!---->
  Echarts二次封装实践
</a></li><li class="dropdown-item"><!----> <a href="/myblog/browser/projectsSummary/文档在线预览和编辑方案/" class="nav-link"><!---->
  文档在线预览和编辑方案
</a></li><li class="dropdown-item"><!----> <a href="/myblog/browser/projectsSummary/移动端开发实践/" class="nav-link"><!---->
  移动端开发实践
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="项目搭建到原理分析" class="dropdown-title"><span class="title"><!---->
      项目搭建
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/browser/projectsSummary/从零到一搭建SSR项目/" class="nav-link"><!---->
  从零到一搭建SSR项目
</a></li><li class="dropdown-item"><!----> <a href="/myblog/browser/projectsSummary/从零到一搭建移动端SSG项目/" class="nav-link"><!---->
  从零到一搭建移动端SSG项目
</a></li><li class="dropdown-item"><!----> <a href="/myblog/browser/projectsSummary/移动端SSG项目实践/" class="nav-link"><!---->
  移动端SSG项目实践
</a></li><li class="dropdown-item"><!----> <a href="/myblog/browser/projectsSummary/从零到一搭建Vue2工程化项目/" class="nav-link"><!---->
  从零到一搭建Vue2工程化项目
</a></li><li class="dropdown-item"><!----> <a href="/myblog/browser/projectsSummary/从零到一搭建Vue3工程化项目/" class="nav-link"><!---->
  从零到一搭建Vue3工程化项目
</a></li><li class="dropdown-item"><!----> <a href="/myblog/browser/projectsSummary/搭建低代码平台/" class="nav-link"><!---->
  搭建低代码平台
</a></li><li class="dropdown-item"><!----> <a href="/myblog/browser/projectsSummary/混合桌面应用开发实践/" class="nav-link"><!---->
  混合桌面应用开发实践
</a></li></ul></div></div> <!----></nav> <!----> <div class="content__sidebar-center"></div> <!----> <!----> <div class="content__sidebar-bottom"></div> <!----></aside> <main class="page"><nav class="breadcrumb disable"><!----></nav> <!----> <div class="content__page-top"></div> <div vocab="https://schema.org/" typeof="Article" class="page-title"><h1><!----> <span property="headline">前端存储</span></h1> <div class="page-info"><!----> <true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info></div> <!----> <hr></div> <div class="anchor-place-holder"><aside id="anchor"><div class="anchor-wrapper"><ul class="anchor-list"><li class="anchor"><a href="/myblog/browser/%E5%89%8D%E7%AB%AF%E7%BC%93%E5%AD%98%E5%92%8C%E5%AD%98%E5%82%A8/#前端缓存和存储分类" class="anchor-link heading2"><div>前端缓存和存储分类</div></a></li><li class="anchor"><a href="/myblog/browser/%E5%89%8D%E7%AB%AF%E7%BC%93%E5%AD%98%E5%92%8C%E5%AD%98%E5%82%A8/#localstorage-和-sessionstorage" class="anchor-link heading2"><div>LocalStorage 和 sessionStorage</div></a></li><li class="anchor"><a href="/myblog/browser/%E5%89%8D%E7%AB%AF%E7%BC%93%E5%AD%98%E5%92%8C%E5%AD%98%E5%82%A8/#cookie" class="anchor-link heading2"><div>Cookie</div></a></li><li class="anchor"><a href="/myblog/browser/%E5%89%8D%E7%AB%AF%E7%BC%93%E5%AD%98%E5%92%8C%E5%AD%98%E5%82%A8/#session" class="anchor-link heading2"><div>Session</div></a></li><li class="anchor"><a href="/myblog/browser/%E5%89%8D%E7%AB%AF%E7%BC%93%E5%AD%98%E5%92%8C%E5%AD%98%E5%82%A8/#cookie和session区别" class="anchor-link heading2"><div>cookie和session区别</div></a></li><li class="anchor"><a href="/myblog/browser/%E5%89%8D%E7%AB%AF%E7%BC%93%E5%AD%98%E5%92%8C%E5%AD%98%E5%82%A8/#缓存分类" class="anchor-link heading2"><div>缓存分类</div></a></li><li class="anchor"><a href="/myblog/browser/%E5%89%8D%E7%AB%AF%E7%BC%93%E5%AD%98%E5%92%8C%E5%AD%98%E5%82%A8/#浏览器缓存机制" class="anchor-link heading2"><div>浏览器缓存机制</div></a></li><li class="anchor"><a href="/myblog/browser/%E5%89%8D%E7%AB%AF%E7%BC%93%E5%AD%98%E5%92%8C%E5%AD%98%E5%82%A8/#优点" class="anchor-link heading3"><div>优点</div></a></li><li class="anchor"><a href="/myblog/browser/%E5%89%8D%E7%AB%AF%E7%BC%93%E5%AD%98%E5%92%8C%E5%AD%98%E5%82%A8/#缓存位置" class="anchor-link heading3"><div>缓存位置</div></a></li><li class="anchor"><a href="/myblog/browser/%E5%89%8D%E7%AB%AF%E7%BC%93%E5%AD%98%E5%92%8C%E5%AD%98%E5%82%A8/#缓存机制" class="anchor-link heading3"><div>缓存机制</div></a></li><li class="anchor"><a href="/myblog/browser/%E5%89%8D%E7%AB%AF%E7%BC%93%E5%AD%98%E5%92%8C%E5%AD%98%E5%82%A8/#用户行为分析" class="anchor-link heading3"><div>用户行为分析</div></a></li><li class="anchor"><a href="/myblog/browser/%E5%89%8D%E7%AB%AF%E7%BC%93%E5%AD%98%E5%92%8C%E5%AD%98%E5%82%A8/#常见缓存问题" class="anchor-link heading3"><div>常见缓存问题</div></a></li><li class="anchor"><a href="/myblog/browser/%E5%89%8D%E7%AB%AF%E7%BC%93%E5%AD%98%E5%92%8C%E5%AD%98%E5%82%A8/#service-workers-缓存" class="anchor-link heading2"><div>Service Workers 缓存</div></a></li></ul></div></aside></div> <!----> <div class="content__content-top"></div> <div class="theme-default-content content__default"><h1 id="前端存储"><a href="#前端存储" class="header-anchor">#</a> 前端存储</h1> <h2 id="前端缓存和存储分类"><a href="#前端缓存和存储分类" class="header-anchor">#</a> <strong>前端缓存和存储分类</strong></h2> <p><img src="data:image/png;base64,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" alt=""></p> <ul><li><strong>存储技术发展史</strong></li></ul> <p><img src="/myblog/assets/img/cunchu2.9d5968e5.png" alt=""></p> <ul><li><strong>存储技术介绍</strong></li></ul> <p><img src="/myblog/assets/img/cunchu3.e12ca91f.png" alt=""></p> <h2 id="localstorage-和-sessionstorage"><a href="#localstorage-和-sessionstorage" class="header-anchor">#</a> LocalStorage 和 sessionStorage</h2> <blockquote><p>LocalStorage和sessionStorage都是HTML5提供的Web存储机制，它们通过键值对的形式存储数据，并且仅限于在浏览器端使用。</p></blockquote> <table><thead><tr><th></th> <th>LocalStorage</th> <th>SessionStorage</th></tr></thead> <tbody><tr><td>作用</td> <td>用于在浏览器端存储持久化数据</td> <td>用于在浏览器端存储会话期间的临时数据</td></tr> <tr><td>特点</td> <td>- <strong>数据持久化</strong>：存储的数据在浏览器关闭后仍然存在<br>- 容量较大：一般情况下，LocalStorage的容量较大，通常为5MB或更大<br>- <strong>跨标签页共享</strong>：同一域名下的不同标签页可以共享同一个LocalStorage的数据</td> <td>- <strong>数据会话期间有效</strong>：存储的数据仅在当前会话期间有效，会话结束时数据被清除<br>- 容量较小：一般情况下，SessionStorage的容量较小，通常为5MB或更小<br>- <strong>不跨标签页共享</strong>：不同标签页之间的SessionStorage数据不共享</td></tr> <tr><td>差异</td> <td>- 生命周期：LocalStorage的数据没有过期时间，除非主动清除，否则会一直存在<br>- 数据共享：LocalStorage的数据在同一域名下的不同标签页之间共享<br>- 存储量：LocalStorage的容量较大</td> <td>- 生命周期：SessionStorage的数据仅在当前会话期间有效，关闭标签页或浏览器后数据被清除<br>- 数据不共享：SessionStorage的数据不在不同标签页之间共享<br>- 存储量：SessionStorage的容量较小</td></tr> <tr><td>适用场景</td> <td>- 长期存储用户偏好设置、用户身份信息等<br>- 缓存静态资源，提高网站性能<br>- 本地数据存储和离线应用程序</td> <td>- 临时存储表单数据、页面状态等<br>- 多个页面间的数据共享<br>- 敏感数据的短期存储和使用</td></tr> <tr><td>API</td> <td><code>localStorage.setItem(key, value)</code>: 将指定的键值对存储到LocalStorage中。 <code>localStorage.getItem(key)</code>: 根据键获取LocalStorage中存储的值。 <code>localStorage.removeItem(key)</code>: 根据键从LocalStorage中移除对应的键值对。 <code>localStorage.clear()</code>: 清除LocalStorage中的所有键值对。 <code>localStorage.key(index)</code>: 获取LocalStorage中指定索引位置的键名。 <code>localStorage.length</code>: 获取LocalStorage中存储的键值对数量。</td> <td><code>sessionStorage.setItem(key, value)</code>: 将指定的键值对存储到SessionStorage中。 <code>sessionStorage.getItem(key)</code>: 根据键获取SessionStorage中存储的值。 <code>sessionStorage.removeItem(key)</code>: 根据键从SessionStorage中移除对应的键值对。 <code>sessionStorage.clear()</code>: 清除SessionStorage中的所有键值对。 <code>sessionStorage.key(index)</code>: 获取SessionStorage中指定索引位置的键名。 <code>sessionStorage.length</code>: 获取SessionStorage中存储的键值对数量。</td></tr></tbody></table> <h2 id="cookie"><a href="#cookie" class="header-anchor">#</a> Cookie</h2> <p><img src="/myblog/assets/img/cookiets.55a5d394.png" alt=""></p> <ul><li><p>cookie 同源限制：Cookie 是服务器写入浏览器的一小段信息，只有同源的网页才能共享。</p></li> <li><p>两个网页一级域名相同，只是二级域名不同，浏览器允许通过设置<code>document.domain</code>共享 Cookie。</p> <ul><li>A网页是<code>http://w1.example.com/a.html</code>，B网页是<code>http://w2.example.com/b.html</code>，那么只要设置相同的<code>document.domain</code>，两个网页就可以共享Cookie。</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>document.domain <span class="token operator">=</span> <span class="token string">'example.com'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>现在，A网页通过脚本设置一个 Cookie。</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>document.cookie <span class="token operator">=</span> <span class="token string">&quot;test1=hello&quot;</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>B网页就可以读到这个 Cookie。</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>var allCookie <span class="token operator">=</span> document.cookie<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>服务器也可以在设置Cookie的时候，指定Cookie的所属域名为一级域名，比如<code>.example.com</code>。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>Set-Cookie: <span class="token assign-left variable">key</span><span class="token operator">=</span>value<span class="token punctuation">;</span> <span class="token assign-left variable">domain</span><span class="token operator">=</span>.example.com<span class="token punctuation">;</span> <span class="token assign-left variable">path</span><span class="token operator">=</span>/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这样的话，二级域名和三级域名不用做任何设置，都可以读取这个Cookie。</p></li></ul> <p><strong>常见问题</strong></p> <blockquote><p>服务器代理转发时，该如何处理 cookie？</p></blockquote> <ul><li><p>服务器端可以使用 Set-Cookie 的响应头部来配置 cookie 信息。</p></li> <li><p>一条 cookie 包括了 5 个属性值 expires、domain、path、secure、HttpOnly。其中 expires 指定了 cookie 失 效的时间，domain 是域名、path 是路径，domain 和 path 一起限制了 cookie 能够被哪些 url 访问。secure 规定了 cookie 只能在确保安全的情况下传输，HttpOnly 规定了这个 cookie 只能被服务器访问，不能使用 js 脚本访问。</p></li> <li><p>在发生 xhr 的跨域请求的时候，即使是同源下的 cookie，也不会被自动添加到请求头部，除非显示地规定。</p></li></ul> <h2 id="session"><a href="#session" class="header-anchor">#</a> Session</h2> <p><img src="/myblog/assets/img/session.426b49f4.png" alt=""></p> <h2 id="cookie和session区别"><a href="#cookie和session区别" class="header-anchor">#</a> <strong>cookie和session区别</strong></h2> <table><thead><tr><th style="text-align:left;"></th> <th style="text-align:left;">Cookies</th> <th>Session</th></tr></thead> <tbody><tr><td style="text-align:left;">存储位置</td> <td style="text-align:left;">客户端（浏览器）</td> <td>服务器端</td></tr> <tr><td style="text-align:left;">数据存储方式</td> <td style="text-align:left;">文本文件</td> <td>服务器内存/数据库</td></tr> <tr><td style="text-align:left;">数据类型</td> <td style="text-align:left;">小型文本数据</td> <td>任意类型数据</td></tr> <tr><td style="text-align:left;">可存储数据量</td> <td style="text-align:left;">通常较小</td> <td>通常较大</td></tr> <tr><td style="text-align:left;">安全性</td> <td style="text-align:left;">相对较低</td> <td>相对较高</td></tr> <tr><td style="text-align:left;">数据访问方式</td> <td style="text-align:left;">客户端可读写</td> <td>服务器端可读写</td></tr> <tr><td style="text-align:left;">生命周期</td> <td style="text-align:left;">可设定过期时间</td> <td>可设定过期时间</td></tr> <tr><td style="text-align:left;">数据传输</td> <td style="text-align:left;">每次请求都携带</td> <td>通过会话ID传递</td></tr> <tr><td style="text-align:left;">并发性</td> <td style="text-align:left;">并发请求独立</td> <td>并发请求共享</td></tr> <tr><td style="text-align:left;">跨会话访问</td> <td style="text-align:left;">是</td> <td>是</td></tr> <tr><td style="text-align:left;">跨域名/子域名访问</td> <td style="text-align:left;">可配置</td> <td>可配置</td></tr> <tr><td style="text-align:left;">用途</td> <td style="text-align:left;">存储持久化数据</td> <td>存储用户会话数据</td></tr> <tr><td style="text-align:left;">修改数据权限</td> <td style="text-align:left;">客户端可修改</td> <td>服务器端控制</td></tr> <tr><td style="text-align:left;">对服务器资源的依赖性</td> <td style="text-align:left;">无</td> <td>需要存储和管理</td></tr></tbody></table> <img src="/myblog/assets/img/cookies和session区别.ea25cef0.png" alt="image-20240119144746017" style="zoom:50%;"> <h2 id="缓存分类"><a href="#缓存分类" class="header-anchor">#</a> 缓存分类</h2> <p><img src="/myblog/assets/img/缓存分类.15be0734.png" alt="image-20240119145903618"></p> <h2 id="浏览器缓存机制"><a href="#浏览器缓存机制" class="header-anchor">#</a> 浏览器缓存机制</h2> <blockquote><p>客户端缓存主要为浏览器缓存，浏览器缓存是浏览器在访问网页时用于存储资源的一种机制，它可以提高网页加载速度和减轻服务器负载。</p></blockquote> <p><img src="/myblog/assets/img/浏览器缓存.20d15e83.png" alt=""></p> <h3 id="优点"><a href="#优点" class="header-anchor">#</a> <strong>优点</strong></h3> <ol><li><strong>响应速度快</strong>: 不需要将请求传递到源服务器，因此客户端和缓存越近，响应速度就越快。最典型的例子是浏览器本身为浏览器请求存储缓存。</li> <li><strong>减少服务器负载</strong>: 当响应可复用时，源服务器不需要处理请求——因为它不需要解析和路由请求、根据 cookie 恢复会话、查询数据库以获取结果或渲染模板引擎。这减少了服务器上的负载。</li></ol> <h3 id="缓存位置"><a href="#缓存位置" class="header-anchor">#</a> 缓存位置</h3> <p>从缓存位置上来说分为四种，并且各自有优先级，当依次查找缓存且都没有命中的时候，才会去请求网络。</p> <ul><li><strong>Service Worker</strong></li> <li><strong>Memory Cache</strong></li> <li><strong>Disk Cache</strong></li> <li><strong>Push Cache</strong></li></ul> <h4 id="memory-cache"><a href="#memory-cache" class="header-anchor">#</a> <strong>Memory Cache</strong></h4> <p>Memory Cache 也就是内存中的缓存，主要包含的是当前中页面中已经抓取到的资源,例如页面上已经下载的样式、脚本、图片等。读取内存中的数据肯定比磁盘快,内存缓存虽然读取高效，可是缓存持续性很短，会随着进程的释放而释放。</p> <p><strong>特点：</strong></p> <ul><li><strong>内存缓存适用于频繁访问的资源</strong>，例如网页的Logo图标、CSS样式和JavaScript文件等。</li> <li><strong>一旦我们关闭 Tab 页面，内存中的缓存也就被释放了</strong>；</li> <li>内存缓存的存储容量较小，通常只有几百KB到几十MB；</li> <li><strong>内存缓存在缓存资源时并不关心返回资源的HTTP缓存头Cache-Control是什么值，同时资源的匹配也并非仅仅是对URL做匹配，还可能会对Content-Type，CORS等其他特征做校验</strong>；</li></ul> <p>当我们访问过页面以后，再次刷新页面，可以发现很多数据都来自于内存缓存<img src="/myblog/assets/img/缓存.de856690.png" alt=""></p> <p>内存缓存中有一块重要的缓存资源是preloader相关指令（例如 <code>&lt;linkrel=&quot;prefetch&quot;&gt;</code>）下载的资源。(preloader的相关指令已经是页面优化的常见手段之一，它可以一边解析js/css文件，一边网络请求下一个资源)。</p> <h4 id="disk-cache"><a href="#disk-cache" class="header-anchor">#</a> <strong>Disk Cache</strong></h4> <p>Disk Cache 也就是存储在硬盘中的缓存，读取速度较慢，但是什么都能存储到磁盘中，<strong>比之 Memory Cache 胜在容量和存储时效性上</strong>。</p> <p><strong>特点：</strong></p> <ul><li>在所有浏览器缓存中，Disk Cache 覆盖面基本是最大的。磁盘缓存的存储容量相对较大，可以达到几百MB到几GB。</li> <li>Disk Cache会根据 HTTP Herder 中的字段判断哪些资源需要缓存，哪些资源可以不请求直接使用，哪些资源已经过期需要重新请求。并且即使在跨站点的情况下，相同地址的资源一旦被硬盘缓存下来，就不会再次去请求数据。</li> <li>绝大部分的缓存都来自 Disk Cache。</li></ul> <h4 id="service-worker"><a href="#service-worker" class="header-anchor">#</a> <strong>Service Worker</strong></h4> <p>Service Worker 是运行在浏览器背后的独立线程，一般可以用来实现缓存功能。使用 Service Worker的话，传输协议必须为 HTTPS。因为 Service Worker 中涉及到请求拦截，所以必须使用 HTTPS 协议来保障安全。</p> <p><strong>Service Worker 的缓存与浏览器其他内建的缓存机制不同，它可以让我们自由控制缓存哪些文件、如何匹配缓存、如何读取缓存，并且缓存是持续性的</strong>。</p> <p><strong>实现</strong></p> <p>Service Worker 实现缓存功能一般分为三个步骤：首先需要先注册 Service Worker，然后监听到 install 事件以后就可以缓存需要的文件，那么在下次用户访问的时候就可以通过拦截请求的方式查询是否存在缓存，存在缓存的话就可以直接读取缓存文件，否则就去请求数据。</p> <p>当 Service Worker 没有命中缓存的时候，我们需要去调用 fetch 函数获取数据。也就是说，如果我们没有在 Service Worker 命中缓存的话，会根据缓存查找优先级去查找数据。但是不管我们是从 Memory Cache 中还是从网络请求中获取的数据，浏览器都会显示我们是从 Service Worker 中获取的内容。</p> <h4 id="push-cache"><a href="#push-cache" class="header-anchor">#</a> <strong>Push Cache</strong></h4> <p>Push Cache（推送缓存）是 HTTP/2 中的内容，当以上三种缓存都没有命中时，它才会被使用。<strong>它只在会话（Session）中存在，一旦会话结束就被释放，并且缓存时间也很短暂</strong>，在Chrome浏览器中只有5分钟左右，同时它也并非严格执行HTTP头中的缓存指令。</p> <p><strong>特点：</strong></p> <ul><li>所有的资源都能被推送，并且能够被缓存,但是 Edge 和 Safari 浏览器支持相对比较差</li> <li>可以推送 no-cache 和 no-store 的资源</li> <li>一旦连接被关闭，Push Cache 就被释放</li> <li>多个页面可以使用同一个 HTTP/2 的连接，也就可以使用同一个Push Cache。这主要还是依赖浏览器的实现而定，出于对性能的考虑，有的浏览器会对相同域名但不同的tab标签使用同一个HTTP连接。</li> <li>Push Cache 中的缓存只能被使用一次</li> <li>浏览器可以拒绝接受已经存在的资源推送</li> <li>可以给其他域名推送资源</li></ul> <h4 id="四种缓存对比"><a href="#四种缓存对比" class="header-anchor">#</a> <strong>四种缓存对比</strong></h4> <table><thead><tr><th>缓存位置</th> <th>相同点</th> <th>不同点</th> <th>特点和适用场景</th></tr></thead> <tbody><tr><td>Memory Cache</td> <td>- 存储在浏览器的内存中<br>- 读取速度快<br>- 生命周期较短</td> <td>- 存储容量较小<br>- 关闭浏览器或标签页后会被清除</td> <td>- 适用于频繁访问的资源，如网页的Logo图标、CSS样式和JavaScript文件等</td></tr> <tr><td>Disk Cache</td> <td>- 存储在硬盘上<br>- 存储容量较大<br>- 生命周期较长</td> <td>- 读取速度相对较慢<br>- 需要读取磁盘上的数据</td> <td>- 适用于不经常变动的资源，如网页的图片、音频和视频文件等</td></tr> <tr><td>Service Worker</td> <td>- 可以拦截和处理网络请求<br>- 可以离线缓存资源<br>- 生命周期较长</td> <td>- 需要编写和注册Service Worker脚本<br>- 需要HTTPS协议支持</td> <td>- 适用于离线访问和提供离线功能的应用程序，如离线浏览、推送通知等</td></tr> <tr><td>Push Cache</td> <td>- 存储在浏览器的内存中<br>- 可以通过HTTP推送缓存资源</td> <td>- 只能缓存通过HTTP/2推送的资源<br>- 生命周期短于Memory Cache</td> <td>- 适用于通过HTTP/2服务器推送的资源，如网页的预加载资源等</td></tr></tbody></table> <p><strong>如果以上四种缓存都没有命中的话，那么只能发起请求来获取资源了。</strong></p> <p>那么为了性能上的考虑，大部分的接口都应该选择好缓存策略，<strong>通常浏览器缓存策略分为两种：强缓存和协商缓存，并且缓存策略都是通过设置 HTTP Header 来实现的</strong>。</p> <h3 id="缓存机制"><a href="#缓存机制" class="header-anchor">#</a> 缓存机制</h3> <p>浏览器的缓存机制指的是通过在一段时间内保留已接收到的web资源的一个副本，如果在资源的有效时间内，发起了对这个资源的再一次请求，那么浏览器会直接使用缓存的副本，而不是向服务器发起请求。</p> <p>使用浏览器缓存可以有效地提高页面的打开速度，减少不必要的网络带宽的消耗；</p> <p><img src="/myblog/assets/img/http-huancun.103e1481.png" alt=""></p> <p><img src="/myblog/assets/img/http-huancun1.c8519bf8.png" alt=""></p> <h4 id="强制缓存"><a href="#强制缓存" class="header-anchor">#</a> <strong>强制缓存</strong></h4> <p><img src="/myblog/assets/img/qinagzhihuancun1.078ced59.png" alt=""></p> <p><img src="/myblog/assets/img/qinagzhihuancun2.aaa3b81d.png" alt=""></p> <p><img src="/myblog/assets/img/qinagzhihuancun3.3109235a.png" alt=""></p> <h4 id="协商缓存"><a href="#协商缓存" class="header-anchor">#</a> <strong>协商缓存</strong></h4> <p><img src="/myblog/assets/img/xieshanghuncun.b6d73a05.png" alt=""></p> <p><img src="/myblog/assets/img/xieshanghuncun2.be1ab0d5.png" alt=""></p> <p><strong>浏览器缓存存在问题：</strong></p> <ul><li>问题：ajax能提高页面载入的速度主要的原因是通过ajax减少了重复数据的载入，也就是说在载入数据的同时将数据缓存到内存中，一旦数据被加载其中，只要我们没有刷新页面，这些数据就会一直被缓存在内存中，当我们提交 的URL与历史的URL一致时，就不需要提交给服务器，也就是不需要从服务器上面去获取数据，虽然这样降低了服务器的负载提高了用户的体验，但是我们不能获取最新的数据。为了保证我们读取的信息都是最新的，我们就需要禁止他的缓存功能。</li> <li>解决方案：
<ul><li>在ajax发送请求前加上 <code>anyAjaxObj.setRequestHeader(&quot;If-Modified-Since&quot;,&quot;0&quot;)</code>。</li> <li>在ajax发送请求前加上<code>anyAjaxObj.setRequestHeader(&quot;Cache-Control&quot;,&quot;no-cache&quot;)</code>。</li> <li>在URL后面加上一个随机数：<code>&quot;fresh=&quot; + Math.random();</code>。</li> <li>在URL后面加上时间搓：<code>&quot;nowtime=&quot; + new Date().getTime();</code>。</li> <li>如果是使用 JQuery，直接这样就可以了 <code>$.ajaxSetup({cache:false})</code>。这样页面的所有ajax都会执行这条语句就是不需要保存缓存记录。</li></ul></li></ul> <h3 id="用户行为分析"><a href="#用户行为分析" class="header-anchor">#</a> <strong>用户行为分析</strong></h3> <h4 id="地址栏输入url"><a href="#地址栏输入url" class="header-anchor">#</a> <strong>地址栏输入url</strong></h4> <p>当在浏览器地址栏输入URL时，浏览器会执行以下步骤来查找缓存中的资源：</p> <ol><li><p><strong>输入URL并按下回车键</strong>：用户在浏览器地址栏中输入URL，并按下回车键。</p></li> <li><p><strong>检查浏览器缓存</strong>：浏览器首先检查是否有与该URL相关的缓存。它会查找内存缓存（Memory Cache）和磁盘缓存（Disk Cache）。</p></li> <li><p><strong>内存缓存（Memory Cache）检查</strong>：浏览器会首先检查内存缓存，即浏览器在当前会话期间缓存的资源。如果在内存缓存中找到匹配的资源，并且未过期（根据缓存的过期策略），浏览器将直接使用内存缓存中的资源。</p></li> <li><p><strong>磁盘缓存（Disk Cache）检查</strong>：如果在内存缓存中没有找到匹配的资源，浏览器会继续检查磁盘缓存，即之前访问过的资源缓存到硬盘上的地方。如果在磁盘缓存中找到匹配的资源，并且未过期，浏览器将从磁盘缓存中加载资源。</p></li> <li><p><strong>DNS解析</strong>：如果在浏览器缓存中没有找到匹配的缓存资源，浏览器将进行DNS解析，将URL解析为对应的IP地址。</p></li> <li><p><strong>建立连接</strong>：浏览器将与目标服务器建立TCP连接，并发送HTTP请求。</p></li> <li><p><strong>服务器响应</strong>：服务器接收到请求后，会根据请求的URL和其他相关信息生成响应。</p></li> <li><p><strong>响应处理</strong>：浏览器接收到服务器的响应后，会对响应进行处理。这可能涉及验证响应的有效性、检查响应状态码以及处理响应的内容。</p></li> <li><p><strong>缓存更新</strong>：如果服务器响应中包含缓存相关的HTTP响应头（如<code>Cache-Control</code>、<code>ETag</code>等），浏览器会根据这些响应头更新缓存。它可能会将响应缓存到内存缓存或磁盘缓存中，以便将来使用。</p></li></ol> <p><strong>总结：</strong></p> <p>浏览器在输入URL后，会首先检查内存缓存和磁盘缓存，如果没有找到匹配的缓存资源，将进行DNS解析并与服务器建立连接，最后接收服务器的响应并根据缓存策略更新缓存。这样可以提高网页加载速度，并减轻服务器的负载。</p> <h4 id="普通刷新-f5"><a href="#普通刷新-f5" class="header-anchor">#</a> <strong>普通刷新(F5)</strong></h4> <p>使用F5键（或浏览器刷新按钮）刷新网页时，并不会直接清除浏览器缓存。它的主要作用是重新发送之前的请求，以获取更新的资源。</p> <p><strong>过程：</strong></p> <ol><li><p>当你按下F5键或点击浏览器的刷新按钮时，浏览器会发送一个HTTP请求到服务器，请求当前网页的资源。在这个请求中，浏览器会发送一些额外的信息，如<code>If-Modified-Since</code>和<code>If-None-Match</code>等，用于告诉服务器之前缓存的资源的相关信息。</p></li> <li><p>服务器收到这个请求后，会检查这些额外的信息。</p> <ul><li><p>如果服务器发现请求的资源没有被修改（即与浏览器缓存中的版本相同），它会返回一个<code>304 Not Modified</code>的响应，表示资源未修改，可以直接使用浏览器缓存的版本。</p></li> <li><p>如果服务器发现请求的资源已经被修改了，它会返回一个新的响应，包含最新的资源内容和相关的HTTP响应头。</p></li></ul></li> <li><p>浏览器会接收到这个新的响应，并将其与之前缓存的版本进行比较。如果两个版本不同，浏览器会更新缓存，并加载新的资源。</p></li></ol> <p>需要注意的是，F5键并不会直接清除浏览器缓存。它只是重新发送请求，让服务器验证资源是否有更新。如果服务器返回的响应被浏览器缓存，则仍然会使用缓存的版本，而不是从服务器重新下载资源。</p> <p>如果你想强制清除浏览器缓存，可以使用Ctrl + F5（或Cmd + Shift + R在Mac上）组合键。这个组合键会发送一个特殊的请求头<code>Cache-Control: no-cache</code>，告诉服务器不要使用缓存的资源，而是始终返回最新的资源。这样就可以绕过浏览器缓存，获取最新的资源。</p> <p><strong>内存访问顺序：</strong></p> <p>当使用F5刷新浏览器时，浏览器会按照以下顺序尝试使用缓存中的资源：</p> <ol><li><p><strong>Memory Cache</strong>：浏览器首先检查内存缓存（Memory Cache）。内存缓存是浏览器在当前会话期间缓存的资源，存储在内存中。如果请求的资源在内存缓存中有匹配的副本，并且未过期（根据缓存的过期策略），浏览器将直接使用内存缓存中的资源。</p></li> <li><p><strong>Disk Cache</strong>：如果内存缓存中没有找到匹配的资源，浏览器接下来会检查磁盘缓存（Disk Cache）。磁盘缓存是浏览器将之前访问过的资源缓存到硬盘上的地方。如果请求的资源在磁盘缓存中有匹配的副本，并且未过期，浏览器将从磁盘缓存中加载资源。</p></li> <li><p>如果在内存缓存和磁盘缓存中都没有找到匹配的资源，浏览器将向服务器发送请求，获取最新的资源。</p></li></ol> <p>需要注意的是，浏览器在查找缓存时会根据请求的URL、请求头和缓存策略等因素来决定使用哪种缓存。每个浏览器的缓存机制可能会有所不同，具体的行为可能因浏览器而异。</p> <p>此外，开发人员可以通过使用特定的HTTP响应头（如<code>Cache-Control</code>、<code>Expires</code>、<code>ETag</code>等）来控制浏览器缓存的行为。</p> <h4 id="强制刷新-ctrl-f5"><a href="#强制刷新-ctrl-f5" class="header-anchor">#</a> <strong>强制刷新(Ctrl + F5)</strong></h4> <p>使用Ctrl + F5（或Cmd + Shift + R在Mac上）可以强制刷新网页并清除浏览器缓存。</p> <p><strong>行为分析：</strong></p> <ol><li>当用户第一次访问一个网页时，浏览器将下载并缓存页面的资源（如HTML、CSS、JavaScript、图像等）。</li> <li>下次访问同一个网页时，浏览器会检查资源的缓存标识（如HTTP响应头中的<code>Cache-Control</code>和<code>ETag</code>等），如果资源没有过期或未被修改，浏览器会直接从缓存中加载资源，而不是重新下载。</li> <li>但是有时候我们希望强制刷新网页，即使资源没有过期或未被修改，也要从服务器重新下载资源。这时候就可以使用Ctrl + F5来触发强制刷新。</li></ol> <p><strong>原理：</strong></p> <p>这个操作的原理涉及浏览器缓存机制和HTTP协议的缓存策略。</p> <p>浏览器缓存是为了提高网页加载速度和减轻服务器负载而引入的机制。</p> <p>Ctrl + F5的原理是通过发送一个<strong>特殊的HTTP请求头</strong>来告诉服务器不使用缓存的资源，而是返回最新的资源。</p> <p>这个特殊的请求头是**<code>Cache-Control: no-cache</code>**，它指示服务器不要返回缓存的资源，而是始终返回最新的资源。</p> <p>当浏览器收到带有<code>Cache-Control: no-cache</code>请求头的请求后，服务器会忽略缓存并重新生成响应，然后将最新的资源发送给浏览器，浏览器会用这些新的资源替换掉缓存中的旧资源。</p> <p><strong>缺点：</strong></p> <p>Ctrl + F5只会清除浏览器的缓存，而不会影响到代理服务器或CDN等其他缓存层。这意味着，即使你使用Ctrl + F5刷新了网页，仍然可能会从代理服务器或CDN获取缓存的资源。</p> <p>如果你希望完全绕过所有缓存，可以使用私密浏览模式（如Chrome的隐身模式）或禁用代理服务器。</p> <h3 id="常见缓存问题"><a href="#常见缓存问题" class="header-anchor">#</a> <strong>常见缓存问题</strong></h3> <h4 id="浏览器会把哪些文件丢进内存中-哪些丢进硬盘中"><a href="#浏览器会把哪些文件丢进内存中-哪些丢进硬盘中" class="header-anchor">#</a> <strong>浏览器会把哪些文件丢进内存中？哪些丢进硬盘中？</strong></h4> <p>浏览器在缓存资源时，会根据资源的类型和使用频率将不同类型的文件丢进内存或硬盘中。下面是一般的规则：</p> <p>通常会将以下类型的文件丢进<strong>内存缓存</strong>中：</p> <ol><li><strong>HTML文件</strong>：网页的HTML文件通常被频繁访问，因此浏览器会将其缓存到内存中，以便快速加载和渲染页面。</li> <li><strong>CSS文件</strong>：CSS样式文件对于网页的渲染至关重要，因此浏览器通常会将其缓存到内存中，以便快速应用样式。</li> <li><strong>JavaScript文件</strong>：JavaScript文件包含网页的交互逻辑，也会被频繁访问和执行，因此浏览器会将其缓存到内存中，以提高脚本的执行速度。</li> <li><strong>字体文件</strong>：某些网页使用自定义字体，这些字体文件会被缓存到内存中，以便在页面加载时快速显示正确的字体样式。</li> <li><strong>图片文件</strong>：小型的图片文件（如图标和小型背景图）也有可能被缓存在内存中，以提高页面的加载速度和用户体验。</li></ol> <p>浏览器通常会将以下类型的文件丢进磁盘缓存中：</p> <ol><li><strong>大型媒体文件</strong>：大型的音频文件、视频文件和高分辨率图片文件通常会被缓存到磁盘中，因为它们的体积较大，无法完全放入内存。</li> <li><strong>较少访问的文件</strong>：对于较少访问的文件，如过时的页面、旧版本的脚本文件等，浏览器可能会将它们缓存到磁盘中，以释放内存空间给更常访问的文件使用。</li></ol> <p>需要注意的是，浏览器在缓存资源时会根据多种因素做出决策，包括资源的大小、类型、访问频率、缓存策略等。</p> <p>不同的浏览器可能会有不同的优化策略和缓存机制，因此具体的行为可能会有所差异。此外，开发人员也可以通过设置响应头中的缓存控制字段来影响浏览器的缓存行为。</p> <h4 id="前端发版静态资源404问题"><a href="#前端发版静态资源404问题" class="header-anchor">#</a> <strong>前端发版静态资源404问题</strong></h4> <p>详细过程和解决方案，参考博客：<a href="https://sewar-x.github.io/workNote/%E5%89%8D%E7%AB%AF%E5%8F%91%E7%89%88%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90404%E9%97%AE%E9%A2%98/" target="_blank" rel="noopener noreferrer">前端发版静态资源404问题 | Sewen 博客 (sewar-x.github.io)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="白屏问题"><a href="#白屏问题" class="header-anchor">#</a> 白屏问题</h4> <p>问题描述：</p> <blockquote><p>在浏览器设置”默认打开上次关闭选项“时，使用浏览器打开项目，关闭项目后再重新打开浏览器</p> <p>在不刷新页面时项目将一直显示白屏</p></blockquote> <p>原因分析：</p> <blockquote><p>在使用vue-cli脚手架构建完项目，项目完成后，需打包上线。
默认打包方式则是 npm build，然后项目根目录会生成 dist 文件夹。服务端将该文件夹替换线上即可。</p> <p>但是当第n（n&gt;1）次上线后，由于在用户端会默认缓存index.html入口文件，而由于vue打包生成的css/js都是哈希值，跟上次的文件名都不同，因此会出现找不到css/js的情况，导致白屏的产生。</p></blockquote> <p>解决方案：</p> <ul><li><p>方案1： <strong>meta标签清除缓存</strong></p> <ul><li><div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Cache-control<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>no-cache,max-age=0, must-revalidate,no-store<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Pragma<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>no-cache<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Expires<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Cache<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>no-cache<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>解释：</p> <ul><li><p>http 1.0 控制字段：</p> <ul><li><p>Pragma:</p> <ul><li><p>用于设定禁止浏览器从本地机的缓存中调阅页面内容</p></li> <li><p>它用来向后兼容只支持 HTTP/1.0 协议的缓存服务器，那时候 HTTP/1.1 协议中的 Cache-Control 还没有出来</p></li></ul></li></ul></li> <li><p>http 1.1控制字段：</p> <ul><li>Expires: 相应头过期时间，用于设定网页的到期时间；Cache-control中设置max-age;则该属性会被忽略</li> <li>Cache-control：指定请求和响应遵循的缓存机制，在请求消息或响应消息中设置Cache-Control并不会修改另一个消息处理过程中的缓存处理过程；该字段的优先级要比Expires优先级高
<ul><li>常见的取值：</li> <li>no-chche:表示无论服务端有没有设置Cache-control,都必须重新追根到源服务器进行校验，源服务器未变化返回304</li> <li>must-revalidate:告诉浏览器/缓存服务器；在本地文件过期之前可以使用本地文件；本地文件一旦过期需要去源服务器进行有效性校验；如果有缓存服务器且该资源未过有效期则命中缓存服务器并返回200；如果过期切源服务器未发生更改；则教研后返回304；</li> <li>max-age:缓存的内容将在多少秒后失效,相对于请求时间来说的；max-age=0便是无论服务端如何设置；在重新获取资源之前；先检验ETag/Last-Modified;在设置max-age=0或no-cache后；在资源无更新的情况下访问都会返回304</li> <li>private:客户端可以缓存</li> <li>public:客户端和代理服务器都可缓存</li></ul></li></ul></li></ul></blockquote></li></ul></li></ul> <p><strong>参考资料</strong>：</p> <p><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Caching" target="_blank" rel="noopener noreferrer">HTTP 缓存 MDN<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://mp.weixin.qq.com/s/UOSvXZcB0LF6p6HTk1pqlQ" target="_blank" rel="noopener noreferrer">彻底理解浏览器的缓存机制<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://mp.weixin.qq.com/s/KNFXOwM1bcwcLVP98L7Qpg" target="_blank" rel="noopener noreferrer">深入理解浏览器的缓存机制<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="http://web.h3399.cn/meta.htm#attr-name" target="_blank" rel="noopener noreferrer">meta元素<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://www.cnblogs.com/hanshuai/p/12002202.html" target="_blank" rel="noopener noreferrer">Nginx针对前端静态资源的缓存处理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="service-workers-缓存"><a href="#service-workers-缓存" class="header-anchor">#</a> Service Workers 缓存</h2> <ul><li>Service Workers  缓存：Service Workers  能够拦截 HTTP 请求，进入任何传入的 HTTP 请求，并决定想要如何响应。在你的 Service Worker 中，可以编写逻辑来决定想要缓存的资源，以及需要满足什么条件和资源需要缓存多久。</li></ul> <ul><li>与 HTTP 缓存比较：Web 服务器可以使用 Expires 首部来通知 Web 客户端，它可以使用资源的当前副本，直到指定的“过期时间”。反过来，浏览器可以缓存此资源，并且只有在有效期满后才会再次检查新版本。使用 HTTP 缓存意味着你要依赖服务器来告诉你何时缓存资源和何时过期。</li></ul> <ul><li><p>**注册：**使用 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/ServiceWorkerContainer/register" target="_blank" rel="noopener noreferrer"><code>ServiceWorkerContainer.register()</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 方法在该站点注册。其内容在 sw.js 文件中，可以在注册成功后执行。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">'serviceWorker'</span> <span class="token keyword">in</span> navigator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    navigator<span class="token punctuation">.</span>serviceWorker<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">'/sw.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>**安装：**sw.js 监听 install 事件、<code>e.waitUntil()</code>等待 service worker 安装完成、Cache API 开启了一个缓存，并且将我们的应用所需要缓存的文件全部添加进去，当我们再次加载这些资源时，由请求 URL 确定的对应缓存就是可用的。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>self<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'install'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'[Service Worker] Install'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  e<span class="token punctuation">.</span><span class="token function">waitUntil</span><span class="token punctuation">(</span>
    caches<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>cacheName<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">cache</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'[Service Worker] Caching all: app shell and content'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> cache<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>contentToCache<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li>API 介绍：
<ul><li><code>e.waitUntil()</code>：等待 service worker 安装完成。<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/ExtendableEvent/waitUntil" target="_blank" rel="noopener noreferrer"><code>ExtendableEvent.waitUntil</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>方法告诉事件分发器该事件仍在进行。这个方法也可以用于检测进行的任务是否成功。在服务工作线程中，这个方法告诉浏览器事件一直进行，直至 promise 解决，浏览器不应该在事件中的异步操作完成之前终止服务工作线程。
<ul><li><code>caches</code> 是一个特殊的 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/CacheStorage" target="_blank" rel="noopener noreferrer"><code>CacheStorage</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 对象，它能在 Service Worker 指定的范围内提供数据存储的能力。因为 Web Storage 的执行是同步的，在 Service Worker 中使用 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Web_Storage_API" target="_blank" rel="noopener noreferrer">Web Storage<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 将不会有效果，所以我们使用 Cache API 作为替代。</li></ul></li></ul></li></ul></li> <li><p><strong>激活：</strong> 监听<code>activate</code> 事件。删除那些我们已经不需要的文件或者做一些清理工作。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>self<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'activate'</span><span class="token punctuation">,</span> <span class="token parameter">event</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> currentCaches <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">PRECACHE</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">//遍历缓存,查找不存在于自定义缓存列表中的浏览器缓存，并清除</span>
  event<span class="token punctuation">.</span><span class="token function">waitUntil</span><span class="token punctuation">(</span>
    caches<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">cacheNames</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token comment">//查找缓存</span>
      <span class="token keyword">return</span> cacheNames<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">cacheName</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>currentCaches<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>cacheName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">cachesToDelete</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>cachesToDelete<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">cacheToDelete</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> caches<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>cacheToDelete<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//清除缓存</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> self<span class="token punctuation">.</span>clients<span class="token punctuation">.</span><span class="token function">claim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></li> <li><p>**响应请求：**通过 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/FetchEvent" target="_blank" rel="noopener noreferrer"><code>FetchEvent</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 事件去响应请求。通过使用 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/FetchEvent/respondWith" target="_blank" rel="noopener noreferrer"><code>FetchEvent.respondWith</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 方法，你可以任意修改对于这些请求的响应。拦截页面请求，现在缓存中查找，未找到才去请求。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>self<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'fetch'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Handling fetch event for'</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span>request<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">//事件处理程序侦听 fetch 事件。当触发时返回一个promise给受控页面。</span>
  event<span class="token punctuation">.</span><span class="token function">respondWith</span><span class="token punctuation">(</span>
    <span class="token comment">// promise在 Cache 对象中查询第一个匹配URL请求。如果没有发现匹配项，该代码将转而从网络获取响应。</span>
    caches<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>request<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Found response in cache:'</span><span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> response<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'No response found in cache. About to fetch from network...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">return</span> <span class="token function">fetch</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>request<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Response from network is:'</span><span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> response<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'Fetching failed:'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">throw</span> error<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div></li></ul> <p>参考资料：</p> <ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Service_Worker_API" target="_blank" rel="noopener noreferrer">Service Worker API MDN<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <!----> <div class="content__content-bottom"></div> <footer class="page-meta"><!----> <div class="meta-item update-time"><span class="label">Last update:</span> <span class="info">January 22, 2024 14:49</span></div> <div class="meta-item contributors"><span class="label">Contributors: </span> <span class="info"><span title="email: 596777598@qq.com" class="contributor">
          sewar
        </span> <!----></span></div></footer> <!----> <!----> <!----> <div class="content__page-bottom"></div></main> <!----></div><div class="global-ui"><!----><div id="pwa-install"><!----> <div id="install-modal-wrapper" style="display:none;"><div class="background"></div> <div class="install-modal"><div class="header"><button aria-label="Close" class="close-button"><svg width="23" height="22" xmlns="http://www.w3.org/2000/svg" class="icon close-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.12.358a1.224 1.224 0 011.729 0l8.92 8.914L20.686.358a1.224 1.224 0 011.73 1.728L13.497 11l8.92 8.913a1.222 1.222 0 11-1.73 1.729l-8.919-8.913-8.92 8.913a1.224 1.224 0 01-1.729-1.729L10.04 11l-8.92-8.914a1.222 1.222 0 010-1.728z" fill="currentColor"></path></svg></button> <div class="logo"><!----> <div class="title"><h1></h1> <p class="desc">This app can be installed on your PC or mobile device.  This will allow this web app to look and behave like any other installed app.  You will find it in your app lists and be able to pin it to your home screen, start menus or task bars.  This installed web app will also be able to safely interact with other apps and your operating system. </p></div></div></div> <div class="content"><div class="highlight"><!----> <!----></div> <div class="description"><h3>Description</h3> <p></p></div></div> <div class="button-wrapper"><button class="install-button">
        Install <span></span></button> <button class="cancel-button">
        Cancel
      </button></div></div></div></div><!----><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button title="Close" aria-label="Close" class="pswp__button pswp__button--close"></button> <button title="Share" aria-label="Share" class="pswp__button pswp__button--share"></button> <button title="Switch to full screen" aria-label="Switch to full screen" class="pswp__button pswp__button--fs"></button> <button title="Zoom in/out" aria-label="Zoom in/out" class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button title="Prev (Arrow Left)" aria-label="Prev (Arrow Left)" class="pswp__button pswp__button--arrow--left"></button> <button title="Next (Arrow Right)" aria-label="Next (Arrow Right)" class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div></div>
    <script src="/myblog/assets/js/app.9d2b617a.js" defer></script><script src="/myblog/assets/js/layout-Layout.d2d4ce64.js" defer></script><script src="/myblog/assets/js/page-前端存储.cd82cf54.js" defer></script><script src="/myblog/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-components/Blog/BlogHome~layout-components/~2222f443.5835591a.js" defer></script>
  </body>
</html>
