<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>DevServer | Sewen 博客</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="./mylogo.png">
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.min.js"></script>
    <link rel="manifest" href="/myblog/manifest.webmanifest" crossorigin="use-credentials">
    <link rel="alternate" type="application/atom+xml" href="https://sewar-x.github.io/myblog/atom.xml" title="Sewen 博客 Atom Feed">
    <link rel="alternate" type="application/json" href="https://sewar-x.github.io/myblog/rss.xml" title="Sewen 博客 JSON Feed">
    <link rel="alternate" type="application/rss+xml" href="https://sewar-x.github.io/myblog/rss.xml" title="Sewen 博客 RSS Feed">
    <meta name="description" content="sewen 的前端学习笔记、博客、前端基础总结、技术深度剖析、面试题总结、算法总结、项目过程总结">
    <meta property="og:url" content="https://sewar-x.github.io/myblog/webpack/DevServer%E5%8E%9F%E7%90%86.html">
    <meta property="og:site_name" content="Sewen 博客">
    <meta property="og:title" content="DevServer">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="en-US">
    <meta name="theme-color" content="#46bd87">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <link rel="preload" href="/myblog/assets/css/0.styles.645fbc6f.css" as="style"><link rel="preload" href="/myblog/assets/js/app.9d2b617a.js" as="script"><link rel="preload" href="/myblog/assets/js/layout-Layout.d2d4ce64.js" as="script"><link rel="preload" href="/myblog/assets/js/page-DevServer.0281863d.js" as="script"><link rel="preload" href="/myblog/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-components/Blog/BlogHome~layout-components/~2222f443.5835591a.js" as="script"><link rel="prefetch" href="/myblog/assets/js/199.a9216960.js"><link rel="prefetch" href="/myblog/assets/js/200.4c66fc79.js"><link rel="prefetch" href="/myblog/assets/js/layout-Blog.1fca7e90.js"><link rel="prefetch" href="/myblog/assets/js/layout-NotFound.3c74e8aa.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/AlgoliaSearch/Dropdown.70fcebe7.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Anchor.3235541c.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/ArticleInfo.7b815b20.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/ArticleItem.b0e177e1.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/ArticleList.d1cf1b24.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/ArticleType.b630b80e.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/BlogHero.621312ba.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/BlogHome.4fe44489.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/BlogInfo.b2a94760.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/BlogPage.e0fbe820.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/BloggerInfo.0df38355.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/CategoryList.ec1bcd96.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/ProjectList.8550a110.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/TagList.bcf7b782.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/Timeline.b6cf5471.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/TimelineList.3c6e08a6.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Clipboard.e940a903.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Common.820a8694.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Home.70383986.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/MyTransition.0de46069.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/DropdownLink.e3f6c118.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/NavLink.93b11770.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/NavLinks.8ba214e6.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/Navbar.b90a94f9.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/RepoLink.663a7f55.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/SidebarButton.76b0035a.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Page.98b5d09c.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/PageFooter.20bc9bd8.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/PageMeta.b7e6b12f.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/PageNav.8305dd1f.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Password.45e0e82a.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/DropdownTransition.068c5eea.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/Sidebar.f6f90d52.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/SidebarDropdownLink.505127a8.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/SidebarGroup.7eecf370.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/SidebarLink.6e39fe32.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/SidebarNavLinks.0f8566cb.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Theme/DarkmodeSwitch.20ac7b92.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Theme/ThemeColor.6086e4ed.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Theme/ThemeOptions.483238c9.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/ArticleIcon.0a22e2b1.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/AutoIcon.2ff1c790.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/BookIcon.419b49ba.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/DarkIcon.7d81873b.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/EditIcon.8ada485d.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/EmptyIcon.d704a5cf.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/I18nIcon.ffad8b3e.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/LightIcon.47d807da.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/LinkIcon.1a8a7826.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/LockIcon.a29a2b79.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/NextIcon.0214ee59.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/Page404Icon.8bc1ebbb.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/PresentationIcon.17500d9b.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/PrevIcon.2ae04a70.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/ProjectIcon.b336d567.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/StickyIcon.0f509b9d.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Baidu.244b9a41.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Bitbucket.11ba94e1.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Dingding.e8a3d90d.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Discord.3295a55b.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Dribbble.464dac3b.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Email.f9254caa.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Evernote.991472fb.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Facebook.08e78e47.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Flipboard.a1124d0f.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Gitee.c44bc20a.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Github.5667e5ae.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Gitlab.ad95c7a7.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Gmail.b5acc6bc.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Instagram.56be85f2.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Lines.d9db3dce.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Linkedin.b82d8d8b.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Pinterest.0f3ffe71.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Pocket.41ef3c92.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/QQ.7558f4ba.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Qzone.bf658fae.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Reddit.9c4c95ee.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Rss.9780139e.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Steam.06abbae2.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Twitter.26fa5bda.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Wechat.9cac8c4c.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Weibo.5206a632.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Whatsapp.0738f1e3.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Youtube.f41fd7f2.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Zhihu.4d851d2f.js"><link rel="prefetch" href="/myblog/assets/js/page--0abc50bf.0d6f1484.js"><link rel="prefetch" href="/myblog/assets/js/page--1cd40f4c.dd76c7b3.js"><link rel="prefetch" href="/myblog/assets/js/page--53f93199.e80bdec8.js"><link rel="prefetch" href="/myblog/assets/js/page--5afd2fd0.adea4e92.js"><link rel="prefetch" href="/myblog/assets/js/page--67c584d3.0a3f3cd9.js"><link rel="prefetch" href="/myblog/assets/js/page--776a8506.cdf48aac.js"><link rel="prefetch" href="/myblog/assets/js/page-CSS.eb94b29f.js"><link rel="prefetch" href="/myblog/assets/js/page-Chrome开发工具使用指南.a2675120.js"><link rel="prefetch" href="/myblog/assets/js/page-Echarts二次封装.4387b8ad.js"><link rel="prefetch" href="/myblog/assets/js/page-Elementui与Element-plusui二次封装.82f12a09.js"><link rel="prefetch" href="/myblog/assets/js/page-Git基础.03c616ad.js"><link rel="prefetch" href="/myblog/assets/js/page-Git规范.e2fdc38a.js"><link rel="prefetch" href="/myblog/assets/js/page-HTML.1e3c14b9.js"><link rel="prefetch" href="/myblog/assets/js/page-Home.f0b7e772.js"><link rel="prefetch" href="/myblog/assets/js/page-JSON配置化组件二次封装.12060fd9.js"><link rel="prefetch" href="/myblog/assets/js/page-JS原理实现.3c427e19.js"><link rel="prefetch" href="/myblog/assets/js/page-JS应用题.3d313b34.js"><link rel="prefetch" href="/myblog/assets/js/page-JavaScript基础.551be887.js"><link rel="prefetch" href="/myblog/assets/js/page-Linux.c6159ebd.js"><link rel="prefetch" href="/myblog/assets/js/page-Loader和Plugin原理.b2971b76.js"><link rel="prefetch" href="/myblog/assets/js/page-MySQL.0b1d704a.js"><link rel="prefetch" href="/myblog/assets/js/page-NPM.a55851b2.js"><link rel="prefetch" href="/myblog/assets/js/page-Node.ec405a21.js"><link rel="prefetch" href="/myblog/assets/js/page-Nodejs常见问题集合.12844e69.js"><link rel="prefetch" href="/myblog/assets/js/page-Node性能优化.b4ea1c34.js"><link rel="prefetch" href="/myblog/assets/js/page-Promise专题.7869a31b.js"><link rel="prefetch" href="/myblog/assets/js/page-React.d76cf0ac.js"><link rel="prefetch" href="/myblog/assets/js/page-SSG移动端项目实践.2122615b.js"><link rel="prefetch" href="/myblog/assets/js/page-TypeScript.4f597fda.js"><link rel="prefetch" href="/myblog/assets/js/page-Vite.637881bf.js"><link rel="prefetch" href="/myblog/assets/js/page-Vite原理解析.6677fdb4.js"><link rel="prefetch" href="/myblog/assets/js/page-Vue25项目webpack构建分析.7bbea0fa.js"><link rel="prefetch" href="/myblog/assets/js/page-Vue2VsVue3.10be4140.js"><link rel="prefetch" href="/myblog/assets/js/page-Vue2x原理源码分析.e9e753b6.js"><link rel="prefetch" href="/myblog/assets/js/page-Vue3基础.210247ff.js"><link rel="prefetch" href="/myblog/assets/js/page-Vue3源码分析.17379e04.js"><link rel="prefetch" href="/myblog/assets/js/page-VueCli源码分析.afc3c83f.js"><link rel="prefetch" href="/myblog/assets/js/page-VueRouter原理分析.0a092eb6.js"><link rel="prefetch" href="/myblog/assets/js/page-VueSSR原理分析.63006040.js"><link rel="prefetch" href="/myblog/assets/js/page-VueVsReact.2156be28.js"><link rel="prefetch" href="/myblog/assets/js/page-Vuex原理分析.5ba3e6e4.js"><link rel="prefetch" href="/myblog/assets/js/page-WEB安全.5aa0eeef.js"><link rel="prefetch" href="/myblog/assets/js/page-WebPack构建原理.9c29703e.js"><link rel="prefetch" href="/myblog/assets/js/page-webpackAPI分析.4c8b152b.js"><link rel="prefetch" href="/myblog/assets/js/page-webpack优化.dcc6c3bc.js"><link rel="prefetch" href="/myblog/assets/js/page-webpack基础.3820ee6c.js"><link rel="prefetch" href="/myblog/assets/js/page-webpack项目实践.77e22417.js"><link rel="prefetch" href="/myblog/assets/js/page-一次后台管理系统的性能优化.7c2d8712.js"><link rel="prefetch" href="/myblog/assets/js/page-从零到一搭建SSR项目.855376fc.js"><link rel="prefetch" href="/myblog/assets/js/page-从零到一搭建Vue2项目和规范设计.93017fd2.js"><link rel="prefetch" href="/myblog/assets/js/page-从零到一搭建Vue3单页面应用.de152d54.js"><link rel="prefetch" href="/myblog/assets/js/page-从零到一搭建公共组件库.93278073.js"><link rel="prefetch" href="/myblog/assets/js/page-从零到一搭建移动端SSG项目.9c113d06.js"><link rel="prefetch" href="/myblog/assets/js/page-使用docker部署Node服务.5cf328fd.js"><link rel="prefetch" href="/myblog/assets/js/page-分治.e3dfc22d.js"><link rel="prefetch" href="/myblog/assets/js/page-前端发版静态资源404问题.9eb1ca89.js"><link rel="prefetch" href="/myblog/assets/js/page-前端存储.cd82cf54.js"><link rel="prefetch" href="/myblog/assets/js/page-前端工程化.1e6e58d0.js"><link rel="prefetch" href="/myblog/assets/js/page-前端性能优化方案.83718d22.js"><link rel="prefetch" href="/myblog/assets/js/page-前端架构实践.171dbc0f.js"><link rel="prefetch" href="/myblog/assets/js/page-前端渲染架构.3b783de8.js"><link rel="prefetch" href="/myblog/assets/js/page-前端自动部署.5076846c.js"><link rel="prefetch" href="/myblog/assets/js/page-前端部署原理.82ecd8a7.js"><link rel="prefetch" href="/myblog/assets/js/page-动态规划.a3af92f1.js"><link rel="prefetch" href="/myblog/assets/js/page-哈希表.c76000e8.js"><link rel="prefetch" href="/myblog/assets/js/page-回溯算法.cd914c32.js"><link rel="prefetch" href="/myblog/assets/js/page-图.dfd9828a.js"><link rel="prefetch" href="/myblog/assets/js/page-基础.7bf5a37b.js"><link rel="prefetch" href="/myblog/assets/js/page-堆.4657e538.js"><link rel="prefetch" href="/myblog/assets/js/page-字符串.252f2a08.js"><link rel="prefetch" href="/myblog/assets/js/page-异步编程.904f4c65.js"><link rel="prefetch" href="/myblog/assets/js/page-性能优化指标和监控.f2175836.js"><link rel="prefetch" href="/myblog/assets/js/page-排序算法.c7a51b99.js"><link rel="prefetch" href="/myblog/assets/js/page-搭建低代码平台.19eaf5ec.js"><link rel="prefetch" href="/myblog/assets/js/page-操作系统.473c4281.js"><link rel="prefetch" href="/myblog/assets/js/page-数学运算.c82748fb.js"><link rel="prefetch" href="/myblog/assets/js/page-数据结构算法.84480586.js"><link rel="prefetch" href="/myblog/assets/js/page-数组.692b0d0a.js"><link rel="prefetch" href="/myblog/assets/js/page-权限管理.c7e10db0.js"><link rel="prefetch" href="/myblog/assets/js/page-查找.790e52df.js"><link rel="prefetch" href="/myblog/assets/js/page-栈和队列.8dbc3586.js"><link rel="prefetch" href="/myblog/assets/js/page-树.24efdeaa.js"><link rel="prefetch" href="/myblog/assets/js/page-浏览器.bee9ec04.js"><link rel="prefetch" href="/myblog/assets/js/page-混合桌面应用开发.9e10d1c3.js"><link rel="prefetch" href="/myblog/assets/js/page-登录.bb830451.js"><link rel="prefetch" href="/myblog/assets/js/page-目录.c85b4d0b.js"><link rel="prefetch" href="/myblog/assets/js/page-移动端开发.56ac22ec.js"><link rel="prefetch" href="/myblog/assets/js/page-组件和组件封装.b5e86da2.js"><link rel="prefetch" href="/myblog/assets/js/page-计算机网络基础.0a106662.js"><link rel="prefetch" href="/myblog/assets/js/page-设计模式.ffdc7cfd.js"><link rel="prefetch" href="/myblog/assets/js/page-调试技巧.485ae36e.js"><link rel="prefetch" href="/myblog/assets/js/page-贪心算法.0f417640.js"><link rel="prefetch" href="/myblog/assets/js/page-输入url到页面展示全过程.510aef2e.js"><link rel="prefetch" href="/myblog/assets/js/page-递归.5e55e552.js"><link rel="prefetch" href="/myblog/assets/js/page-链表.1cf6927f.js"><link rel="prefetch" href="/myblog/assets/js/page-项目总结.ffcd2a4b.js"><link rel="prefetch" href="/myblog/assets/js/vendors~docsearch.f3877d0d.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-components/Blog/BlogHome~layout-components/~5d377965.d9712593.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-Blog~layout-Layout~layout-components/Blog/ArticleItem~layout-components/Blog/ArticleL~b56f3aac.47bb5cb5.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-NotFound~layout-components/Common~layout-components/Page.57d58db9.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-Slide.81546b3b.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-components/AlgoliaSearch/Full.b30f067a.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-components/Blog/BlogPage.bcccbd38.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-components/Navbar/Navbar.e2a7361e.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-components/Page.6c65077c.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-components/Sidebar/Sidebar.34cd9cf7.js"><link rel="prefetch" href="/myblog/assets/js/vendors~photo-swipe.428df1da.js">
    <link rel="stylesheet" href="/myblog/assets/css/0.styles.645fbc6f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container has-navbar has-sidebar has-anchor"><header class="navbar"><!----> <div class="content__navbar-start"></div> <button title="Sidebar Button" class="sidebar-button"><span class="icon"></span></button> <a href="/myblog/" class="home-link router-link-active"><img src="./mylogo.png" alt="Sewen 博客" class="logo"> <!----> <span class="site-name can-hide">Sewen 博客</span></a> <!----> <div class="content__navbar-center"></div> <div class="links"><button tabindex="-1" aria-hidden="true" class="color-button"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="skin-icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4
        38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32
        51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0
        102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2
        6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4
        0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2
        9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224
        419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4
        470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0
        22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6
        12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128
        505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2
        16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8
        86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4
        80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6
        6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg> <div class="color-picker-menu" style="display:none;"><div class="theme-options"><ul class="themecolor-select"><label for="themecolor-select">Theme Color:</label> <li><span class="default-theme"></span></li> </ul> <div class="darkmode-toggle"><label for="darkmode-toggle" class="desc">Theme Mode:</label> <div class="darkmode-switch"><div class="item day"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon light-icon"><path d="M512 256a42.667 42.667 0 0 0 42.667-42.667V128a42.667 42.667 0 0 0-85.334 0v85.333A42.667 42.667 0 0 0 512 256zm384 213.333h-85.333a42.667 42.667 0 0 0 0 85.334H896a42.667 42.667 0 0 0 0-85.334zM256 512a42.667 42.667 0 0 0-42.667-42.667H128a42.667 42.667 0 0 0 0 85.334h85.333A42.667 42.667 0 0 0 256 512zm9.387-298.667a42.667 42.667 0 0 0-59.307 62.72l61.44 59.307a42.667 42.667 0 0 0 31.147 11.947 42.667 42.667 0 0 0 30.72-13.227 42.667 42.667 0 0 0 0-60.16zm459.946 133.974a42.667 42.667 0 0 0 29.44-11.947l61.44-59.307a42.667 42.667 0 0 0-57.6-62.72l-61.44 60.587a42.667 42.667 0 0 0 0 60.16 42.667 42.667 0 0 0 28.16 13.227zM512 768a42.667 42.667 0 0 0-42.667 42.667V896a42.667 42.667 0 0 0 85.334 0v-85.333A42.667 42.667 0 0 0 512 768zm244.48-79.36a42.667 42.667 0 0 0-59.307 61.44l61.44 60.587a42.667 42.667 0 0 0 29.44 11.946 42.667 42.667 0 0 0 30.72-12.8 42.667 42.667 0 0 0 0-60.586zm-488.96 0-61.44 59.307a42.667 42.667 0 0 0 0 60.586 42.667 42.667 0 0 0 30.72 12.8 42.667 42.667 0 0 0 28.587-10.666l61.44-59.307a42.667 42.667 0 0 0-59.307-61.44zM512 341.333A170.667 170.667 0 1 0 682.667 512 170.667 170.667 0 0 0 512 341.333z" fill="currentColor"></path></svg></div> <div class="item auto active"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon auto-icon"><path d="M460.864 539.072H564.8L510.592 376l-49.728 163.072zM872 362.368V149.504H659.648L510.528 0l-149.12 149.504H149.12v212.928L0 511.872l149.12 149.504v212.928h212.352l149.12 149.504 149.12-149.504h212.352V661.376l149.12-149.504L872 362.368zM614.464 693.12l-31.616-90.624H438.272l-31.616 90.624h-85.888l144.576-407.68h90.368l144.576 407.68h-85.824zm0 0" fill="currentColor"></path></svg></div> <div class="item night"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon dark-icon"><path d="M935.539 630.402c-11.43-11.432-28.674-14.739-43.531-8.354-46.734 20.103-96.363 30.297-147.508 30.297-99.59 0-193.221-38.784-263.64-109.203-108.637-108.637-139.61-270.022-78.908-411.148a39.497 39.497 0 0 0-51.886-51.887c-52.637 22.64-100.017 54.81-140.826 95.616-85.346 85.346-132.346 198.821-132.346 319.52 0 120.7 47.001 234.172 132.347 319.519S408.063 947.11 528.76 947.11c120.7 0 234.172-47.003 319.52-132.351 40.809-40.81 72.978-88.19 95.616-140.826a39.497 39.497 0 0 0-8.356-43.532z" fill="currentColor"></path></svg></div></div> <!----></div></div></div></button> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/myblog/" class="nav-link router-link-active"><!---->
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Front-end Basics" class="dropdown-title"><span class="title"><!---->
        前端基础
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/webpack/html/" class="nav-link"><!---->
  HTML
</a></li><li class="dropdown-item"><a href="/myblog/webpack/css/" class="nav-link"><!---->
  Css
</a></li><li class="dropdown-item"><a href="/myblog/webpack/javascript/" class="nav-link"><!---->
  JavaScript
</a></li><li class="dropdown-item"><a href="/myblog/webpack/typescript/" class="nav-link"><!---->
  TypeScript
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><span class="title"><!---->
        计算机基础
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/webpack/algorithms/" class="nav-link"><!---->
  数据结构和算法
</a></li><li class="dropdown-item"><a href="/myblog/webpack/network/" class="nav-link"><!---->
  计算机网络/HTTP
</a></li><li class="dropdown-item"><a href="/myblog/webpack/network/输入url到页面展示全过程/" class="nav-link"><!---->
  输入url到页面展示全过程
</a></li><li class="dropdown-item"><a href="/myblog/webpack/operating-system/" class="nav-link"><!---->
  操作系统
</a></li><li class="dropdown-item"><a href="/myblog/webpack/design-model/" class="nav-link"><!---->
  设计模式
</a></li><li class="dropdown-item"><a href="/myblog/webpack/Web-Security/" class="nav-link"><!---->
  Web安全
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架和源码分析" class="dropdown-title"><span class="title"><!---->
        框架和源码分析
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/webpack/vue/Vue2原理和源码分析.html" class="nav-link"><!---->
  Vue 专题
</a></li><li class="dropdown-item"><a href="/myblog/webpack/React/" class="nav-link"><!---->
  React 专题
</a></li><li class="dropdown-item"><a href="/myblog/webpack/webpack/webpack构建原理.html" class="nav-link"><!---->
  webpack 专题
</a></li><li class="dropdown-item"><a href="/myblog/webpack/vite/" class="nav-link"><!---->
  vite 专题
</a></li><li class="dropdown-item"><a href="/myblog/webpack/axios/" class="nav-link"><!---->
  Axios 专题
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="浏览器" class="dropdown-title"><span class="title"><!---->
        浏览器
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/webpack/browser/浏览器原理/" class="nav-link"><!---->
  浏览器原理
</a></li><li class="dropdown-item"><a href="/myblog/webpack/browser/前端缓存和存储/" class="nav-link"><!---->
  前端缓存和存储
</a></li><li class="dropdown-item"><a href="/myblog/webpack/performance/前端调试技巧/" class="nav-link"><!---->
  前端调试技巧
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="node.js" class="dropdown-title"><span class="title"><!---->
        服务器
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/webpack/node/" class="nav-link"><!---->
  Node.js
</a></li><li class="dropdown-item"><a href="/myblog/webpack/linux/" class="nav-link"><!---->
  Linux
</a></li><li class="dropdown-item"><a href="/myblog/webpack/mysql/" class="nav-link"><!---->
  MySQL
</a></li><li class="dropdown-item"><a href="/myblog/webpack/nginx/" class="nav-link"><!---->
  Nginx
</a></li><li class="dropdown-item"><a href="/myblog/webpack/docker/" class="nav-link"><!---->
  Docker
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="浏览器和性能优化" class="dropdown-title"><span class="title"><!---->
        性能优化
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/webpack/performance/性能优化指标和监控/" class="nav-link"><!---->
  性能优化指标和监控
</a></li><li class="dropdown-item"><a href="/myblog/webpack/performance/前端性能优化方案/" class="nav-link"><!---->
  前端性能优化方案
</a></li><li class="dropdown-item"><a href="/myblog/webpack/performance/一次管理后台的渲染优化/" class="nav-link"><!---->
  一次管理后台的渲染优化
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端工程" class="dropdown-title"><span class="title"><!---->
        前端工程
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/webpack/Front-end-Engineering/前端工程化/" class="nav-link"><!---->
  前端工程化
</a></li><li class="dropdown-item"><a href="/myblog/webpack/Front-end-Engineering/前端渲染架构/" class="nav-link"><!---->
  前端渲染架构
</a></li><li class="dropdown-item"><a href="/myblog/webpack/Front-end-Engineering/前端架构实践/" class="nav-link"><!---->
  前端架构实践
</a></li><li class="dropdown-item"><a href="/myblog/webpack/Front-end-Engineering/npm/" class="nav-link"><!---->
  npm
</a></li><li class="dropdown-item"><a href="/myblog/webpack/git/" class="nav-link"><!---->
  Git
</a></li><li class="dropdown-item"><a href="/myblog/webpack/projectDeploy/自动构建和部署/" class="nav-link"><!---->
  自动构建和部署
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目实践" class="dropdown-title"><span class="title"><!---->
        项目实践
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/webpack/projectDeploy/" class="nav-link"><!---->
  前端部署
</a></li><li class="dropdown-item"><a href="/myblog/webpack/componentsEncapsulation/组件和组件封装实践.html" class="nav-link"><!---->
  组件和组件封装实践
</a></li><li class="dropdown-item"><a href="/myblog/webpack/projectsSummary/登录与单点登录/" class="nav-link"><!---->
  登录与单点登录
</a></li><li class="dropdown-item"><a href="/myblog/webpack/projectsSummary/权限管理方案实践/" class="nav-link"><!---->
  权限管理方案实践
</a></li><li class="dropdown-item"><a href="/myblog/webpack/projectsSummary/Echarts二次封装实践/" class="nav-link"><!---->
  Echarts二次封装实践
</a></li><li class="dropdown-item"><a href="/myblog/webpack/projectsSummary/文档在线预览和编辑方案/" class="nav-link"><!---->
  文档在线预览和编辑方案
</a></li><li class="dropdown-item"><a href="/myblog/webpack/projectsSummary/移动端开发实践/" class="nav-link"><!---->
  移动端开发实践
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目搭建到原理分析" class="dropdown-title"><span class="title"><!---->
        项目搭建
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/webpack/projectsSummary/从零到一搭建SSR项目/" class="nav-link"><!---->
  从零到一搭建SSR项目
</a></li><li class="dropdown-item"><a href="/myblog/webpack/projectsSummary/从零到一搭建移动端SSG项目/" class="nav-link"><!---->
  从零到一搭建移动端SSG项目
</a></li><li class="dropdown-item"><a href="/myblog/webpack/projectsSummary/移动端SSG项目实践/" class="nav-link"><!---->
  移动端SSG项目实践
</a></li><li class="dropdown-item"><a href="/myblog/webpack/projectsSummary/从零到一搭建Vue2工程化项目/" class="nav-link"><!---->
  从零到一搭建Vue2工程化项目
</a></li><li class="dropdown-item"><a href="/myblog/webpack/projectsSummary/从零到一搭建Vue3工程化项目/" class="nav-link"><!---->
  从零到一搭建Vue3工程化项目
</a></li><li class="dropdown-item"><a href="/myblog/webpack/projectsSummary/搭建低代码平台/" class="nav-link"><!---->
  搭建低代码平台
</a></li><li class="dropdown-item"><a href="/myblog/webpack/projectsSummary/混合桌面应用开发实践/" class="nav-link"><!---->
  混合桌面应用开发实践
</a></li></ul></div></div></nav> <!----> <!----> <!----> <div class="content__navbar-end"></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><div vocab="https://schema.org/" typeof="Person" class="blogger-info mobile"><div data-balloon-pos="down" role="navigation" class="blogger hasIntro"><img property="image" alt="Blogger Avatar" src="./mylogo.png" class="avatar round"> <div property="name" class="name">Sewen 博客</div> <meta property="url" content="../outline.md"></div> <div class="num-wrapper"><div><div class="num">91</div> <div>Articles</div></div> <div><div class="num">0</div> <div>Category</div></div> <div><div class="num">0</div> <div>Tags</div></div> <div><div class="num">91</div> <div>Timeline</div></div></div> <div class="media-links-wrapper"><a href="https://github.com/Sewar-x/myblog" rel="noopener noreferrer" target="_blank" aria-label="Github" data-balloon-pos="up" class="media-link"><span class="sr-only">Github</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-github"><circle cx="512" cy="512" r="512" fill="#171515"></circle> <path d="M509.423 146.442c-200.317 0-362.756 162.42-362.756 362.8 0 160.266 103.936 296.24 248.109 344.217 18.139 3.327 24.76-7.872 24.76-17.486 0-8.613-.313-31.427-.49-61.702-100.912 21.923-122.205-48.63-122.205-48.63-16.495-41.91-40.28-53.067-40.28-53.067-32.937-22.51 2.492-22.053 2.492-22.053 36.407 2.566 55.568 37.386 55.568 37.386 32.362 55.438 84.907 39.43 105.58 30.143 3.296-23.444 12.667-39.43 23.032-48.498-80.557-9.156-165.246-40.28-165.246-179.297 0-39.604 14.135-71.988 37.342-97.348-3.731-9.178-16.18-46.063 3.556-96.009 0 0 30.46-9.754 99.76 37.19 28.937-8.048 59.97-12.071 90.823-12.211 30.807.14 61.843 4.165 90.822 12.21 69.26-46.944 99.663-37.189 99.663-37.189 19.792 49.946 7.34 86.831 3.61 96.01 23.25 25.359 37.29 57.742 37.29 97.347 0 139.366-84.82 170.033-165.637 179.013 13.026 11.2 24.628 33.342 24.628 67.182 0 48.498-.445 87.627-.445 99.521 0 9.702 6.535 20.988 24.945 17.444 144.03-48.067 247.881-183.95 247.881-344.175 0-200.378-162.442-362.798-362.802-362.798z" fill="#FFF"></path></svg></a><a href="1567910907" rel="noopener noreferrer" target="_blank" aria-label="Wechat" data-balloon-pos="up" class="media-link"><span class="sr-only">Wechat</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-wechat"><circle cx="512" cy="512" r="512" fill="#1AC88E"></circle> <path d="M827.551 578.742a176.583 176.583 0 0 0-185.685-158.379 172.942 172.942 0 0 0-186.3 158.379 172.942 172.942 0 0 0 185.686 158.379 282.169 282.169 0 0 0 65.536-10.923l60.689 32.768-16.384-54.613a166.275 166.275 0 0 0 76.458-125.611zm-245.76-27.307a21.845 21.845 0 1 1 0-43.69 24.872 24.872 0 0 1 27.307 21.845 24.872 24.872 0 0 1-27.921 21.845h.614zm121.356 0a21.845 21.845 0 1 1 0-43.69 24.872 24.872 0 0 1 27.306 21.845 24.872 24.872 0 0 1-28.512 21.845h1.206z" fill="#FFF"></path> <path d="M623.662 400.953h21.23A222.709 222.709 0 0 0 419.772 245.6a208.145 208.145 0 0 0-223.323 189.94 182.044 182.044 0 0 0 89.201 150.483l-22.436 67.356 78.279-39.435a389.575 389.575 0 0 0 78.279 10.923h20.616a163.226 163.226 0 0 1-6.667-46.718 182.044 182.044 0 0 1 189.94-177.197zm-121.379-60.69a27.921 27.921 0 1 1 0 55.843 31.562 31.562 0 0 1-33.36-27.921 31.562 31.562 0 0 1 34.59-27.921h-1.23zM346.34 396.107a31.562 31.562 0 0 1-33.383-27.921 31.562 31.562 0 0 1 33.383-27.921 27.921 27.921 0 1 1 0 55.842z" fill="#FFF"></path></svg></a></div></div> <hr> <!----> <div class="content__sidebar-top"></div> <nav class="sidebar-nav-links"><div class="nav-item"><a href="/myblog/" class="nav-link router-link-active"><!---->
  首页
</a></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="Front-end Basics" class="dropdown-title"><span class="title"><!---->
      前端基础
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/webpack/html/" class="nav-link"><!---->
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/myblog/webpack/css/" class="nav-link"><!---->
  Css
</a></li><li class="dropdown-item"><!----> <a href="/myblog/webpack/javascript/" class="nav-link"><!---->
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/myblog/webpack/typescript/" class="nav-link"><!---->
  TypeScript
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><span class="title"><!---->
      计算机基础
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/webpack/algorithms/" class="nav-link"><!---->
  数据结构和算法
</a></li><li class="dropdown-item"><!----> <a href="/myblog/webpack/network/" class="nav-link"><!---->
  计算机网络/HTTP
</a></li><li class="dropdown-item"><!----> <a href="/myblog/webpack/network/输入url到页面展示全过程/" class="nav-link"><!---->
  输入url到页面展示全过程
</a></li><li class="dropdown-item"><!----> <a href="/myblog/webpack/operating-system/" class="nav-link"><!---->
  操作系统
</a></li><li class="dropdown-item"><!----> <a href="/myblog/webpack/design-model/" class="nav-link"><!---->
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/myblog/webpack/Web-Security/" class="nav-link"><!---->
  Web安全
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="框架和源码分析" class="dropdown-title"><span class="title"><!---->
      框架和源码分析
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/webpack/vue/Vue2原理和源码分析.html" class="nav-link"><!---->
  Vue 专题
</a></li><li class="dropdown-item"><!----> <a href="/myblog/webpack/React/" class="nav-link"><!---->
  React 专题
</a></li><li class="dropdown-item"><!----> <a href="/myblog/webpack/webpack/webpack构建原理.html" class="nav-link"><!---->
  webpack 专题
</a></li><li class="dropdown-item"><!----> <a href="/myblog/webpack/vite/" class="nav-link"><!---->
  vite 专题
</a></li><li class="dropdown-item"><!----> <a href="/myblog/webpack/axios/" class="nav-link"><!---->
  Axios 专题
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="浏览器" class="dropdown-title"><span class="title"><!---->
      浏览器
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/webpack/browser/浏览器原理/" class="nav-link"><!---->
  浏览器原理
</a></li><li class="dropdown-item"><!----> <a href="/myblog/webpack/browser/前端缓存和存储/" class="nav-link"><!---->
  前端缓存和存储
</a></li><li class="dropdown-item"><!----> <a href="/myblog/webpack/performance/前端调试技巧/" class="nav-link"><!---->
  前端调试技巧
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="node.js" class="dropdown-title"><span class="title"><!---->
      服务器
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/webpack/node/" class="nav-link"><!---->
  Node.js
</a></li><li class="dropdown-item"><!----> <a href="/myblog/webpack/linux/" class="nav-link"><!---->
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/myblog/webpack/mysql/" class="nav-link"><!---->
  MySQL
</a></li><li class="dropdown-item"><!----> <a href="/myblog/webpack/nginx/" class="nav-link"><!---->
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/myblog/webpack/docker/" class="nav-link"><!---->
  Docker
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="浏览器和性能优化" class="dropdown-title"><span class="title"><!---->
      性能优化
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/webpack/performance/性能优化指标和监控/" class="nav-link"><!---->
  性能优化指标和监控
</a></li><li class="dropdown-item"><!----> <a href="/myblog/webpack/performance/前端性能优化方案/" class="nav-link"><!---->
  前端性能优化方案
</a></li><li class="dropdown-item"><!----> <a href="/myblog/webpack/performance/一次管理后台的渲染优化/" class="nav-link"><!---->
  一次管理后台的渲染优化
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="前端工程" class="dropdown-title"><span class="title"><!---->
      前端工程
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/webpack/Front-end-Engineering/前端工程化/" class="nav-link"><!---->
  前端工程化
</a></li><li class="dropdown-item"><!----> <a href="/myblog/webpack/Front-end-Engineering/前端渲染架构/" class="nav-link"><!---->
  前端渲染架构
</a></li><li class="dropdown-item"><!----> <a href="/myblog/webpack/Front-end-Engineering/前端架构实践/" class="nav-link"><!---->
  前端架构实践
</a></li><li class="dropdown-item"><!----> <a href="/myblog/webpack/Front-end-Engineering/npm/" class="nav-link"><!---->
  npm
</a></li><li class="dropdown-item"><!----> <a href="/myblog/webpack/git/" class="nav-link"><!---->
  Git
</a></li><li class="dropdown-item"><!----> <a href="/myblog/webpack/projectDeploy/自动构建和部署/" class="nav-link"><!---->
  自动构建和部署
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="项目实践" class="dropdown-title"><span class="title"><!---->
      项目实践
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/webpack/projectDeploy/" class="nav-link"><!---->
  前端部署
</a></li><li class="dropdown-item"><!----> <a href="/myblog/webpack/componentsEncapsulation/组件和组件封装实践.html" class="nav-link"><!---->
  组件和组件封装实践
</a></li><li class="dropdown-item"><!----> <a href="/myblog/webpack/projectsSummary/登录与单点登录/" class="nav-link"><!---->
  登录与单点登录
</a></li><li class="dropdown-item"><!----> <a href="/myblog/webpack/projectsSummary/权限管理方案实践/" class="nav-link"><!---->
  权限管理方案实践
</a></li><li class="dropdown-item"><!----> <a href="/myblog/webpack/projectsSummary/Echarts二次封装实践/" class="nav-link"><!---->
  Echarts二次封装实践
</a></li><li class="dropdown-item"><!----> <a href="/myblog/webpack/projectsSummary/文档在线预览和编辑方案/" class="nav-link"><!---->
  文档在线预览和编辑方案
</a></li><li class="dropdown-item"><!----> <a href="/myblog/webpack/projectsSummary/移动端开发实践/" class="nav-link"><!---->
  移动端开发实践
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="项目搭建到原理分析" class="dropdown-title"><span class="title"><!---->
      项目搭建
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/webpack/projectsSummary/从零到一搭建SSR项目/" class="nav-link"><!---->
  从零到一搭建SSR项目
</a></li><li class="dropdown-item"><!----> <a href="/myblog/webpack/projectsSummary/从零到一搭建移动端SSG项目/" class="nav-link"><!---->
  从零到一搭建移动端SSG项目
</a></li><li class="dropdown-item"><!----> <a href="/myblog/webpack/projectsSummary/移动端SSG项目实践/" class="nav-link"><!---->
  移动端SSG项目实践
</a></li><li class="dropdown-item"><!----> <a href="/myblog/webpack/projectsSummary/从零到一搭建Vue2工程化项目/" class="nav-link"><!---->
  从零到一搭建Vue2工程化项目
</a></li><li class="dropdown-item"><!----> <a href="/myblog/webpack/projectsSummary/从零到一搭建Vue3工程化项目/" class="nav-link"><!---->
  从零到一搭建Vue3工程化项目
</a></li><li class="dropdown-item"><!----> <a href="/myblog/webpack/projectsSummary/搭建低代码平台/" class="nav-link"><!---->
  搭建低代码平台
</a></li><li class="dropdown-item"><!----> <a href="/myblog/webpack/projectsSummary/混合桌面应用开发实践/" class="nav-link"><!---->
  混合桌面应用开发实践
</a></li></ul></div></div> <!----></nav> <!----> <div class="content__sidebar-center"></div> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><!----> <span class="title">原理</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/myblog/webpack/webpack%E6%9E%84%E5%BB%BA%E5%8E%9F%E7%90%86/" class="sidebar-link">WebPack 构建原理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/webpack/webpack%E6%9E%84%E5%BB%BA%E5%8E%9F%E7%90%86/#webpack-基础配置项" class="sidebar-link">webpack 基础配置项</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/webpack%E6%9E%84%E5%BB%BA%E5%8E%9F%E7%90%86/#webpack-构建示例" class="sidebar-link">WebPack 构建示例</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/webpack/webpack%E6%9E%84%E5%BB%BA%E5%8E%9F%E7%90%86/#使用方式" class="sidebar-link heading3">使用方式</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/webpack%E6%9E%84%E5%BB%BA%E5%8E%9F%E7%90%86/#区别" class="sidebar-link heading3">区别</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/webpack%E6%9E%84%E5%BB%BA%E5%8E%9F%E7%90%86/#使用-webpack-核心对象构建" class="sidebar-link heading3">使用 webpack 核心对象构建</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/webpack/webpack%E6%9E%84%E5%BB%BA%E5%8E%9F%E7%90%86/#webpack-构建流程" class="sidebar-link">Webpack 构建流程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/webpack/webpack%E6%9E%84%E5%BB%BA%E5%8E%9F%E7%90%86/#构建执行总流程" class="sidebar-link heading3">构建执行总流程</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/webpack%E6%9E%84%E5%BB%BA%E5%8E%9F%E7%90%86/#函数调用流程" class="sidebar-link heading3">函数调用流程</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/webpack%E6%9E%84%E5%BB%BA%E5%8E%9F%E7%90%86/#初始化流程" class="sidebar-link heading3">初始化流程</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/webpack%E6%9E%84%E5%BB%BA%E5%8E%9F%E7%90%86/#编译流程" class="sidebar-link heading3">编译流程</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/webpack%E6%9E%84%E5%BB%BA%E5%8E%9F%E7%90%86/#输出流程" class="sidebar-link heading3">输出流程</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/webpack%E6%9E%84%E5%BB%BA%E5%8E%9F%E7%90%86/#构建函数流程图" class="sidebar-link heading3">构建函数流程图</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/webpack%E6%9E%84%E5%BB%BA%E5%8E%9F%E7%90%86/#常见问题" class="sidebar-link heading3">常见问题</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/webpack%E6%9E%84%E5%BB%BA%E5%8E%9F%E7%90%86/#参考资料" class="sidebar-link heading3">参考资料</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/webpack/webpack%E6%9E%84%E5%BB%BA%E5%8E%9F%E7%90%86/#手动实现打包器" class="sidebar-link">手动实现打包器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/webpack/webpack%E6%9E%84%E5%BB%BA%E5%8E%9F%E7%90%86/#打包流程" class="sidebar-link heading3">打包流程</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/webpack%E6%9E%84%E5%BB%BA%E5%8E%9F%E7%90%86/#核心步骤" class="sidebar-link heading3">核心步骤</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/webpack%E6%9E%84%E5%BB%BA%E5%8E%9F%E7%90%86/#打包器流程图" class="sidebar-link heading3">打包器流程图</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/webpack%E6%9E%84%E5%BB%BA%E5%8E%9F%E7%90%86/#实现代码" class="sidebar-link heading3">实现代码</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/webpack/webpack%E6%9E%84%E5%BB%BA%E5%8E%9F%E7%90%86/#参考资料-2" class="sidebar-link">参考资料</a></li></ul></li><li><a href="/myblog/webpack/Loader%E5%92%8CPlugin%E5%8E%9F%E7%90%86/" class="sidebar-link">Loader和Plugin原理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/webpack/Loader%E5%92%8CPlugin%E5%8E%9F%E7%90%86/#loader" class="sidebar-link">Loader</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/webpack/Loader%E5%92%8CPlugin%E5%8E%9F%E7%90%86/#loader-是什么" class="sidebar-link heading3">Loader 是什么？</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/Loader%E5%92%8CPlugin%E5%8E%9F%E7%90%86/#为什么要-loader" class="sidebar-link heading3">为什么要 Loader?</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/Loader%E5%92%8CPlugin%E5%8E%9F%E7%90%86/#loader-怎么用" class="sidebar-link heading3">Loader 怎么用？</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/Loader%E5%92%8CPlugin%E5%8E%9F%E7%90%86/#loader-特性" class="sidebar-link heading3">Loader 特性</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/Loader%E5%92%8CPlugin%E5%8E%9F%E7%90%86/#loader-原理" class="sidebar-link heading3">Loader 原理？</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/Loader%E5%92%8CPlugin%E5%8E%9F%E7%90%86/#常见-loader" class="sidebar-link heading3">常见 Loader</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/Loader%E5%92%8CPlugin%E5%8E%9F%E7%90%86/#手写-loader" class="sidebar-link heading3">手写 Loader</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/Loader%E5%92%8CPlugin%E5%8E%9F%E7%90%86/#参考资料" class="sidebar-link heading3">参考资料</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/webpack/Loader%E5%92%8CPlugin%E5%8E%9F%E7%90%86/#plugin" class="sidebar-link">Plugin</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/webpack/Loader%E5%92%8CPlugin%E5%8E%9F%E7%90%86/#plugin-是什么" class="sidebar-link heading3">Plugin 是什么？</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/Loader%E5%92%8CPlugin%E5%8E%9F%E7%90%86/#为什么要-plugin" class="sidebar-link heading3">为什么要 Plugin?</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/Loader%E5%92%8CPlugin%E5%8E%9F%E7%90%86/#plugin-怎么用" class="sidebar-link heading3">Plugin 怎么用？</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/Loader%E5%92%8CPlugin%E5%8E%9F%E7%90%86/#plugin-原理" class="sidebar-link heading3">Plugin 原理？</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/Loader%E5%92%8CPlugin%E5%8E%9F%E7%90%86/#plugin-常用-api" class="sidebar-link heading3">Plugin 常用 API</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/Loader%E5%92%8CPlugin%E5%8E%9F%E7%90%86/#手写-plugin" class="sidebar-link heading3">手写 Plugin</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/Loader%E5%92%8CPlugin%E5%8E%9F%E7%90%86/#常见的-plugin" class="sidebar-link heading3">常见的 Plugin</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/webpack/Loader%E5%92%8CPlugin%E5%8E%9F%E7%90%86/#plugin-与-loader-区别" class="sidebar-link">Plugin 与 Loader 区别？</a></li></ul></li><li><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/" aria-current="page" class="active sidebar-link">DevServer</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/#devserver-是什么" class="sidebar-link">DevServer 是什么</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/#devserver-功能" class="sidebar-link">DevServer 功能</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/#使用-devserver" class="sidebar-link">使用 DevServer</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/#devserver-原理" class="sidebar-link">DevServer 原理</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/#webpack-dev-middleware-原理" class="sidebar-link">`webpack-dev-middleware` 原理</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/#webpack-proxy" class="sidebar-link">WebPack proxy</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/#是什么" class="sidebar-link heading3">是什么？</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/#为什么" class="sidebar-link heading3">为什么？</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/#怎么用" class="sidebar-link heading3">怎么用？</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/#解决跨域原理" class="sidebar-link heading3">解决跨域原理</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/#代理原理" class="sidebar-link heading3">代理原理</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/#devserver-实时预览功能" class="sidebar-link">DevServer 实时预览功能</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/#监听模式" class="sidebar-link heading3">监听模式</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/#模块热替换" class="sidebar-link heading3">模块热替换</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/#source-map" class="sidebar-link">Source Map</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/#是什么-2" class="sidebar-link heading3">是什么？</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/#为什么需要-sourcemap" class="sidebar-link heading3">为什么需要 SourceMap？</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/#怎么用-2" class="sidebar-link heading3">怎么用？</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/#如何选择devtool-配置项" class="sidebar-link heading3">如何选择Devtool 配置项</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/#加载现有的-source-map" class="sidebar-link heading3">加载现有的 Source Map</a></li></ul></li></ul></li><li><a href="/myblog/webpack/webpack%E4%BC%98%E5%8C%96/" class="sidebar-link">webpack优化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/webpack/webpack%E4%BC%98%E5%8C%96/#总览" class="sidebar-link">总览</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/webpack%E4%BC%98%E5%8C%96/#参考资料" class="sidebar-link">参考资料</a></li></ul></li><li><a href="/myblog/webpack/webpackAPI%E5%88%86%E6%9E%90/" class="sidebar-link">webpackAPI分析</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/webpack/webpackAPI%E5%88%86%E6%9E%90/#webpack-模块方法" class="sidebar-link">webpack 模块方法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/webpack/webpackAPI%E5%88%86%E6%9E%90/#require-context" class="sidebar-link heading3">require.context</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/webpack/webpackAPI%E5%88%86%E6%9E%90/#参考" class="sidebar-link">参考</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><!----> <span class="title">实践</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/myblog/webpack/webpack%E9%A1%B9%E7%9B%AE%E5%AE%9E%E8%B7%B5/" class="sidebar-link">webpack项目实践</a></li><li><a href="/myblog/webpack/Vue2.5%E9%A1%B9%E7%9B%AEwebpack%E5%88%86%E6%9E%90/" class="sidebar-link">Vue2.5 项目 webpack 构建分析</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/webpack/Vue2.5%E9%A1%B9%E7%9B%AEwebpack%E5%88%86%E6%9E%90/#技术栈" class="sidebar-link">技术栈</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/Vue2.5%E9%A1%B9%E7%9B%AEwebpack%E5%88%86%E6%9E%90/#源码分析" class="sidebar-link">源码分析</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/webpack/Vue2.5%E9%A1%B9%E7%9B%AEwebpack%E5%88%86%E6%9E%90/#构建命令" class="sidebar-link heading3">构建命令</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/Vue2.5%E9%A1%B9%E7%9B%AEwebpack%E5%88%86%E6%9E%90/#webpack-目录分析" class="sidebar-link heading3">WebPack 目录分析</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/Vue2.5%E9%A1%B9%E7%9B%AEwebpack%E5%88%86%E6%9E%90/#构建入口分析" class="sidebar-link heading3">构建入口分析</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/Vue2.5%E9%A1%B9%E7%9B%AEwebpack%E5%88%86%E6%9E%90/#检查版本文件分析" class="sidebar-link heading3">检查版本文件分析</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/Vue2.5%E9%A1%B9%E7%9B%AEwebpack%E5%88%86%E6%9E%90/#工具脚本文件分析" class="sidebar-link heading3">工具脚本文件分析</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/Vue2.5%E9%A1%B9%E7%9B%AEwebpack%E5%88%86%E6%9E%90/#webpack-基础配置" class="sidebar-link heading3">WebPack 基础配置</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/Vue2.5%E9%A1%B9%E7%9B%AEwebpack%E5%88%86%E6%9E%90/#webpack-开发配置" class="sidebar-link heading3">Webpack 开发配置</a></li><li class="sidebar-sub-header"><a href="/myblog/webpack/Vue2.5%E9%A1%B9%E7%9B%AEwebpack%E5%88%86%E6%9E%90/#webpack-生产配置" class="sidebar-link heading3">WebPack 生产配置</a></li></ul></li></ul></li></ul></section></li></ul> <!----> <div class="content__sidebar-bottom"></div> <!----></aside> <main class="page"><nav class="breadcrumb"><ol vocab="https://schema.org/" typeof="BreadcrumbList"><li property="itemListElement" typeof="ListItem"><a href="/myblog/webpack/" property="item" typeof="WebPage" class="router-link-active"><!----> <span property="name">目录</span></a> <meta property="position" content="1"></li><li property="itemListElement" typeof="ListItem" class="is-active"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/" aria-current="page" property="item" typeof="WebPage" class="router-link-exact-active router-link-active"><!----> <span property="name">DevServer</span></a> <meta property="position" content="2"></li></ol></nav> <!----> <div class="content__page-top"></div> <div vocab="https://schema.org/" typeof="Article" class="page-title"><h1><!----> <span property="headline">DevServer</span></h1> <div class="page-info"><!----> <true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info></div> <!----> <hr></div> <div class="anchor-place-holder"><aside id="anchor"><div class="anchor-wrapper"><ul class="anchor-list"><li class="anchor"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/#devserver-是什么" class="anchor-link heading2"><div>DevServer 是什么</div></a></li><li class="anchor"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/#devserver-功能" class="anchor-link heading2"><div>DevServer 功能</div></a></li><li class="anchor"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/#使用-devserver" class="anchor-link heading2"><div>使用 DevServer</div></a></li><li class="anchor"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/#devserver-原理" class="anchor-link heading2"><div>DevServer 原理</div></a></li><li class="anchor"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/#webpack-dev-middleware-原理" class="anchor-link heading2"><div>`webpack-dev-middleware` 原理</div></a></li><li class="anchor"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/#webpack-proxy" class="anchor-link heading2"><div>WebPack proxy</div></a></li><li class="anchor"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/#是什么" class="anchor-link heading3"><div>是什么？</div></a></li><li class="anchor"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/#为什么" class="anchor-link heading3"><div>为什么？</div></a></li><li class="anchor"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/#怎么用" class="anchor-link heading3"><div>怎么用？</div></a></li><li class="anchor"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/#解决跨域原理" class="anchor-link heading3"><div>解决跨域原理</div></a></li><li class="anchor"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/#代理原理" class="anchor-link heading3"><div>代理原理</div></a></li><li class="anchor"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/#devserver-实时预览功能" class="anchor-link heading2"><div>DevServer 实时预览功能</div></a></li><li class="anchor"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/#监听模式" class="anchor-link heading3"><div>监听模式</div></a></li><li class="anchor"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/#模块热替换" class="anchor-link heading3"><div>模块热替换</div></a></li><li class="anchor"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/#source-map" class="anchor-link heading2"><div>Source Map</div></a></li><li class="anchor"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/#是什么-2" class="anchor-link heading3"><div>是什么？</div></a></li><li class="anchor"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/#为什么需要-sourcemap" class="anchor-link heading3"><div>为什么需要 SourceMap？</div></a></li><li class="anchor"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/#怎么用-2" class="anchor-link heading3"><div>怎么用？</div></a></li><li class="anchor"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/#如何选择devtool-配置项" class="anchor-link heading3"><div>如何选择Devtool 配置项</div></a></li><li class="anchor"><a href="/myblog/webpack/DevServer%E5%8E%9F%E7%90%86/#加载现有的-source-map" class="anchor-link heading3"><div>加载现有的 Source Map</div></a></li></ul></div></aside></div> <!----> <div class="content__content-top"></div> <div class="theme-default-content content__default"><h1 id="devserver"><a href="#devserver" class="header-anchor">#</a> DevServer</h1> <p><img src="/myblog/assets/img/DevServer.46aecc48.png" alt="DevServer"></p> <h2 id="devserver-是什么"><a href="#devserver-是什么" class="header-anchor">#</a> <strong>DevServer 是什么</strong></h2> <p>Webpack DevServer 是一个方便开发的小型 HTTP 服务器，主要用于在开发过程中提供模块热替换（HMR）和源映射（source maps）等功能。</p> <h2 id="devserver-功能"><a href="#devserver-功能" class="header-anchor">#</a> DevServer 功能</h2> <ol><li>提供 HTTP 服务而不是使用本地文件预览；</li> <li>监听文件的变化并自动刷新网页，做到实时预览；</li> <li>支持 Source Map，以方便调试。</li> <li><code>webpack</code>代理服务，解决跨域问题。</li></ol> <p>Webpack DevServer 常见功能和配置选项:</p> <table><thead><tr><th style="text-align:left;">功能</th> <th style="text-align:left;">配置选项</th> <th style="text-align:left;">解决的问题</th></tr></thead> <tbody><tr><td style="text-align:left;">静态文件服务</td> <td style="text-align:left;"><code>contentBase</code></td> <td style="text-align:left;">在开发环境中提供静态文件的本地服务器</td></tr> <tr><td style="text-align:left;">实时重载</td> <td style="text-align:left;"><code>hot</code></td> <td style="text-align:left;">当源代码发生变化时，自动刷新页面以显示最新的更改</td></tr> <tr><td style="text-align:left;">热模块替换</td> <td style="text-align:left;"><code>hotOnly</code></td> <td style="text-align:left;">替换或插入模块的代码更新，而不刷新整个页面</td></tr> <tr><td style="text-align:left;">路由历史回退</td> <td style="text-align:left;"><code>historyApiFallback</code></td> <td style="text-align:left;">用于单页应用程序，使得在路由切换时能够正确地回退到指定页面</td></tr> <tr><td style="text-align:left;">代理</td> <td style="text-align:left;"><code>proxy</code></td> <td style="text-align:left;">将特定请求路径转发到其他服务器，解决跨域请求的问题</td></tr> <tr><td style="text-align:left;">自动打开浏览器</td> <td style="text-align:left;"><code>open</code></td> <td style="text-align:left;">启动DevServer时自动打开默认浏览器</td></tr> <tr><td style="text-align:left;">自定义端口</td> <td style="text-align:left;"><code>port</code></td> <td style="text-align:left;">指定DevServer监听的端口号</td></tr> <tr><td style="text-align:left;">自定义主机</td> <td style="text-align:left;"><code>host</code></td> <td style="text-align:left;">指定DevServer绑定的主机地址</td></tr> <tr><td style="text-align:left;">HTTPS支持</td> <td style="text-align:left;"><code>https</code></td> <td style="text-align:left;">在DevServer上启用HTTPS协议</td></tr> <tr><td style="text-align:left;">代理请求日志</td> <td style="text-align:left;"><code>proxy</code></td> <td style="text-align:left;">在控制台输出代理请求的详细日志信息</td></tr> <tr><td style="text-align:left;">压缩输出</td> <td style="text-align:left;"><code>compress</code></td> <td style="text-align:left;">压缩DevServer的输出，减小传输大小</td></tr> <tr><td style="text-align:left;">启用模块热替换日志</td> <td style="text-align:left;"><code>clientLogLevel</code></td> <td style="text-align:left;">控制台输出模块热替换相关的日志信息</td></tr> <tr><td style="text-align:left;">启用错误提示</td> <td style="text-align:left;"><code>overlay</code></td> <td style="text-align:left;">在页面上显示编译错误和警告信息</td></tr> <tr><td style="text-align:left;">自定义404页面</td> <td style="text-align:left;"><code>historyApiFallback</code></td> <td style="text-align:left;">当请求的资源不存在时，显示自定义的404页面</td></tr></tbody></table> <p>请注意，这里列出的只是一些常见功能和配置选项，Webpack DevServer还提供了其他更高级的功能和配置选项，如HTTP/2支持、自定义中间件、Webpack插件支持等。具体的功能和配置选项可以参考Webpack DevServer的官方文档。</p> <h2 id="使用-devserver"><a href="#使用-devserver" class="header-anchor">#</a> <strong>使用</strong> DevServer</h2> <ol><li>首先需要安装 DevServer：</li></ol> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i <span class="token parameter variable">-D</span> webpack-dev-server
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>安装成功后执行 <code>webpack-dev-server</code> 命令， DevServer 就启动了，这时你会看到控制台有一串日志输出：</li></ol> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>Project is running at http://localhost:8080/
webpack output is served from /
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>DevServer 启动的 HTTP 服务器监听在 <code>http://localhost:8080/</code></p> <p>DevServer 启动后会一直驻留在后台保持运行，访问这个网址你就能获取项目根目录下的 <code>index.html</code>。</p> <p>用浏览器打开这个地址你会发现页面空白错误原因是 <code>./dist/bundle.js</code> 加载404了。 同时你会发现并没有文件输出到 <code>dist</code> 目录，原因是 DevServer 会把 Webpack 构建出的文件保存在内存中，在要访问输出的文件时，必须通过 HTTP 服务访问。 由于 DevServer 不会理会 <code>webpack.config.js</code> 里配置的 <code>output.path</code> 属性，所以要获取 <code>bundle.js</code> 的正确 URL 是 <code>http://localhost:8080/bundle.js</code>，对应的 <code>index.html</code> 应该修改为：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--导入 DevServer 输出的 JavaScript 文件--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bundle.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></blockquote> <ol start="3"><li><p><code>webpack.config.js</code> 文件中配置 devServer:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...其他Webpack配置</span>

  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">contentBase</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//指定静态文件的根目录，这里设置为dist目录。</span>
    <span class="token literal-property property">hot</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//启用模块热替换，实现实时更新。</span>
    <span class="token literal-property property">historyApiFallback</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//启用路由历史回退，用于单页应用程序。</span>
    <span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token comment">//配置代理规则，将以/api开头的请求转发到http://api.example.com。</span>
      <span class="token string-property property">'/api'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">'http://api.example.com'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">pathRewrite</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">'^/api'</span><span class="token operator">:</span> <span class="token string">''</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//启动DevServer时自动打开默认浏览器。</span>
    <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">8080</span><span class="token punctuation">,</span><span class="token comment">//指定DevServer监听的端口号为8080。</span>
    <span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token string">'localhost'</span><span class="token punctuation">,</span><span class="token comment">//指定DevServer绑定的主机地址为localhost。</span>
    <span class="token literal-property property">https</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//禁用HTTPS支持。</span>
    <span class="token literal-property property">compress</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//启用输出压缩，减小传输大小。</span>
    <span class="token literal-property property">clientLogLevel</span><span class="token operator">:</span> <span class="token string">'info'</span><span class="token punctuation">,</span><span class="token comment">//设置模块热替换日志级别为info。</span>
    <span class="token literal-property property">overlay</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//在页面上显示编译错误和警告信息。</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div></li></ol> <h2 id="devserver-原理"><a href="#devserver-原理" class="header-anchor">#</a> <strong>DevServer 原理</strong></h2> <p>DevServer 其实是基于 <a href="https://github.com/webpack/webpack-dev-middleware" target="_blank" rel="noopener noreferrer">webpack-dev-middleware<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 和 <a href="https://expressjs.com/" target="_blank" rel="noopener noreferrer">Expressjs<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 实现的， 而 <code>webpack-dev-middleware</code> 其实是 Expressjs 的一个中间件。</p> <p>DevServer 基本功能的代码大致如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> webpackMiddleware <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack-dev-middleware'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 从 webpack.config.js 文件中读取 Webpack 配置 </span>
<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./webpack.config.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 用读取到的 Webpack 配置实例化一个 Compiler</span>
<span class="token keyword">const</span> compiler <span class="token operator">=</span> <span class="token function">webpack</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 实例化一个 Expressjs app</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 给 app 注册 webpackMiddleware 中间件</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">webpackMiddleware</span><span class="token punctuation">(</span>compiler<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 启动 HTTP 服务器，服务器监听在 3000 端口 </span>
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><blockquote><p>DevServer 核心是使用  <code>webpack-dev-middleware</code>  中间件实现</p></blockquote> <h2 id="webpack-dev-middleware-原理"><a href="#webpack-dev-middleware-原理" class="header-anchor">#</a> <strong><code>webpack-dev-middleware</code> 原理</strong></h2> <p><code>webpack-dev-middleware</code> 中导出 <code>webpackMiddleware</code> 是一个函数，该函数需要接收一个 Compiler 实例。</p> <p><code>webpackMiddleware</code> 函数的返回结果是一个 Expressjs 的中间件，该中间件有以下功能：</p> <ul><li>接收来自 Webpack Compiler 实例输出的文件，但不会把文件输出到硬盘，而是保存在内存中；</li> <li>往 Expressjs app 上注册路由，拦截 HTTP 收到的请求，根据请求路径响应对应的文件内容；</li></ul> <p>通过 webpack-dev-middleware 能够将 DevServer 集成到现有的 HTTP 服务器中，让现有的 HTTP 服务器能返回 Webpack 构建出的内容，而不是在开发时启动多个 HTTP 服务器。 这特别适用于后端接口服务采用 Node.js 编写的项目。</p> <p>具体来说，webpack-dev-middleware具备以下功能：</p> <ol><li><strong>快速响应</strong>：它使用<strong>内存作为文件系统</strong>，所以文件的更改能够快速地被反映。</li> <li><strong>实时编译</strong>：当源文件发生改变时，<code>webpack-dev-middleware</code> 能够实时编译新的代码，并把编译后的文件输出到内存中。</li> <li><strong>自动刷新</strong>：当源代码发生改变时，浏览器会自动刷新，显示最新的代码。</li> <li><strong>支持热替换</strong>（Hot Module Replacement）：这允许开发者在不刷新整个页面的情况下替换、添加或删除模块。</li> <li><strong>自定义配置</strong>：除了webpack的配置，开发者还可以对webpack-dev-middleware进行自定义配置，以满足特定的需求。</li></ol> <p><strong>Webpack Dev Middleware 支持的配置项:</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// webpackMiddleware 函数的第二个参数为配置项</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">webpackMiddleware</span><span class="token punctuation">(</span>compiler<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token comment">// webpack-dev-middleware 所有支持的配置项</span>
    <span class="token comment">// 只有 publicPath 属性为必填，其它都是选填项</span>

    <span class="token comment">// Webpack 输出资源绑定在 HTTP 服务器上的根目录，</span>
    <span class="token comment">// 和 Webpack 配置中的 publicPath 含义一致 </span>
    <span class="token literal-property property">publicPath</span><span class="token operator">:</span> <span class="token string">'/assets/'</span><span class="token punctuation">,</span>

    <span class="token comment">// 不输出 info 类型的日志到控制台，只输出 warn 和 error 类型的日志</span>
    <span class="token literal-property property">noInfo</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>

    <span class="token comment">// 不输出任何类型的日志到控制台</span>
    <span class="token literal-property property">quiet</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>

    <span class="token comment">// 切换到懒惰模式，这意味着不监听文件变化，只会在请求到时再去编译对应的文件，</span>
    <span class="token comment">// 这适合页面非常多的项目。</span>
    <span class="token literal-property property">lazy</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>

    <span class="token comment">// watchOptions</span>
    <span class="token comment">// 只在非懒惰模式下才有效</span>
    <span class="token literal-property property">watchOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">aggregateTimeout</span><span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span>
        <span class="token literal-property property">poll</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">// 默认的 URL 路径, 默认是 'index.html'.</span>
    <span class="token literal-property property">index</span><span class="token operator">:</span> <span class="token string">'index.html'</span><span class="token punctuation">,</span>

    <span class="token comment">// 自定义 HTTP 头</span>
    <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token string-property property">'X-Custom-Header'</span><span class="token operator">:</span> <span class="token string">'yes'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">// 给特定文件后缀的文件添加 HTTP mimeTypes ，作为文件类型映射表</span>
    <span class="token literal-property property">mimeTypes</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token string-property property">'text/html'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'phtml'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">// 统计信息输出样式</span>
    <span class="token literal-property property">stats</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">colors</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">// 自定义输出日志的展示方法</span>
    <span class="token literal-property property">reporter</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>

    <span class="token comment">// 开启或关闭服务端渲染</span>
    <span class="token literal-property property">serverSideRender</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br></div></div><h2 id="webpack-proxy"><a href="#webpack-proxy" class="header-anchor">#</a> <strong>WebPack proxy</strong></h2> <h3 id="是什么"><a href="#是什么" class="header-anchor">#</a> <strong>是什么？</strong></h3> <blockquote><p>Webpack的代理功能（proxy）允许你在开发过程中将特定的HTTP请求转发到其他服务器上。</p></blockquote> <h3 id="为什么"><a href="#为什么" class="header-anchor">#</a> <strong>为什么？</strong></h3> <blockquote><p>通过本地代理服务解决<strong>开发中</strong>跨域请求的问题</p></blockquote> <p>代理功能允许你在开发过程中将请求代理到其他服务器上，以解决跨域请求的问题。</p> <p>通过配置代理规则，Webpack DevServer可以将特定的请求路径映射到远程服务器上，从而绕过同源策略。</p> <h3 id="怎么用"><a href="#怎么用" class="header-anchor">#</a> <strong>怎么用？</strong></h3> <p>在<code>webpack</code>配置对象属性中通过<code>devServer</code>属性提供，如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// ./webpack.config.js</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">contentBase</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">compress</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">9000</span><span class="token punctuation">,</span>
        <span class="token comment">// 配置本地代理</span>
        <span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string-property property">'/api'</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 代理匹配的路径</span>
                <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">'https://test.com'</span> <span class="token comment">// 转发的路径，通过将原路径中 /api 替换成 https://test.com</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p><code>devServetr</code>里面<code>proxy</code>则是关于代理的配置，该属性为对象的形式，对象中每一个属性就是一个代理的规则匹配：</p> <ul><li><p>属性的名称是需要被代理的请求路径前缀，一般为了辨别都会设置前缀为<code>/api</code></p></li> <li><p>值为对应的代理匹配规则，对应如下：</p> <ul><li><p>target：表示的是代理到的目标地址；</p></li> <li><p>pathRewrite：默认情况下，我们的<code>/api-hy</code>也会被写入到URL中，如果希望删除，可以使用pathRewrite</p></li> <li><p>secure：默认情况下不接收转发到 https 的服务器上，如果希望支持，可以设置为false；</p></li> <li><p>changeOrigin：它表示是否更新代理后请求的 headers 中host地址</p></li></ul></li></ul> <h3 id="解决跨域原理"><a href="#解决跨域原理" class="header-anchor">#</a> <strong>解决跨域原理</strong></h3> <ul><li><p>在开发阶段， <code>webpack-dev-server</code> 会启动一个本地开发服务器，所以我们的应用在开发阶段是独立运行在 <code>localhost</code>的一个端口上，而后端服务又是运行在另外一个地址上；</p></li> <li><p>所以在开发阶段中，由于浏览器同源策略的原因，当本地访问后端就会出现跨域请求的问题；</p></li> <li><p>通过设置<code>webpack proxy</code>实现代理请求后，相当于浏览器与服务端中添加一个代理者；</p></li> <li><p>当本地发送请求的时候，代理服务器响应该请求，并将请求转发到目标服务器，目标服务器响应数据后再将数据返回给代理服务器，最终再由代理服务器将数据响应给本地；</p></li> <li><p>在代理服务器传递数据给本地浏览器的过程中，两者同源，并不存在跨域行为，这时候浏览器就能正常接收数据。</p></li></ul> <p><img src="/myblog/assets/img/跨域.964a1a15.png" alt="img"></p> <p>注意：<strong>服务器与服务器之间请求数据并不会存在跨域行为，跨域行为是浏览器安全策略限制</strong></p> <h3 id="代理原理"><a href="#代理原理" class="header-anchor">#</a> <strong>代理原理</strong></h3> <p>Webpack的代理功能（proxy）通过<strong>拦截和转发HTTP请求来实现</strong>：</p> <ol><li>当Webpack DevServer收到一个HTTP请求时，它会检查请求的URL是否匹配了代理配置中定义的规则。</li> <li>如果匹配成功，Webpack DevServer将会将该请求转发到代理目标服务器上，并将响应返回给客户端。
<ul><li>当一个请求到达Webpack DevServer时，它会检查请求的URL是否与代理配置中的源路径匹配。如果匹配成功，Webpack DevServer将会将该请求转发到配置的目标URL。</li> <li>在转发请求时，Webpack DevServer会将原始请求的URL进行修改，以便与目标服务器的路径匹配（如果配置了路径重写）。</li></ul></li></ol> <p>代理配置规则通常包括以下信息：</p> <ol><li><strong>源路径（context）</strong>：指定需要被代理的请求路径的前缀或模式。例如，<code>/api</code>或<code>/api/**</code>。</li> <li><strong>目标URL（target）</strong>：指定将请求转发到的目标服务器的URL。例如，<code>http://api.example.com</code>。</li> <li><strong>路径重写（pathRewrite）</strong>：可选项，用于对请求路径进行修改。可以用于移除前缀、重定向到其他路径等操作。</li></ol> <p>webpack 中提供服务器的工具为 <code>webpack-dev-server</code>，<code>webpack-dev-server</code>是 <code>webpack</code> 官方推出的一款开发工具，将自动编译和自动刷新浏览器等一系列对开发友好的功能全部集成在了一起。</p> <p><code>webpack-dev-server</code>目的是为了提高开发者日常的开发效率，<strong>只适用在开发阶段</strong></p> <p><code>proxy</code>工作原理实质上是利用<code>http-proxy-middleware</code> 这个<code>http</code>代理中间件，实现请求转发给其他服务器：</p> <blockquote><p>在开发阶段，本地地址为<code>http://localhost:3000</code>，该浏览器发送一个前缀带有<code>/api</code>标识的请求到服务端获取数据，但响应这个请求的服务器只是将请求转发到另一台服务器中</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http-proxy-middleware'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/api'</span><span class="token punctuation">,</span> <span class="token function">proxy</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">'http://www.example.org'</span><span class="token punctuation">,</span> <span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// http://localhost:3000/api/foo/bar -&gt; http://www.example.org/api/foo/bar</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></blockquote> <h2 id="devserver-实时预览功能"><a href="#devserver-实时预览功能" class="header-anchor">#</a> <strong>DevServer 实时预览功能</strong></h2> <p>Webpack DevServe 实现实时预览有两种模式：</p> <ol><li><strong>监听模式</strong>：当发生变化时重新执行完构建后通知 DevServer，DevServer <strong>重新刷新页面</strong>，进行实时预览；</li> <li><strong>模块热替换</strong>：在<strong>不重新加载整个网页</strong>的情况下，通过将被更新过的模块替换老的模块，再重新执行一次来实现实时预览。</li></ol> <h3 id="监听模式"><a href="#监听模式" class="header-anchor">#</a> <strong>监听模式</strong></h3> <blockquote><p>文件监听是在发现源码文件发生变化时，自动重新构建出新的输出文件。</p></blockquote> <h4 id="开启监听模式"><a href="#开启监听模式" class="header-anchor">#</a> <strong>开启监听模式</strong></h4> <p>要让 Webpack 开启监听模式，有两种方式：</p> <ul><li>在配置文件 <code>webpack.config.js</code> 中设置 <code>watch: true</code>。</li> <li>在执行启动 Webpack 命令时，带上 <code>--watch</code> 参数，完整命令是 <code>webpack --watch</code>。</li></ul> <p><strong>命令行传入</strong></p> <p>Webpack 默认是关闭监听模式的，在启动 Webpack 时通过 <code>webpack --watch</code> 来开启监听模式。</p> <p><strong>文件配置</strong></p> <p>相关的配置项如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span>export <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// 只有在开启监听模式时，watchOptions 才有意义</span>
  <span class="token comment">// 默认为 false，也就是不开启</span>
  <span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token comment">// 监听模式运行时的参数</span>
  <span class="token comment">// 在开启监听模式时，才有意义</span>
  <span class="token literal-property property">watchOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 不监听的文件或文件夹，支持正则匹配</span>
    <span class="token comment">// 默认为空</span>
    <span class="token literal-property property">ignored</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
    <span class="token comment">// 监听到变化发生后会等300ms再去执行动作，防止文件更新太快导致重新编译频率太高</span>
    <span class="token comment">// 默认为 300ms</span>
    <span class="token literal-property property">aggregateTimeout</span><span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span>
    <span class="token comment">// 判断文件是否发生变化是通过不停的去询问系统指定文件有没有变化实现的</span>
    <span class="token comment">// 默认每隔1000毫秒询问一次</span>
    <span class="token literal-property property">poll</span><span class="token operator">:</span> <span class="token number">1000</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h4 id="监听模式缺陷"><a href="#监听模式缺陷" class="header-anchor">#</a> <strong>监听模式缺陷</strong></h4> <p><strong>不能监听 <code>.html</code> 文件变化</strong></p> <blockquote><p>如果尝试修改 <code>index.html</code> 文件并保存，你会发现这并不会使 webpack 重新执行构建；</p> <p>导致这个问题的原因是 Webpack 在启动时会以配置里的 <code>entry</code> 为入口去递归解析出 <code>entry</code> 所依赖的文件，只有 <code>entry</code> 本身和依赖的文件才会被 Webpack 添加到监听列表里。</p> <p>而 <code>index.html</code> 文件是脱离了 JavaScript 模块化系统的，所以 Webpack 不知道它的存在。</p></blockquote> <h4 id="自动更新原理"><a href="#自动更新原理" class="header-anchor">#</a> <strong>自动更新原理</strong></h4> <p>通过 DevServer 启动的 Webpack 会开启监听模式，当<strong>发生变化时重新执行完构建后通知 DevServer</strong>。</p> <ol><li><p><strong>注入代理客户端</strong>：DevServer 会让 Webpack 在构建出的 JavaScript 代码里<strong>注入一个代理客户端用于控制网页</strong>，网页和 DevServer 之间通过 WebSocket 协议通信， 以方便 DevServer 主动向客户端发送命令。</p></li> <li><p>**定时获取文件的最后编辑时间：**Webpack <strong>定时的去获取文件的最后编辑时间</strong>，每次都存下最新的最后编辑时间，如果发现当前获取的和最后一次保存的最后编辑时间不一致，就认为该文件发生了变化。</p></li> <li><p>**通知客户端网页自动刷新：**DevServer 在收到来自 Webpack 的文件变化通知时通过注入的客户端控制网页刷新。</p></li></ol> <p>通过以上原理分析可以发现，主要涉及两个原理：</p> <ol><li>获取文件变化原理：定时的去获取文件的最后编辑时间。</li> <li>自动刷新浏览器原理：监听到文件更新后的下一步是去刷新浏览器，webpack 模块负责监听文件，<code>webpack-dev-server</code> 模块则负责刷新浏览器。</li></ol> <h4 id="文件监听原理"><a href="#文件监听原理" class="header-anchor">#</a> <strong>文件监听原理</strong></h4> <ol><li><p>Webpack <strong>定时的去获取文件的最后编辑时间</strong>，每次都存下最新的最后编辑时间，如果发现当前获取的和最后一次保存的最后编辑时间不一致，就认为该文件发生了变化。</p> <ul><li>配置项中的 <code>watchOptions.poll</code> 就是用于控制定时检查的周期，具体含义是每隔多少毫秒检查一次。</li></ul></li> <li><p>当发现某个文件发生了变化时，并不会立刻告诉监听者，而是先缓存起来，收集一段时间的变化后，再一次性告诉监听者。</p> <ul><li>配置项中的 <code>watchOptions.aggregateTimeout</code> 就是用于配置这个等待时间。这样做的目的是因为我们在编辑代码的过程中可能会高频的输入文字导致文件变化的事件高频的发生，如果每次都重新执行构建就会让构建卡死。</li></ul></li> <li><p>对于多个文件来说，默认情况下 Webpack 会从配置的 Entry 文件出发，递归解析出 Entry 文件所依赖的文件，把这些依赖的文件都加入到监听列表中去。</p></li></ol> <h4 id="自动刷新浏览器原理"><a href="#自动刷新浏览器原理" class="header-anchor">#</a> <strong>自动刷新浏览器原理</strong></h4> <p>监听到文件更新后的下一步是去刷新浏览器，webpack 模块负责监听文件，<code>webpack-dev-server</code> 模块则负责刷新浏览器。</p> <p>在使用 <code>webpack-dev-server</code> 模块去启动 webpack 模块时，webpack 模块的监听模式默认会被开启。</p> <p>webpack 模块会在文件发生变化时告诉 <code>webpack-dev-server</code> 模块。</p> <p>控制浏览器刷新有三种方法：</p> <ol><li>借助浏览器扩展去通过浏览器提供的接口刷新。</li> <li>往要开发的网页中注入代理客户端代码，通过代理客户端去刷新整个页面。</li> <li>把要开发的网页装进一个 iframe 中，通过刷新 iframe 去看到最新效果。</li></ol> <p>DevServer 支持第2、3种方法，第2种是 DevServer 默认采用的刷新方法。</p> <p>通过 DevServer 启动构建后，在浏览器中打开网址 <code>http://localhost:8080/</code> 后， 在浏览器的开发者工具中你会发现由代理客户端向 DevServer 发起的 WebSocket 连接：</p> <p><img src="/myblog/assets/img/webpack-websockets.8087cccb.png" alt="image-20240124151046790"></p> <p><strong>配置浏览器自动刷新：</strong></p> <p>配置项<code>devServer.inline</code>，它就是用来控制是否往 Chunk 中注入代理客户端的，<strong>默认会注入</strong>。</p> <h4 id="优化文件监听性能"><a href="#优化文件监听性能" class="header-anchor">#</a> <strong>优化文件监听性能</strong></h4> <p>由于保存文件的路径和最后编辑时间需要占用内存，定时检查周期检查需要占用 CPU 以及文件 I/O，所以最好减少需要监听的文件数量和降低检查频率。</p> <p><strong>优化方案</strong></p> <ol><li>忽略监听 <code>node_modules</code> 下的文件；</li> <li><code>watchOptions.aggregateTimeout</code> 值越大性能越好，因为这能降低重新构建的频率。</li> <li><code>watchOptions.poll</code> 值越大越好，因为这能降低检查的频率。</li></ol> <p><strong>忽略监听 <code>node_modules</code> 下的文件：</strong></p> <blockquote><p>开启监听模式时，默认情况下会监听配置的 Entry 文件和所有其递归依赖的文件。</p> <p>在这些文件中会有很多存在于 <code>node_modules</code> 下，因为如今的 Web 项目会依赖大量的第三方模块。</p> <p>在大多数情况下我们都不可能去编辑 <code>node_modules</code> 下的文件，而是编辑自己建立的源码文件。</p></blockquote> <p>配置如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span>export <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">watchOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 不监听的 node_modules 目录下的文件</span>
    <span class="token literal-property property">ignored</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="优化自动刷新的性能"><a href="#优化自动刷新的性能" class="header-anchor">#</a> <strong>优化自动刷新的性能</strong></h4> <p><strong>存在问题：</strong></p> <p>在开启 inline 时，DevServer 会为每个输出的 Chunk 中注入代理客户端的代码，当你的项目需要输出的 Chunk 有很多个时，这会导致你的构建缓慢。</p> <p>其实要完成自动刷新，一个页面只需要一个代理客户端就行了，DevServer 之所以粗暴的为每个 Chunk 都注入，是因为它不知道某个网页依赖哪几个 Chunk，索性就全部都注入一个代理客户端。 网页只要依赖了其中任何一个 Chunk，代理客户端就被注入到网页中去。</p> <p><strong>优化的思路：</strong></p> <blockquote><p>关闭 inline 模式，只注入一个代理客户端。</p></blockquote> <p>关闭 inline 模式：在启动 DevServer 时，可通过执行命令 <code>webpack-dev-server --inline false</code>（也可以在配置文件中设置）</p> <p>在关闭了 inline 后，DevServer 会自动地提示你通过新网址 <code>http://localhost:8080/webpack-dev-server/</code> 去访问：</p> <p><img src="/myblog/assets/img/webpack-dev-server.cd4224f0.png" alt="image-20240124152721862"></p> <blockquote><p><strong>在关闭 inline 后，webpack 讲要开发的网页被放进了一个 iframe 中，编辑源码后，iframe 会被自动刷新</strong>。</p></blockquote> <h3 id="模块热替换"><a href="#模块热替换" class="header-anchor">#</a> <strong>模块热替换</strong></h3> <blockquote><p>模块热替换: 在<strong>不重新加载整个网页的情况下，通过将被更新过的模块替换老的模块</strong>，再重新执行一次来实现实时预览。</p></blockquote> <h4 id="为什么需要模块热替换"><a href="#为什么需要模块热替换" class="header-anchor">#</a> <strong>为什么需要模块热替换？</strong></h4> <p>Webpack 打包器的开发服务器将构建内容存入内存，这样它们只需要在文件更改时使模块图的一部分失活[<a href="https://cn.vitejs.dev/guide/why.html#footnote-1" target="_blank" rel="noopener noreferrer">1]<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，但它也仍需要整个重新构建并重载页面。</p> <p>这样代价很高，并且重新加载页面会消除应用的当前状态，所以打包器支持了动态模块热替换（HMR）；</p> <h4 id="什么是模块热替换"><a href="#什么是模块热替换" class="header-anchor">#</a> <strong>什么是模块热替换？</strong></h4> <p>允许一个模块 “热替换” 它自己，而不会影响页面其余部分。</p> <p>大大改进了开发体验。</p> <h4 id="开启模块热替换"><a href="#开启模块热替换" class="header-anchor">#</a> <strong>开启模块热替换</strong></h4> <p>开启模块热替换有三种方式：</p> <p><strong>1.命令行开启：</strong></p> <p>模块热替换默认是关闭的，要开启模块热替换，你只需在启动 DevServer 时带上 <code>--hot</code> 参数，重启 DevServer 后再去更新文件，完整命令是 <code>webpack-dev-server --hot</code>。</p> <p><strong>2.webpack 配置：</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 开启 HMR 特性</span>
    <span class="token literal-property property">hot</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token comment">// hotOnly: true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>3.接入 <code>webpack-hot-middleware</code> 中间件：</strong></p> <p>第1步：修改 HTTP 服务器代码 <code>server.js</code> 文件，接入 <code>webpack-hot-middleware</code> 中间件，修改如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> webpackMiddleware <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack-dev-middleware'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 从 webpack.config.js 文件中读取 Webpack 配置</span>
<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./webpack.config.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 实例化一个 Expressjs app</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 用读取到的 Webpack 配置实例化一个 Compiler</span>
<span class="token keyword">const</span> compiler <span class="token operator">=</span> <span class="token function">webpack</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 给 app 注册 webpackMiddleware 中间件</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">webpackMiddleware</span><span class="token punctuation">(</span>compiler<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 为了支持模块热替换，响应用于替换老模块的资源</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack-hot-middleware'</span><span class="token punctuation">)</span><span class="token punctuation">(</span>compiler<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 把项目根目录作为静态资源目录，用于服务 HTML 文件</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 启动 HTTP 服务器，服务器监听在 3000 端口</span>
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'成功监听在 3000'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>第2步：修改 <code>webpack.config.js</code> 文件，加入 <code>HotModuleReplacementPlugin</code> 插件，修改如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> HotModuleReplacementPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack/lib/HotModuleReplacementPlugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token comment">// 为每个入口都注入代理客户端</span>
    <span class="token literal-property property">main</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'webpack-dev-server/client?http://localhost:8080/'</span><span class="token punctuation">,</span> <span class="token string">'webpack/hot/dev-server'</span><span class="token punctuation">,</span><span class="token string">'./src/main.js'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// 该插件的作用就是实现模块热替换，实际上当启动时带上 `--hot` 参数，会注入该插件，生成 .hot-update.json 文件。</span>
    <span class="token keyword">new</span> <span class="token class-name">HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token comment">// 告诉 DevServer 要开启模块热替换模式</span>
    <span class="token literal-property property">hot</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>      
  <span class="token punctuation">}</span>  
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><blockquote><p>在启动 Webpack 时带上参数 <code>--hot</code> 其实就是自动为你完成以上配置</p></blockquote> <p>第3步：修改执行入口文件 <code>main.js</code>，加入替换逻辑，在文件末尾加入以下代码：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>module<span class="token punctuation">.</span>hot<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  module<span class="token punctuation">.</span>hot<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>第4步：安装新引入的依赖：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i <span class="token parameter variable">-D</span> webpack-dev-middleware webpack-hot-middleware express
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="模块热替换优势"><a href="#模块热替换优势" class="header-anchor">#</a> <strong>模块热替换优势</strong></h4> <ul><li>实时预览反应更快，等待时间更短。</li> <li>不刷新浏览器能保留当前网页的运行状态，例如在使用 Redux 来管理数据的应用中搭配模块热替换能做到代码更新时 Redux 中的数据还保持不变。</li></ul> <h4 id="模块热替换缺陷"><a href="#模块热替换缺陷" class="header-anchor">#</a> <strong>模块热替换缺陷</strong></h4> <blockquote><p>需要去指定哪些模块发生更新时进行<code>HRM</code></p></blockquote> <p>使用模块特替换时，修改并保存<code>css</code>文件，确实能够以不刷新的形式更新到页面中</p> <p>但是，当我们修改并保存<code>js</code>文件之后，页面依旧自动刷新了，这里并没有触发热模块</p> <p>所以，<code>HMR</code>并不像 <code>Webpack</code> 的其他特性一样可以开箱即用，需要去指定哪些模块发生更新时进行<code>HRM</code>，如下代码：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">if</span><span class="token punctuation">(</span>module<span class="token punctuation">.</span>hot<span class="token punctuation">)</span><span class="token punctuation">{</span>
    module<span class="token punctuation">.</span>hot<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token string">'./util.js'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;util.js更新了&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="模块热替换原理"><a href="#模块热替换原理" class="header-anchor">#</a> 模块热替换原理</h4> <blockquote><p>当一个源码发生变化时，只重新编译发生变化的模块，再用新输出的模块替换掉浏览器中对应的老模块。</p></blockquote> <p><strong>模块热更新流程：</strong></p> <ol><li><p><code>webpack-dev-server</code> 创建两个服务器：  提供静态资源的服务  (express)   和 <code>socket</code> 服务;</p></li> <li><p><code>express server</code> 负责直接提供静态资源的服务  (打包后的资源直接被浏览器请求和解析)；</p></li> <li><p><code>socket server</code> 是一 个 <code>websocket</code>的长连接 ， 双方可以通信;</p></li> <li><p>当 <code>socket server</code> 监听到对应的模块发生变化时 ， 会生成两个文件 <code>json</code>  (manifest文件)  和 <code>.js</code>文件 ;</p></li> <li><p>通过长连接 <code>socket server</code> 可以直接将这两个文件主动发送给客户端  (浏览器);</p></li> <li><p>浏览器拿到两个新的文件后， 通过 <code>HMR runtime</code>机制，加载这两个文件，并且针对修改的模块进行更新。</p></li></ol> <p><img src="/myblog/assets/img/webpack热更新原理1.4b587a83.png" alt="image-20240124161939561"></p> <ul><li><code>Webpack compile</code>：将 JS 源代码编译成 bundle.js;</li> <li><code>HMR Server</code>：用来将热更新的文件输出给 HMR Runtime;</li> <li><code>Bundle server</code>：静态资源文件服务器 ， 提供文件访问路径;</li> <li><code>HMR Runtime</code>：socket服务器 , 会被注入到浏览器,更新文件的变化;</li> <li><code>bundle.js</code>：构建输出的文件;</li></ul> <p>在HMR Runtime 和 HMR Server之间建立 websocket,即图上4号线, 用于实时更新文件变化上面图中,  可以分成两个阶段：</p> <ul><li><p><strong>启动阶段</strong>:  为上图 <code>1 -&gt; 2 -&gt; A -&gt; B</code></p> <ul><li>在编写未经过<code>webpack</code>打包的源代码后，<code>Webpack Compile</code> 将源代码和 <code>HMR Runtime</code> 一起编译成 <code>bundle</code>文件，传输给<code>Bundle Server</code> 静态资源服务器</li></ul></li> <li><p><strong>更新阶段</strong>: 为上图 <code>1 -&gt; 2 -&gt; 3 -&gt; 4</code></p> <ul><li><p>当某一个文件或者模块发生变化时，<code>webpack</code>监听到文件变化对文件重新编译打包，编译生成唯一的<code>hash</code>值，这个<code>hash</code>值用来作为下一次热更新的标识</p></li> <li><p>根据变化的内容生成两个补丁文件：<code>manifest</code>（包含了 <code>hash</code> 和 <code>chundId</code>，用来说明变化的内容）和<code>chunk.js</code> 模块</p></li> <li><p>由于<code>socket</code>服务器在<code>HMR Runtime</code> 和 <code>HMR Server</code>之间建立 <code>websocket</code>链接，当文件发生改动的时候，服务端会向浏览器推送一条消息，消息包含文件改动后生成的<code>hash</code>值，如下图的<code>h</code>属性，作为下一次热更细的标识</p> <p><img src="/myblog/assets/img/webpack热更新原理2.c0aaee34.png" alt="img"></p></li> <li><p>在浏览器接受到这条消息之前，浏览器已经在上一次<code>socket</code> 消息中已经记住了此时的<code>hash</code> 标识，这时候我们会创建一个 <code>ajax</code> 去服务端请求获取到变化内容的 <code>manifest</code> 文件</p></li> <li><p><code>mainfest</code>文件包含重新<code>build</code>生成的<code>hash</code>值，以及变化的模块，对应上图的<code>c</code>属性</p></li> <li><p>浏览器根据 <code>manifest</code> 文件获取模块变化的内容，从而触发<code>render</code>流程，实现局部模块更新</p> <p><img src="/myblog/assets/img/webpack热更新原理3.ff25f69b.png" alt="img"></p></li></ul></li></ul> <h4 id="优化模块热替换"><a href="#优化模块热替换" class="header-anchor">#</a> <strong>优化模块热替换</strong></h4> <p><strong>存在问题：</strong></p> <blockquote><p>在发生模块热替换时,浏览器控制台只显示被替换模块的 id，不会告知详细的被替换的模块</p></blockquote> <p>在发生模块热替换时，你会在浏览器的控制台中看到类似这样的日志：</p> <p><img src="/myblog/assets/img/模块热替换.c13a5642.png" alt="image-20240124155441404"></p> <blockquote><p>其中的 <code>Updated modules: 68</code> 是指 ID 为68的模块被替换了，这对开发者来说很不友好，因为开发者不知道 ID 和模块之间的对应关系，最好是把替换了的模块的名称输出出来</p></blockquote> <p><strong>优化方法：</strong></p> <p>通过 Webpack 内置的 NamedModulesPlugin 插件，可以在控制台显示被替换的模块名称。</p> <p>Webpack 配置文件接入该插件：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> NamedModulesPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack/lib/NamedModulesPlugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// 显示出被替换模块的名称</span>
    <span class="token keyword">new</span> <span class="token class-name">NamedModulesPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>重启构建后你会发现浏览器中的日志显示了被替换模块的名称：</p> <p><img src="/myblog/assets/img/模块热替换2.b8f45bae.png" alt="image-20240124155947984"></p> <h2 id="source-map"><a href="#source-map" class="header-anchor">#</a> Source Map</h2> <h3 id="是什么-2"><a href="#是什么-2" class="header-anchor">#</a> <strong>是什么？</strong></h3> <blockquote><p>Source map（源映射）是一种文件，用于将转换后的、压缩过的代码映射回原始的、未经转换的源代码。它提供了一种对应转换后代码与源代码之间关系的方法，使开发者能够在调试过程中准确定位错误和异常。</p></blockquote> <h3 id="为什么需要-sourcemap"><a href="#为什么需要-sourcemap" class="header-anchor">#</a> 为什么需要 <strong>SourceMap？</strong></h3> <p>在开发过程中，通常会对代码进行转换、压缩和合并等操作，以提高代码执行效率和减小文件大小。然而，这样的转换会使得源代码与最终生成的代码之间的对应关系变得复杂，不易于调试和定位问题。</p> <p>Source map包含了源代码与转换后代码的映射关系，通常以一种叫做VLQ（Variable Length Quantity，可变长度编码）的格式存储。</p> <p>Source map可以告诉开发者，转换后代码中的特定位置对应于源代码中的哪个位置，从而使得浏览器的开发者工具能够在调试时正确地显示源代码，而不是转换后的代码。</p> <h4 id="source-map-作用"><a href="#source-map-作用" class="header-anchor">#</a> <strong>Source map 作用</strong></h4> <ol><li><strong>调试</strong>：使用Source map能够在开发者工具中准确地显示源代码，帮助开发者在调试过程中定位错误、断点和异常。</li> <li><strong>错误报告</strong>：当转换后的代码出现错误时，浏览器可以通过Source map将错误堆栈跟踪信息映射回源代码，从而提供更有用的错误报告。</li> <li><strong>性能优化</strong>：在生产环境中，通过使用Source map只在需要时启用调试功能，可以减小发布的代码包的大小，提高加载和执行性能。</li></ol> <h3 id="怎么用-2"><a href="#怎么用-2" class="header-anchor">#</a> <strong>怎么用？</strong></h3> <p>控制 Source Map 输出的 Webpack 配置项是 <code>devtool</code>，取值其实可以由 <code>source-map</code>、<code>eval</code>、<code>inline</code>、<code>hidden</code>、<code>cheap</code>、<code>module</code> 这六个关键字随意组合而成。 这六个关键字每个都代表一种特性，它们的含义分别是：</p> <ul><li>eval：用 <code>eval</code> 语句包裹需要安装的模块；</li> <li>source-map：生成独立的 Source Map 文件；</li> <li>hidden：不在 JavaScript 文件中指出 Source Map 文件所在，这样浏览器就不会自动加载 Source Map；</li> <li>inline：把生成的 Source Map 转换成 base64 格式内嵌在 JavaScript 文件中；</li> <li>cheap：生成的 Source Map 中不会包含列信息，这样计算量更小，输出的 Source Map 文件更小；同时 Loader 输出的 Source Map 不会被采用；</li> <li>module：来自 Loader 的 Source Map 被简单处理成每行一个模块；</li></ul> <p>配置项 <code>devtool</code>可选值：</p> <table><thead><tr><th>devtool</th> <th>含义</th></tr></thead> <tbody><tr><td>空</td> <td>不生成 Source Map</td></tr> <tr><td>eval</td> <td>每个 module 会封装到 eval 里包裹起来执行，并且会在每个 eval 语句的末尾追加注释 <code>//# sourceURL=webpack:///./main.js</code></td></tr> <tr><td>source-map</td> <td>会额外生成一个单独 Source Map 文件，并且会在 JavaScript 文件末尾追加 <code>//# sourceMappingURL=bundle.js.map</code></td></tr> <tr><td>hidden-source-map</td> <td>和 source-map 类似，但不会在 JavaScript 文件末尾追加 <code>//# sourceMappingURL=bundle.js.map</code></td></tr> <tr><td>inline-source-map</td> <td>和 source-map 类似，但不会额外生成一个单独 Source Map 文件，而是把 Source Map 转换成 base64 编码内嵌到 JavaScript 中</td></tr> <tr><td>eval-source-map</td> <td>和 eval 类似，但会把每个模块的 Source Map 转换成 base64 编码内嵌到 eval 语句的末尾，例如 <code>//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW...</code></td></tr> <tr><td>cheap-source-map</td> <td>和 source-map 类似，但生成的 Source Map 文件中没有列信息，因此生成速度更快<br>1.会额外生成一个单独 Source Map 文件，并且会在 JavaScript 文件末尾追加 <code>//# sourceMappingURL=bundle.js.map</code><br>2.生成的 Source Map 文件中没有列信息；<br>3.生成速度更快</td></tr> <tr><td>cheap-module-source-map</td> <td>和 cheap-source-map 类似，但会包含 Loader 生成的 Source Map；<br>1.会额外生成一个单独 Source Map 文件，并且会在 JavaScript 文件末尾追加 <code>//# sourceMappingURL=bundle.js.map</code><br>2.生成的 Source Map 文件中没有列信息；<br>3.生成速度更快，并会包含 Loader 生成的 Source Map；</td></tr></tbody></table> <p><img src="/myblog/assets/img/sourcemap参数比较.3948ef2d.png" alt="img"></p> <p><strong>1.webpack 配置</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>  
  <span class="token comment">// ...  </span>
  <span class="token literal-property property">devtool</span><span class="token operator">:</span> <span class="token string">'source-map'</span><span class="token punctuation">,</span> <span class="token comment">// 根据需要选择适合的方式  </span>
  <span class="token comment">// ...  </span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>2.命令行参数</strong></p> <p>Webpack 支持生成 Source Map，只需在启动时带上 <code>--devtool source-map</code> 参数。</p> <p>加上参数重启 DevServer 后刷新页面，再打开 Chrome 浏览器的开发者工具，就可在 Sources 栏中看到可调试的源代码了。</p> <p><img src="/myblog/assets/img/sourcemap.3ab7cd7c.png" alt="image-20240124112740717"></p> <h3 id="如何选择devtool-配置项"><a href="#如何选择devtool-配置项" class="header-anchor">#</a> <strong>如何选择Devtool 配置项</strong></h3> <ol><li>如果你不关心细节和性能，只是想在不出任何差错的情况下调试源码，可以直接设置成 <code>source-map</code>;
<ul><li>但这样会造成两个问题：
<ul><li><code>source-map</code> 模式下会输出质量最高最详细的 Source Map，这会造成构建速度缓慢，特别是在开发过程需要频繁修改的时候会增加等待时间；</li> <li><code>source-map</code> 模式下会把 Source Map 暴露出去，如果构建发布到线上的代码的 Source Map 暴露出去就等于源码被泄露；</li></ul></li></ul></li> <li>实践优化方案：
<ul><li>在开发环境下把 <code>devtool</code> 设置成 <code>cheap-module-eval-source-map</code>；
<ul><li>因为生成这种 Source Map 的速度最快，能加速构建。由于在开发环境下不会做代码压缩，Source Map 中即使没有列信息也不会影响断点调试；</li></ul></li> <li>在生产环境下把 <code>devtool</code> 设置成 <code>hidden-source-map</code> <ul><li>意思是生成最详细的 Source Map，但不会把 Source Map 暴露出去。由于在生产环境下会做代码压缩，一个 JavaScript 文件只有一行，所以需要列信息。</li></ul></li></ul></li></ol> <p><strong>注意：</strong></p> <p>在生产环境下通常不会把 Source Map 上传到 HTTP 服务器让用户获取，而是上传到 JavaScript 错误收集系统，在错误收集系统上根据 Source Map 和收集到的 JavaScript 运行错误堆栈计算出错误所在源码的位置。</p> <p>不要在生产环境下使用 <code>inline</code> 模式的 Source Map， 因为这会使 JavaScript 文件变得很大，而且会泄露源码。</p> <h3 id="加载现有的-source-map"><a href="#加载现有的-source-map" class="header-anchor">#</a> <strong>加载现有的 Source Map</strong></h3> <p>有些从 Npm 安装的第三方模块是采用 ES6 或者 TypeScript 编写的，它们在发布时会同时带上编译出来的 JavaScript 文件和对应的 Source Map 文件，以方便你在使用它们出问题的时候调试它们；</p> <p>默认情况下 Webpack 是不会去加载这些附加的 Source Map 文件的，Webpack 只会在转换过程中生成 Source Map。 为了让 Webpack 加载这些附加的 Source Map 文件，需要安装 <a href="https://github.com/webpack-contrib/source-map-loader" target="_blank" rel="noopener noreferrer">source-map-loader<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 。 使用方法如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token comment">// 只加载你关心的目录下的 Source Map，以提升构建速度</span>
        <span class="token literal-property property">include</span><span class="token operator">:</span> <span class="token punctuation">[</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> <span class="token string">'node_modules/some-components/'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'source-map-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token comment">// 要把 source-map-loader 的执行顺序放到最前面，如果在 source-map-loader 之前有 Loader 转换了该 JavaScript 文件，会导致 Source Map 映射错误</span>
        <span class="token literal-property property">enforce</span><span class="token operator">:</span> <span class="token string">'pre'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><blockquote><p>由于 source-map-loader 在加载 Source Map 时计算量很大，因此要避免让该 Loader 处理过多的文件，不然会导致构建速度缓慢。 通常会采用 <code>include</code> 去命中只关心的文件。</p></blockquote> <p>再安装新引入的依赖：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i <span class="token parameter variable">-D</span> source-map-loader
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>重启 Webpack 后，你就能在浏览器中调试 <code>node_modules/some-components/</code> 目录下的源码了。</p></div> <!----> <div class="content__content-bottom"></div> <footer class="page-meta"><!----> <div class="meta-item update-time"><span class="label">Last update:</span> <span class="info">February 7, 2024 17:30</span></div> <div class="meta-item contributors"><span class="label">Contributors: </span> <span class="info"><span title="email: 596777598@qq.com" class="contributor">
          sewar
        </span> <!----></span></div></footer> <!----> <!----> <!----> <div class="content__page-bottom"></div></main> <!----></div><div class="global-ui"><!----><div id="pwa-install"><!----> <div id="install-modal-wrapper" style="display:none;"><div class="background"></div> <div class="install-modal"><div class="header"><button aria-label="Close" class="close-button"><svg width="23" height="22" xmlns="http://www.w3.org/2000/svg" class="icon close-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.12.358a1.224 1.224 0 011.729 0l8.92 8.914L20.686.358a1.224 1.224 0 011.73 1.728L13.497 11l8.92 8.913a1.222 1.222 0 11-1.73 1.729l-8.919-8.913-8.92 8.913a1.224 1.224 0 01-1.729-1.729L10.04 11l-8.92-8.914a1.222 1.222 0 010-1.728z" fill="currentColor"></path></svg></button> <div class="logo"><!----> <div class="title"><h1></h1> <p class="desc">This app can be installed on your PC or mobile device.  This will allow this web app to look and behave like any other installed app.  You will find it in your app lists and be able to pin it to your home screen, start menus or task bars.  This installed web app will also be able to safely interact with other apps and your operating system. </p></div></div></div> <div class="content"><div class="highlight"><!----> <!----></div> <div class="description"><h3>Description</h3> <p></p></div></div> <div class="button-wrapper"><button class="install-button">
        Install <span></span></button> <button class="cancel-button">
        Cancel
      </button></div></div></div></div><!----><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button title="Close" aria-label="Close" class="pswp__button pswp__button--close"></button> <button title="Share" aria-label="Share" class="pswp__button pswp__button--share"></button> <button title="Switch to full screen" aria-label="Switch to full screen" class="pswp__button pswp__button--fs"></button> <button title="Zoom in/out" aria-label="Zoom in/out" class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button title="Prev (Arrow Left)" aria-label="Prev (Arrow Left)" class="pswp__button pswp__button--arrow--left"></button> <button title="Next (Arrow Right)" aria-label="Next (Arrow Right)" class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div></div>
    <script src="/myblog/assets/js/app.9d2b617a.js" defer></script><script src="/myblog/assets/js/layout-Layout.d2d4ce64.js" defer></script><script src="/myblog/assets/js/page-DevServer.0281863d.js" defer></script><script src="/myblog/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-components/Blog/BlogHome~layout-components/~2222f443.5835591a.js" defer></script>
  </body>
</html>
