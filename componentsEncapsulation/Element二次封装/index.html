<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Element ui 与 Element-plus ui 二次封装 | Sewen 博客</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="./mylogo.png">
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.min.js"></script>
    <link rel="manifest" href="/myblog/manifest.webmanifest" crossorigin="use-credentials">
    <link rel="alternate" type="application/atom+xml" href="https://sewar-x.github.io/myblog/atom.xml" title="Sewen 博客 Atom Feed">
    <link rel="alternate" type="application/json" href="https://sewar-x.github.io/myblog/rss.xml" title="Sewen 博客 JSON Feed">
    <link rel="alternate" type="application/rss+xml" href="https://sewar-x.github.io/myblog/rss.xml" title="Sewen 博客 RSS Feed">
    <meta name="description" content="sewen 的前端学习笔记、博客、前端基础总结、技术深度剖析、面试题总结、算法总结、项目过程总结">
    <meta property="og:url" content="https://sewar-x.github.io/myblog/componentsEncapsulation/Element%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85.html">
    <meta property="og:site_name" content="Sewen 博客">
    <meta property="og:title" content="Element ui 与 Element-plus ui 二次封装">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="en-US">
    <meta name="theme-color" content="#46bd87">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <link rel="preload" href="/myblog/assets/css/0.styles.645fbc6f.css" as="style"><link rel="preload" href="/myblog/assets/js/app.9d2b617a.js" as="script"><link rel="preload" href="/myblog/assets/js/layout-Layout.d2d4ce64.js" as="script"><link rel="preload" href="/myblog/assets/js/page-Elementui与Element-plusui二次封装.82f12a09.js" as="script"><link rel="preload" href="/myblog/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-components/Blog/BlogHome~layout-components/~2222f443.5835591a.js" as="script"><link rel="prefetch" href="/myblog/assets/js/199.a9216960.js"><link rel="prefetch" href="/myblog/assets/js/200.4c66fc79.js"><link rel="prefetch" href="/myblog/assets/js/layout-Blog.1fca7e90.js"><link rel="prefetch" href="/myblog/assets/js/layout-NotFound.3c74e8aa.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/AlgoliaSearch/Dropdown.70fcebe7.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Anchor.3235541c.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/ArticleInfo.7b815b20.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/ArticleItem.b0e177e1.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/ArticleList.d1cf1b24.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/ArticleType.b630b80e.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/BlogHero.621312ba.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/BlogHome.4fe44489.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/BlogInfo.b2a94760.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/BlogPage.e0fbe820.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/BloggerInfo.0df38355.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/CategoryList.ec1bcd96.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/ProjectList.8550a110.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/TagList.bcf7b782.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/Timeline.b6cf5471.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/TimelineList.3c6e08a6.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Clipboard.e940a903.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Common.820a8694.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Home.70383986.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/MyTransition.0de46069.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/DropdownLink.e3f6c118.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/NavLink.93b11770.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/NavLinks.8ba214e6.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/Navbar.b90a94f9.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/RepoLink.663a7f55.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/SidebarButton.76b0035a.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Page.98b5d09c.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/PageFooter.20bc9bd8.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/PageMeta.b7e6b12f.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/PageNav.8305dd1f.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Password.45e0e82a.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/DropdownTransition.068c5eea.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/Sidebar.f6f90d52.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/SidebarDropdownLink.505127a8.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/SidebarGroup.7eecf370.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/SidebarLink.6e39fe32.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/SidebarNavLinks.0f8566cb.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Theme/DarkmodeSwitch.20ac7b92.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Theme/ThemeColor.6086e4ed.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Theme/ThemeOptions.483238c9.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/ArticleIcon.0a22e2b1.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/AutoIcon.2ff1c790.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/BookIcon.419b49ba.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/DarkIcon.7d81873b.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/EditIcon.8ada485d.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/EmptyIcon.d704a5cf.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/I18nIcon.ffad8b3e.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/LightIcon.47d807da.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/LinkIcon.1a8a7826.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/LockIcon.a29a2b79.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/NextIcon.0214ee59.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/Page404Icon.8bc1ebbb.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/PresentationIcon.17500d9b.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/PrevIcon.2ae04a70.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/ProjectIcon.b336d567.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/StickyIcon.0f509b9d.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Baidu.244b9a41.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Bitbucket.11ba94e1.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Dingding.e8a3d90d.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Discord.3295a55b.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Dribbble.464dac3b.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Email.f9254caa.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Evernote.991472fb.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Facebook.08e78e47.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Flipboard.a1124d0f.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Gitee.c44bc20a.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Github.5667e5ae.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Gitlab.ad95c7a7.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Gmail.b5acc6bc.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Instagram.56be85f2.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Lines.d9db3dce.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Linkedin.b82d8d8b.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Pinterest.0f3ffe71.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Pocket.41ef3c92.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/QQ.7558f4ba.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Qzone.bf658fae.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Reddit.9c4c95ee.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Rss.9780139e.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Steam.06abbae2.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Twitter.26fa5bda.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Wechat.9cac8c4c.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Weibo.5206a632.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Whatsapp.0738f1e3.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Youtube.f41fd7f2.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Zhihu.4d851d2f.js"><link rel="prefetch" href="/myblog/assets/js/page--0abc50bf.0d6f1484.js"><link rel="prefetch" href="/myblog/assets/js/page--1cd40f4c.dd76c7b3.js"><link rel="prefetch" href="/myblog/assets/js/page--53f93199.e80bdec8.js"><link rel="prefetch" href="/myblog/assets/js/page--5afd2fd0.adea4e92.js"><link rel="prefetch" href="/myblog/assets/js/page--67c584d3.0a3f3cd9.js"><link rel="prefetch" href="/myblog/assets/js/page--776a8506.cdf48aac.js"><link rel="prefetch" href="/myblog/assets/js/page-CSS.eb94b29f.js"><link rel="prefetch" href="/myblog/assets/js/page-Chrome开发工具使用指南.a2675120.js"><link rel="prefetch" href="/myblog/assets/js/page-DevServer.0281863d.js"><link rel="prefetch" href="/myblog/assets/js/page-Echarts二次封装.4387b8ad.js"><link rel="prefetch" href="/myblog/assets/js/page-Git基础.03c616ad.js"><link rel="prefetch" href="/myblog/assets/js/page-Git规范.e2fdc38a.js"><link rel="prefetch" href="/myblog/assets/js/page-HTML.1e3c14b9.js"><link rel="prefetch" href="/myblog/assets/js/page-Home.f0b7e772.js"><link rel="prefetch" href="/myblog/assets/js/page-JSON配置化组件二次封装.12060fd9.js"><link rel="prefetch" href="/myblog/assets/js/page-JS原理实现.3c427e19.js"><link rel="prefetch" href="/myblog/assets/js/page-JS应用题.3d313b34.js"><link rel="prefetch" href="/myblog/assets/js/page-JavaScript基础.551be887.js"><link rel="prefetch" href="/myblog/assets/js/page-Linux.c6159ebd.js"><link rel="prefetch" href="/myblog/assets/js/page-Loader和Plugin原理.b2971b76.js"><link rel="prefetch" href="/myblog/assets/js/page-MySQL.0b1d704a.js"><link rel="prefetch" href="/myblog/assets/js/page-NPM.a55851b2.js"><link rel="prefetch" href="/myblog/assets/js/page-Node.ec405a21.js"><link rel="prefetch" href="/myblog/assets/js/page-Nodejs常见问题集合.12844e69.js"><link rel="prefetch" href="/myblog/assets/js/page-Node性能优化.b4ea1c34.js"><link rel="prefetch" href="/myblog/assets/js/page-Promise专题.7869a31b.js"><link rel="prefetch" href="/myblog/assets/js/page-React.d76cf0ac.js"><link rel="prefetch" href="/myblog/assets/js/page-SSG移动端项目实践.2122615b.js"><link rel="prefetch" href="/myblog/assets/js/page-TypeScript.4f597fda.js"><link rel="prefetch" href="/myblog/assets/js/page-Vite.637881bf.js"><link rel="prefetch" href="/myblog/assets/js/page-Vite原理解析.6677fdb4.js"><link rel="prefetch" href="/myblog/assets/js/page-Vue25项目webpack构建分析.7bbea0fa.js"><link rel="prefetch" href="/myblog/assets/js/page-Vue2VsVue3.10be4140.js"><link rel="prefetch" href="/myblog/assets/js/page-Vue2x原理源码分析.e9e753b6.js"><link rel="prefetch" href="/myblog/assets/js/page-Vue3基础.210247ff.js"><link rel="prefetch" href="/myblog/assets/js/page-Vue3源码分析.17379e04.js"><link rel="prefetch" href="/myblog/assets/js/page-VueCli源码分析.afc3c83f.js"><link rel="prefetch" href="/myblog/assets/js/page-VueRouter原理分析.0a092eb6.js"><link rel="prefetch" href="/myblog/assets/js/page-VueSSR原理分析.63006040.js"><link rel="prefetch" href="/myblog/assets/js/page-VueVsReact.2156be28.js"><link rel="prefetch" href="/myblog/assets/js/page-Vuex原理分析.5ba3e6e4.js"><link rel="prefetch" href="/myblog/assets/js/page-WEB安全.5aa0eeef.js"><link rel="prefetch" href="/myblog/assets/js/page-WebPack构建原理.9c29703e.js"><link rel="prefetch" href="/myblog/assets/js/page-webpackAPI分析.4c8b152b.js"><link rel="prefetch" href="/myblog/assets/js/page-webpack优化.dcc6c3bc.js"><link rel="prefetch" href="/myblog/assets/js/page-webpack基础.3820ee6c.js"><link rel="prefetch" href="/myblog/assets/js/page-webpack项目实践.77e22417.js"><link rel="prefetch" href="/myblog/assets/js/page-一次后台管理系统的性能优化.7c2d8712.js"><link rel="prefetch" href="/myblog/assets/js/page-从零到一搭建SSR项目.855376fc.js"><link rel="prefetch" href="/myblog/assets/js/page-从零到一搭建Vue2项目和规范设计.93017fd2.js"><link rel="prefetch" href="/myblog/assets/js/page-从零到一搭建Vue3单页面应用.de152d54.js"><link rel="prefetch" href="/myblog/assets/js/page-从零到一搭建公共组件库.93278073.js"><link rel="prefetch" href="/myblog/assets/js/page-从零到一搭建移动端SSG项目.9c113d06.js"><link rel="prefetch" href="/myblog/assets/js/page-使用docker部署Node服务.5cf328fd.js"><link rel="prefetch" href="/myblog/assets/js/page-分治.e3dfc22d.js"><link rel="prefetch" href="/myblog/assets/js/page-前端发版静态资源404问题.9eb1ca89.js"><link rel="prefetch" href="/myblog/assets/js/page-前端存储.cd82cf54.js"><link rel="prefetch" href="/myblog/assets/js/page-前端工程化.1e6e58d0.js"><link rel="prefetch" href="/myblog/assets/js/page-前端性能优化方案.83718d22.js"><link rel="prefetch" href="/myblog/assets/js/page-前端架构实践.171dbc0f.js"><link rel="prefetch" href="/myblog/assets/js/page-前端渲染架构.3b783de8.js"><link rel="prefetch" href="/myblog/assets/js/page-前端自动部署.5076846c.js"><link rel="prefetch" href="/myblog/assets/js/page-前端部署原理.82ecd8a7.js"><link rel="prefetch" href="/myblog/assets/js/page-动态规划.a3af92f1.js"><link rel="prefetch" href="/myblog/assets/js/page-哈希表.c76000e8.js"><link rel="prefetch" href="/myblog/assets/js/page-回溯算法.cd914c32.js"><link rel="prefetch" href="/myblog/assets/js/page-图.dfd9828a.js"><link rel="prefetch" href="/myblog/assets/js/page-基础.7bf5a37b.js"><link rel="prefetch" href="/myblog/assets/js/page-堆.4657e538.js"><link rel="prefetch" href="/myblog/assets/js/page-字符串.252f2a08.js"><link rel="prefetch" href="/myblog/assets/js/page-异步编程.904f4c65.js"><link rel="prefetch" href="/myblog/assets/js/page-性能优化指标和监控.f2175836.js"><link rel="prefetch" href="/myblog/assets/js/page-排序算法.c7a51b99.js"><link rel="prefetch" href="/myblog/assets/js/page-搭建低代码平台.19eaf5ec.js"><link rel="prefetch" href="/myblog/assets/js/page-操作系统.473c4281.js"><link rel="prefetch" href="/myblog/assets/js/page-数学运算.c82748fb.js"><link rel="prefetch" href="/myblog/assets/js/page-数据结构算法.84480586.js"><link rel="prefetch" href="/myblog/assets/js/page-数组.692b0d0a.js"><link rel="prefetch" href="/myblog/assets/js/page-权限管理.c7e10db0.js"><link rel="prefetch" href="/myblog/assets/js/page-查找.790e52df.js"><link rel="prefetch" href="/myblog/assets/js/page-栈和队列.8dbc3586.js"><link rel="prefetch" href="/myblog/assets/js/page-树.24efdeaa.js"><link rel="prefetch" href="/myblog/assets/js/page-浏览器.bee9ec04.js"><link rel="prefetch" href="/myblog/assets/js/page-混合桌面应用开发.9e10d1c3.js"><link rel="prefetch" href="/myblog/assets/js/page-登录.bb830451.js"><link rel="prefetch" href="/myblog/assets/js/page-目录.c85b4d0b.js"><link rel="prefetch" href="/myblog/assets/js/page-移动端开发.56ac22ec.js"><link rel="prefetch" href="/myblog/assets/js/page-组件和组件封装.b5e86da2.js"><link rel="prefetch" href="/myblog/assets/js/page-计算机网络基础.0a106662.js"><link rel="prefetch" href="/myblog/assets/js/page-设计模式.ffdc7cfd.js"><link rel="prefetch" href="/myblog/assets/js/page-调试技巧.485ae36e.js"><link rel="prefetch" href="/myblog/assets/js/page-贪心算法.0f417640.js"><link rel="prefetch" href="/myblog/assets/js/page-输入url到页面展示全过程.510aef2e.js"><link rel="prefetch" href="/myblog/assets/js/page-递归.5e55e552.js"><link rel="prefetch" href="/myblog/assets/js/page-链表.1cf6927f.js"><link rel="prefetch" href="/myblog/assets/js/page-项目总结.ffcd2a4b.js"><link rel="prefetch" href="/myblog/assets/js/vendors~docsearch.f3877d0d.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-components/Blog/BlogHome~layout-components/~5d377965.d9712593.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-Blog~layout-Layout~layout-components/Blog/ArticleItem~layout-components/Blog/ArticleL~b56f3aac.47bb5cb5.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-NotFound~layout-components/Common~layout-components/Page.57d58db9.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-Slide.81546b3b.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-components/AlgoliaSearch/Full.b30f067a.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-components/Blog/BlogPage.bcccbd38.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-components/Navbar/Navbar.e2a7361e.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-components/Page.6c65077c.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-components/Sidebar/Sidebar.34cd9cf7.js"><link rel="prefetch" href="/myblog/assets/js/vendors~photo-swipe.428df1da.js">
    <link rel="stylesheet" href="/myblog/assets/css/0.styles.645fbc6f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container has-navbar has-sidebar has-anchor"><header class="navbar"><!----> <div class="content__navbar-start"></div> <button title="Sidebar Button" class="sidebar-button"><span class="icon"></span></button> <a href="/myblog/" class="home-link router-link-active"><img src="./mylogo.png" alt="Sewen 博客" class="logo"> <!----> <span class="site-name can-hide">Sewen 博客</span></a> <!----> <div class="content__navbar-center"></div> <div class="links"><button tabindex="-1" aria-hidden="true" class="color-button"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="skin-icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4
        38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32
        51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0
        102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2
        6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4
        0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2
        9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224
        419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4
        470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0
        22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6
        12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128
        505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2
        16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8
        86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4
        80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6
        6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg> <div class="color-picker-menu" style="display:none;"><div class="theme-options"><ul class="themecolor-select"><label for="themecolor-select">Theme Color:</label> <li><span class="default-theme"></span></li> </ul> <div class="darkmode-toggle"><label for="darkmode-toggle" class="desc">Theme Mode:</label> <div class="darkmode-switch"><div class="item day"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon light-icon"><path d="M512 256a42.667 42.667 0 0 0 42.667-42.667V128a42.667 42.667 0 0 0-85.334 0v85.333A42.667 42.667 0 0 0 512 256zm384 213.333h-85.333a42.667 42.667 0 0 0 0 85.334H896a42.667 42.667 0 0 0 0-85.334zM256 512a42.667 42.667 0 0 0-42.667-42.667H128a42.667 42.667 0 0 0 0 85.334h85.333A42.667 42.667 0 0 0 256 512zm9.387-298.667a42.667 42.667 0 0 0-59.307 62.72l61.44 59.307a42.667 42.667 0 0 0 31.147 11.947 42.667 42.667 0 0 0 30.72-13.227 42.667 42.667 0 0 0 0-60.16zm459.946 133.974a42.667 42.667 0 0 0 29.44-11.947l61.44-59.307a42.667 42.667 0 0 0-57.6-62.72l-61.44 60.587a42.667 42.667 0 0 0 0 60.16 42.667 42.667 0 0 0 28.16 13.227zM512 768a42.667 42.667 0 0 0-42.667 42.667V896a42.667 42.667 0 0 0 85.334 0v-85.333A42.667 42.667 0 0 0 512 768zm244.48-79.36a42.667 42.667 0 0 0-59.307 61.44l61.44 60.587a42.667 42.667 0 0 0 29.44 11.946 42.667 42.667 0 0 0 30.72-12.8 42.667 42.667 0 0 0 0-60.586zm-488.96 0-61.44 59.307a42.667 42.667 0 0 0 0 60.586 42.667 42.667 0 0 0 30.72 12.8 42.667 42.667 0 0 0 28.587-10.666l61.44-59.307a42.667 42.667 0 0 0-59.307-61.44zM512 341.333A170.667 170.667 0 1 0 682.667 512 170.667 170.667 0 0 0 512 341.333z" fill="currentColor"></path></svg></div> <div class="item auto active"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon auto-icon"><path d="M460.864 539.072H564.8L510.592 376l-49.728 163.072zM872 362.368V149.504H659.648L510.528 0l-149.12 149.504H149.12v212.928L0 511.872l149.12 149.504v212.928h212.352l149.12 149.504 149.12-149.504h212.352V661.376l149.12-149.504L872 362.368zM614.464 693.12l-31.616-90.624H438.272l-31.616 90.624h-85.888l144.576-407.68h90.368l144.576 407.68h-85.824zm0 0" fill="currentColor"></path></svg></div> <div class="item night"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon dark-icon"><path d="M935.539 630.402c-11.43-11.432-28.674-14.739-43.531-8.354-46.734 20.103-96.363 30.297-147.508 30.297-99.59 0-193.221-38.784-263.64-109.203-108.637-108.637-139.61-270.022-78.908-411.148a39.497 39.497 0 0 0-51.886-51.887c-52.637 22.64-100.017 54.81-140.826 95.616-85.346 85.346-132.346 198.821-132.346 319.52 0 120.7 47.001 234.172 132.347 319.519S408.063 947.11 528.76 947.11c120.7 0 234.172-47.003 319.52-132.351 40.809-40.81 72.978-88.19 95.616-140.826a39.497 39.497 0 0 0-8.356-43.532z" fill="currentColor"></path></svg></div></div> <!----></div></div></div></button> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/myblog/" class="nav-link router-link-active"><!---->
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Front-end Basics" class="dropdown-title"><span class="title"><!---->
        前端基础
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/html/" class="nav-link"><!---->
  HTML
</a></li><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/css/" class="nav-link"><!---->
  Css
</a></li><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/javascript/" class="nav-link"><!---->
  JavaScript
</a></li><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/typescript/" class="nav-link"><!---->
  TypeScript
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><span class="title"><!---->
        计算机基础
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/algorithms/" class="nav-link"><!---->
  数据结构和算法
</a></li><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/network/" class="nav-link"><!---->
  计算机网络/HTTP
</a></li><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/network/输入url到页面展示全过程/" class="nav-link"><!---->
  输入url到页面展示全过程
</a></li><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/operating-system/" class="nav-link"><!---->
  操作系统
</a></li><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/design-model/" class="nav-link"><!---->
  设计模式
</a></li><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/Web-Security/" class="nav-link"><!---->
  Web安全
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架和源码分析" class="dropdown-title"><span class="title"><!---->
        框架和源码分析
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/vue/Vue2原理和源码分析.html" class="nav-link"><!---->
  Vue 专题
</a></li><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/React/" class="nav-link"><!---->
  React 专题
</a></li><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/webpack/webpack构建原理.html" class="nav-link"><!---->
  webpack 专题
</a></li><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/vite/" class="nav-link"><!---->
  vite 专题
</a></li><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/axios/" class="nav-link"><!---->
  Axios 专题
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="浏览器" class="dropdown-title"><span class="title"><!---->
        浏览器
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/browser/浏览器原理/" class="nav-link"><!---->
  浏览器原理
</a></li><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/browser/前端缓存和存储/" class="nav-link"><!---->
  前端缓存和存储
</a></li><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/performance/前端调试技巧/" class="nav-link"><!---->
  前端调试技巧
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="node.js" class="dropdown-title"><span class="title"><!---->
        服务器
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/node/" class="nav-link"><!---->
  Node.js
</a></li><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/linux/" class="nav-link"><!---->
  Linux
</a></li><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/mysql/" class="nav-link"><!---->
  MySQL
</a></li><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/nginx/" class="nav-link"><!---->
  Nginx
</a></li><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/docker/" class="nav-link"><!---->
  Docker
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="浏览器和性能优化" class="dropdown-title"><span class="title"><!---->
        性能优化
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/performance/性能优化指标和监控/" class="nav-link"><!---->
  性能优化指标和监控
</a></li><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/performance/前端性能优化方案/" class="nav-link"><!---->
  前端性能优化方案
</a></li><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/performance/一次管理后台的渲染优化/" class="nav-link"><!---->
  一次管理后台的渲染优化
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端工程" class="dropdown-title"><span class="title"><!---->
        前端工程
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/Front-end-Engineering/前端工程化/" class="nav-link"><!---->
  前端工程化
</a></li><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/Front-end-Engineering/前端渲染架构/" class="nav-link"><!---->
  前端渲染架构
</a></li><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/Front-end-Engineering/前端架构实践/" class="nav-link"><!---->
  前端架构实践
</a></li><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/Front-end-Engineering/npm/" class="nav-link"><!---->
  npm
</a></li><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/git/" class="nav-link"><!---->
  Git
</a></li><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/projectDeploy/自动构建和部署/" class="nav-link"><!---->
  自动构建和部署
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目实践" class="dropdown-title"><span class="title"><!---->
        项目实践
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/projectDeploy/" class="nav-link"><!---->
  前端部署
</a></li><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/componentsEncapsulation/组件和组件封装实践.html" class="nav-link"><!---->
  组件和组件封装实践
</a></li><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/projectsSummary/登录与单点登录/" class="nav-link"><!---->
  登录与单点登录
</a></li><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/projectsSummary/权限管理方案实践/" class="nav-link"><!---->
  权限管理方案实践
</a></li><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/projectsSummary/Echarts二次封装实践/" class="nav-link"><!---->
  Echarts二次封装实践
</a></li><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/projectsSummary/文档在线预览和编辑方案/" class="nav-link"><!---->
  文档在线预览和编辑方案
</a></li><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/projectsSummary/移动端开发实践/" class="nav-link"><!---->
  移动端开发实践
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目搭建到原理分析" class="dropdown-title"><span class="title"><!---->
        项目搭建
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/projectsSummary/从零到一搭建SSR项目/" class="nav-link"><!---->
  从零到一搭建SSR项目
</a></li><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/projectsSummary/从零到一搭建移动端SSG项目/" class="nav-link"><!---->
  从零到一搭建移动端SSG项目
</a></li><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/projectsSummary/移动端SSG项目实践/" class="nav-link"><!---->
  移动端SSG项目实践
</a></li><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/projectsSummary/从零到一搭建Vue2工程化项目/" class="nav-link"><!---->
  从零到一搭建Vue2工程化项目
</a></li><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/projectsSummary/从零到一搭建Vue3工程化项目/" class="nav-link"><!---->
  从零到一搭建Vue3工程化项目
</a></li><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/projectsSummary/搭建低代码平台/" class="nav-link"><!---->
  搭建低代码平台
</a></li><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/projectsSummary/混合桌面应用开发实践/" class="nav-link"><!---->
  混合桌面应用开发实践
</a></li></ul></div></div></nav> <!----> <!----> <!----> <div class="content__navbar-end"></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><div vocab="https://schema.org/" typeof="Person" class="blogger-info mobile"><div data-balloon-pos="down" role="navigation" class="blogger hasIntro"><img property="image" alt="Blogger Avatar" src="./mylogo.png" class="avatar round"> <div property="name" class="name">Sewen 博客</div> <meta property="url" content="../outline.md"></div> <div class="num-wrapper"><div><div class="num">91</div> <div>Articles</div></div> <div><div class="num">0</div> <div>Category</div></div> <div><div class="num">0</div> <div>Tags</div></div> <div><div class="num">91</div> <div>Timeline</div></div></div> <div class="media-links-wrapper"><a href="https://github.com/Sewar-x/myblog" rel="noopener noreferrer" target="_blank" aria-label="Github" data-balloon-pos="up" class="media-link"><span class="sr-only">Github</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-github"><circle cx="512" cy="512" r="512" fill="#171515"></circle> <path d="M509.423 146.442c-200.317 0-362.756 162.42-362.756 362.8 0 160.266 103.936 296.24 248.109 344.217 18.139 3.327 24.76-7.872 24.76-17.486 0-8.613-.313-31.427-.49-61.702-100.912 21.923-122.205-48.63-122.205-48.63-16.495-41.91-40.28-53.067-40.28-53.067-32.937-22.51 2.492-22.053 2.492-22.053 36.407 2.566 55.568 37.386 55.568 37.386 32.362 55.438 84.907 39.43 105.58 30.143 3.296-23.444 12.667-39.43 23.032-48.498-80.557-9.156-165.246-40.28-165.246-179.297 0-39.604 14.135-71.988 37.342-97.348-3.731-9.178-16.18-46.063 3.556-96.009 0 0 30.46-9.754 99.76 37.19 28.937-8.048 59.97-12.071 90.823-12.211 30.807.14 61.843 4.165 90.822 12.21 69.26-46.944 99.663-37.189 99.663-37.189 19.792 49.946 7.34 86.831 3.61 96.01 23.25 25.359 37.29 57.742 37.29 97.347 0 139.366-84.82 170.033-165.637 179.013 13.026 11.2 24.628 33.342 24.628 67.182 0 48.498-.445 87.627-.445 99.521 0 9.702 6.535 20.988 24.945 17.444 144.03-48.067 247.881-183.95 247.881-344.175 0-200.378-162.442-362.798-362.802-362.798z" fill="#FFF"></path></svg></a><a href="1567910907" rel="noopener noreferrer" target="_blank" aria-label="Wechat" data-balloon-pos="up" class="media-link"><span class="sr-only">Wechat</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-wechat"><circle cx="512" cy="512" r="512" fill="#1AC88E"></circle> <path d="M827.551 578.742a176.583 176.583 0 0 0-185.685-158.379 172.942 172.942 0 0 0-186.3 158.379 172.942 172.942 0 0 0 185.686 158.379 282.169 282.169 0 0 0 65.536-10.923l60.689 32.768-16.384-54.613a166.275 166.275 0 0 0 76.458-125.611zm-245.76-27.307a21.845 21.845 0 1 1 0-43.69 24.872 24.872 0 0 1 27.307 21.845 24.872 24.872 0 0 1-27.921 21.845h.614zm121.356 0a21.845 21.845 0 1 1 0-43.69 24.872 24.872 0 0 1 27.306 21.845 24.872 24.872 0 0 1-28.512 21.845h1.206z" fill="#FFF"></path> <path d="M623.662 400.953h21.23A222.709 222.709 0 0 0 419.772 245.6a208.145 208.145 0 0 0-223.323 189.94 182.044 182.044 0 0 0 89.201 150.483l-22.436 67.356 78.279-39.435a389.575 389.575 0 0 0 78.279 10.923h20.616a163.226 163.226 0 0 1-6.667-46.718 182.044 182.044 0 0 1 189.94-177.197zm-121.379-60.69a27.921 27.921 0 1 1 0 55.843 31.562 31.562 0 0 1-33.36-27.921 31.562 31.562 0 0 1 34.59-27.921h-1.23zM346.34 396.107a31.562 31.562 0 0 1-33.383-27.921 31.562 31.562 0 0 1 33.383-27.921 27.921 27.921 0 1 1 0 55.842z" fill="#FFF"></path></svg></a></div></div> <hr> <!----> <div class="content__sidebar-top"></div> <nav class="sidebar-nav-links"><div class="nav-item"><a href="/myblog/" class="nav-link router-link-active"><!---->
  首页
</a></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="Front-end Basics" class="dropdown-title"><span class="title"><!---->
      前端基础
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/html/" class="nav-link"><!---->
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/css/" class="nav-link"><!---->
  Css
</a></li><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/javascript/" class="nav-link"><!---->
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/typescript/" class="nav-link"><!---->
  TypeScript
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><span class="title"><!---->
      计算机基础
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/algorithms/" class="nav-link"><!---->
  数据结构和算法
</a></li><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/network/" class="nav-link"><!---->
  计算机网络/HTTP
</a></li><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/network/输入url到页面展示全过程/" class="nav-link"><!---->
  输入url到页面展示全过程
</a></li><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/operating-system/" class="nav-link"><!---->
  操作系统
</a></li><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/design-model/" class="nav-link"><!---->
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/Web-Security/" class="nav-link"><!---->
  Web安全
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="框架和源码分析" class="dropdown-title"><span class="title"><!---->
      框架和源码分析
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/vue/Vue2原理和源码分析.html" class="nav-link"><!---->
  Vue 专题
</a></li><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/React/" class="nav-link"><!---->
  React 专题
</a></li><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/webpack/webpack构建原理.html" class="nav-link"><!---->
  webpack 专题
</a></li><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/vite/" class="nav-link"><!---->
  vite 专题
</a></li><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/axios/" class="nav-link"><!---->
  Axios 专题
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="浏览器" class="dropdown-title"><span class="title"><!---->
      浏览器
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/browser/浏览器原理/" class="nav-link"><!---->
  浏览器原理
</a></li><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/browser/前端缓存和存储/" class="nav-link"><!---->
  前端缓存和存储
</a></li><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/performance/前端调试技巧/" class="nav-link"><!---->
  前端调试技巧
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="node.js" class="dropdown-title"><span class="title"><!---->
      服务器
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/node/" class="nav-link"><!---->
  Node.js
</a></li><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/linux/" class="nav-link"><!---->
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/mysql/" class="nav-link"><!---->
  MySQL
</a></li><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/nginx/" class="nav-link"><!---->
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/docker/" class="nav-link"><!---->
  Docker
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="浏览器和性能优化" class="dropdown-title"><span class="title"><!---->
      性能优化
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/performance/性能优化指标和监控/" class="nav-link"><!---->
  性能优化指标和监控
</a></li><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/performance/前端性能优化方案/" class="nav-link"><!---->
  前端性能优化方案
</a></li><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/performance/一次管理后台的渲染优化/" class="nav-link"><!---->
  一次管理后台的渲染优化
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="前端工程" class="dropdown-title"><span class="title"><!---->
      前端工程
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/Front-end-Engineering/前端工程化/" class="nav-link"><!---->
  前端工程化
</a></li><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/Front-end-Engineering/前端渲染架构/" class="nav-link"><!---->
  前端渲染架构
</a></li><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/Front-end-Engineering/前端架构实践/" class="nav-link"><!---->
  前端架构实践
</a></li><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/Front-end-Engineering/npm/" class="nav-link"><!---->
  npm
</a></li><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/git/" class="nav-link"><!---->
  Git
</a></li><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/projectDeploy/自动构建和部署/" class="nav-link"><!---->
  自动构建和部署
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="项目实践" class="dropdown-title"><span class="title"><!---->
      项目实践
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/projectDeploy/" class="nav-link"><!---->
  前端部署
</a></li><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/componentsEncapsulation/组件和组件封装实践.html" class="nav-link"><!---->
  组件和组件封装实践
</a></li><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/projectsSummary/登录与单点登录/" class="nav-link"><!---->
  登录与单点登录
</a></li><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/projectsSummary/权限管理方案实践/" class="nav-link"><!---->
  权限管理方案实践
</a></li><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/projectsSummary/Echarts二次封装实践/" class="nav-link"><!---->
  Echarts二次封装实践
</a></li><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/projectsSummary/文档在线预览和编辑方案/" class="nav-link"><!---->
  文档在线预览和编辑方案
</a></li><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/projectsSummary/移动端开发实践/" class="nav-link"><!---->
  移动端开发实践
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="项目搭建到原理分析" class="dropdown-title"><span class="title"><!---->
      项目搭建
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/projectsSummary/从零到一搭建SSR项目/" class="nav-link"><!---->
  从零到一搭建SSR项目
</a></li><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/projectsSummary/从零到一搭建移动端SSG项目/" class="nav-link"><!---->
  从零到一搭建移动端SSG项目
</a></li><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/projectsSummary/移动端SSG项目实践/" class="nav-link"><!---->
  移动端SSG项目实践
</a></li><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/projectsSummary/从零到一搭建Vue2工程化项目/" class="nav-link"><!---->
  从零到一搭建Vue2工程化项目
</a></li><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/projectsSummary/从零到一搭建Vue3工程化项目/" class="nav-link"><!---->
  从零到一搭建Vue3工程化项目
</a></li><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/projectsSummary/搭建低代码平台/" class="nav-link"><!---->
  搭建低代码平台
</a></li><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/projectsSummary/混合桌面应用开发实践/" class="nav-link"><!---->
  混合桌面应用开发实践
</a></li></ul></div></div> <!----></nav> <!----> <div class="content__sidebar-center"></div> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><!----> <span class="title">组件基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/myblog/componentsEncapsulation/%E7%BB%84%E4%BB%B6%E5%92%8C%E7%BB%84%E4%BB%B6%E5%B0%81%E8%A3%85%E5%AE%9E%E8%B7%B5/" class="sidebar-link">组件和组件封装</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E7%BB%84%E4%BB%B6%E5%92%8C%E7%BB%84%E4%BB%B6%E5%B0%81%E8%A3%85%E5%AE%9E%E8%B7%B5/#vue2-组件基础" class="sidebar-link">Vue2 组件基础</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E7%BB%84%E4%BB%B6%E5%92%8C%E7%BB%84%E4%BB%B6%E5%B0%81%E8%A3%85%E5%AE%9E%E8%B7%B5/#web-components" class="sidebar-link">Web Components</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E7%BB%84%E4%BB%B6%E5%92%8C%E7%BB%84%E4%BB%B6%E5%B0%81%E8%A3%85%E5%AE%9E%E8%B7%B5/#参考资料" class="sidebar-link heading3">参考资料</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E7%BB%84%E4%BB%B6%E5%92%8C%E7%BB%84%E4%BB%B6%E5%B0%81%E8%A3%85%E5%AE%9E%E8%B7%B5/#高阶组件" class="sidebar-link">高阶组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E7%BB%84%E4%BB%B6%E5%92%8C%E7%BB%84%E4%BB%B6%E5%B0%81%E8%A3%85%E5%AE%9E%E8%B7%B5/#概念" class="sidebar-link heading3">概念</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E7%BB%84%E4%BB%B6%E5%92%8C%E7%BB%84%E4%BB%B6%E5%B0%81%E8%A3%85%E5%AE%9E%E8%B7%B5/#特点" class="sidebar-link heading3">特点</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E7%BB%84%E4%BB%B6%E5%92%8C%E7%BB%84%E4%BB%B6%E5%B0%81%E8%A3%85%E5%AE%9E%E8%B7%B5/#规则" class="sidebar-link heading3">规则</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E7%BB%84%E4%BB%B6%E5%92%8C%E7%BB%84%E4%BB%B6%E5%B0%81%E8%A3%85%E5%AE%9E%E8%B7%B5/#实现" class="sidebar-link heading3">实现</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E7%BB%84%E4%BB%B6%E5%92%8C%E7%BB%84%E4%BB%B6%E5%B0%81%E8%A3%85%E5%AE%9E%E8%B7%B5/#命令式组件" class="sidebar-link">命令式组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E7%BB%84%E4%BB%B6%E5%92%8C%E7%BB%84%E4%BB%B6%E5%B0%81%E8%A3%85%E5%AE%9E%E8%B7%B5/#概念-2" class="sidebar-link heading3">概念</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E7%BB%84%E4%BB%B6%E5%92%8C%E7%BB%84%E4%BB%B6%E5%B0%81%E8%A3%85%E5%AE%9E%E8%B7%B5/#为什么要用命令式组件" class="sidebar-link heading3">为什么要用命令式组件？</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E7%BB%84%E4%BB%B6%E5%92%8C%E7%BB%84%E4%BB%B6%E5%B0%81%E8%A3%85%E5%AE%9E%E8%B7%B5/#vue2-封装命令式组件" class="sidebar-link heading3">Vue2 封装命令式组件</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E7%BB%84%E4%BB%B6%E5%92%8C%E7%BB%84%E4%BB%B6%E5%B0%81%E8%A3%85%E5%AE%9E%E8%B7%B5/#vue3-封装命令式组件" class="sidebar-link heading3">Vue3 封装命令式组件</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E7%BB%84%E4%BB%B6%E5%92%8C%E7%BB%84%E4%BB%B6%E5%B0%81%E8%A3%85%E5%AE%9E%E8%B7%B5/#参考资料-2" class="sidebar-link heading3">参考资料</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E7%BB%84%E4%BB%B6%E5%92%8C%E7%BB%84%E4%BB%B6%E5%B0%81%E8%A3%85%E5%AE%9E%E8%B7%B5/#展示组件和容器组件" class="sidebar-link">展示组件和容器组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E7%BB%84%E4%BB%B6%E5%92%8C%E7%BB%84%E4%BB%B6%E5%B0%81%E8%A3%85%E5%AE%9E%E8%B7%B5/#概念-3" class="sidebar-link heading3">概念</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E7%BB%84%E4%BB%B6%E5%92%8C%E7%BB%84%E4%BB%B6%E5%B0%81%E8%A3%85%E5%AE%9E%E8%B7%B5/#特点-2" class="sidebar-link heading3">特点</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E7%BB%84%E4%BB%B6%E5%92%8C%E7%BB%84%E4%BB%B6%E5%B0%81%E8%A3%85%E5%AE%9E%E8%B7%B5/#为什么要分离展示组件和容器组件" class="sidebar-link heading3">为什么要分离展示组件和容器组件？</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E7%BB%84%E4%BB%B6%E5%92%8C%E7%BB%84%E4%BB%B6%E5%B0%81%E8%A3%85%E5%AE%9E%E8%B7%B5/#参考资料-3" class="sidebar-link heading3">参考资料</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E7%BB%84%E4%BB%B6%E5%92%8C%E7%BB%84%E4%BB%B6%E5%B0%81%E8%A3%85%E5%AE%9E%E8%B7%B5/#hooks" class="sidebar-link">Hooks</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E7%BB%84%E4%BB%B6%E5%92%8C%E7%BB%84%E4%BB%B6%E5%B0%81%E8%A3%85%E5%AE%9E%E8%B7%B5/#json-配置组件" class="sidebar-link">JSON 配置组件</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><!----> <span class="title">组件封装实践</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/myblog/componentsEncapsulation/%E4%BB%8E%E9%9B%B6%E5%88%B0%E4%B8%80%E6%90%AD%E5%BB%BA%E5%85%AC%E5%85%B1%E7%BB%84%E4%BB%B6%E5%BA%93/" class="sidebar-link">从零到一搭建公共组件库</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E4%BB%8E%E9%9B%B6%E5%88%B0%E4%B8%80%E6%90%AD%E5%BB%BA%E5%85%AC%E5%85%B1%E7%BB%84%E4%BB%B6%E5%BA%93/#为什么要搭建公共组件库" class="sidebar-link">为什么要搭建公共组件库？</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E4%BB%8E%E9%9B%B6%E5%88%B0%E4%B8%80%E6%90%AD%E5%BB%BA%E5%85%AC%E5%85%B1%E7%BB%84%E4%BB%B6%E5%BA%93/#公共组件是什么" class="sidebar-link heading3">公共组件是什么？</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E4%BB%8E%E9%9B%B6%E5%88%B0%E4%B8%80%E6%90%AD%E5%BB%BA%E5%85%AC%E5%85%B1%E7%BB%84%E4%BB%B6%E5%BA%93/#开源组件库与系统关系" class="sidebar-link heading3">开源组件库与系统关系</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E4%BB%8E%E9%9B%B6%E5%88%B0%E4%B8%80%E6%90%AD%E5%BB%BA%E5%85%AC%E5%85%B1%E7%BB%84%E4%BB%B6%E5%BA%93/#为什么要搭建组件库" class="sidebar-link heading3">为什么要搭建组件库？</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E4%BB%8E%E9%9B%B6%E5%88%B0%E4%B8%80%E6%90%AD%E5%BB%BA%E5%85%AC%E5%85%B1%E7%BB%84%E4%BB%B6%E5%BA%93/#为什么要搭建前端公共组件库" class="sidebar-link heading3">为什么要搭建前端公共组件库？</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E4%BB%8E%E9%9B%B6%E5%88%B0%E4%B8%80%E6%90%AD%E5%BB%BA%E5%85%AC%E5%85%B1%E7%BB%84%E4%BB%B6%E5%BA%93/#项目目标" class="sidebar-link">项目目标</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E4%BB%8E%E9%9B%B6%E5%88%B0%E4%B8%80%E6%90%AD%E5%BB%BA%E5%85%AC%E5%85%B1%E7%BB%84%E4%BB%B6%E5%BA%93/#架构设计" class="sidebar-link">架构设计</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E4%BB%8E%E9%9B%B6%E5%88%B0%E4%B8%80%E6%90%AD%E5%BB%BA%E5%85%AC%E5%85%B1%E7%BB%84%E4%BB%B6%E5%BA%93/#foundation" class="sidebar-link heading3">Foundation</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E4%BB%8E%E9%9B%B6%E5%88%B0%E4%B8%80%E6%90%AD%E5%BB%BA%E5%85%AC%E5%85%B1%E7%BB%84%E4%BB%B6%E5%BA%93/#adapter" class="sidebar-link heading3">Adapter</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E4%BB%8E%E9%9B%B6%E5%88%B0%E4%B8%80%E6%90%AD%E5%BB%BA%E5%85%AC%E5%85%B1%E7%BB%84%E4%BB%B6%E5%BA%93/#实施计划" class="sidebar-link">实施计划</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E4%BB%8E%E9%9B%B6%E5%88%B0%E4%B8%80%E6%90%AD%E5%BB%BA%E5%85%AC%E5%85%B1%E7%BB%84%E4%BB%B6%E5%BA%93/#实施步骤" class="sidebar-link heading3">实施步骤</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E4%BB%8E%E9%9B%B6%E5%88%B0%E4%B8%80%E6%90%AD%E5%BB%BA%E5%85%AC%E5%85%B1%E7%BB%84%E4%BB%B6%E5%BA%93/#详细计划" class="sidebar-link heading3">详细计划</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E4%BB%8E%E9%9B%B6%E5%88%B0%E4%B8%80%E6%90%AD%E5%BB%BA%E5%85%AC%E5%85%B1%E7%BB%84%E4%BB%B6%E5%BA%93/#技术选型" class="sidebar-link">技术选型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E4%BB%8E%E9%9B%B6%E5%88%B0%E4%B8%80%E6%90%AD%E5%BB%BA%E5%85%AC%E5%85%B1%E7%BB%84%E4%BB%B6%E5%BA%93/#仓库管理" class="sidebar-link heading3">仓库管理</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E4%BB%8E%E9%9B%B6%E5%88%B0%E4%B8%80%E6%90%AD%E5%BB%BA%E5%85%AC%E5%85%B1%E7%BB%84%E4%BB%B6%E5%BA%93/#搭建-开发流程" class="sidebar-link">搭建/开发流程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E4%BB%8E%E9%9B%B6%E5%88%B0%E4%B8%80%E6%90%AD%E5%BB%BA%E5%85%AC%E5%85%B1%E7%BB%84%E4%BB%B6%E5%BA%93/#pnpm-创建-monorepo" class="sidebar-link heading3">pnpm 创建 MonoRepo</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E4%BB%8E%E9%9B%B6%E5%88%B0%E4%B8%80%E6%90%AD%E5%BB%BA%E5%85%AC%E5%85%B1%E7%BB%84%E4%BB%B6%E5%BA%93/#搭建组件库" class="sidebar-link heading3">搭建组件库</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E4%BB%8E%E9%9B%B6%E5%88%B0%E4%B8%80%E6%90%AD%E5%BB%BA%E5%85%AC%E5%85%B1%E7%BB%84%E4%BB%B6%E5%BA%93/#使用组件" class="sidebar-link heading3">使用组件</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E4%BB%8E%E9%9B%B6%E5%88%B0%E4%B8%80%E6%90%AD%E5%BB%BA%E5%85%AC%E5%85%B1%E7%BB%84%E4%BB%B6%E5%BA%93/#搭建组件库文档" class="sidebar-link heading3">搭建组件库文档</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E4%BB%8E%E9%9B%B6%E5%88%B0%E4%B8%80%E6%90%AD%E5%BB%BA%E5%85%AC%E5%85%B1%E7%BB%84%E4%BB%B6%E5%BA%93/#搭建组件测试项目" class="sidebar-link heading3">搭建组件测试项目</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E4%BB%8E%E9%9B%B6%E5%88%B0%E4%B8%80%E6%90%AD%E5%BB%BA%E5%85%AC%E5%85%B1%E7%BB%84%E4%BB%B6%E5%BA%93/#部署发布" class="sidebar-link heading3">部署发布</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E4%BB%8E%E9%9B%B6%E5%88%B0%E4%B8%80%E6%90%AD%E5%BB%BA%E5%85%AC%E5%85%B1%E7%BB%84%E4%BB%B6%E5%BA%93/#组件列表" class="sidebar-link">组件列表</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E4%BB%8E%E9%9B%B6%E5%88%B0%E4%B8%80%E6%90%AD%E5%BB%BA%E5%85%AC%E5%85%B1%E7%BB%84%E4%BB%B6%E5%BA%93/#组件分类" class="sidebar-link heading3">组件分类</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/%E4%BB%8E%E9%9B%B6%E5%88%B0%E4%B8%80%E6%90%AD%E5%BB%BA%E5%85%AC%E5%85%B1%E7%BB%84%E4%BB%B6%E5%BA%93/#参考资料" class="sidebar-link">参考资料</a></li></ul></li><li><a href="/myblog/componentsEncapsulation/Element%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85/" aria-current="page" class="active sidebar-link">Element ui 与 Element-plus ui 二次封装</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/Element%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85/#背景" class="sidebar-link">背景</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/Element%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85/#封装方案" class="sidebar-link">封装方案</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/Element%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85/#单文件组件" class="sidebar-link">单文件组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/Element%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85/#组件封装目的" class="sidebar-link heading3">组件封装目的</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/Element%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85/#封装示例" class="sidebar-link heading3">封装示例</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/Element%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85/#组件封装技巧" class="sidebar-link heading3">组件封装技巧</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/Element%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85/#json-配置组件封装" class="sidebar-link">JSON 配置组件封装</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/Element%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85/#背景-2" class="sidebar-link heading3">背景</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/Element%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85/#百度-amis-框架思想" class="sidebar-link heading3">百度 amis 框架思想</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/Element%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85/#json-配置组件实现方案" class="sidebar-link heading3">JSON 配置组件实现方案</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/Element%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85/#elements-组件二次封装" class="sidebar-link heading3">elements 组件二次封装</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/Element%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85/#业务组件封装" class="sidebar-link heading3">业务组件封装</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/Element%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85/#组件封装示例" class="sidebar-link heading3">组件封装示例</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/Element%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85/#参考资料" class="sidebar-link">参考资料</a></li></ul></li><li><a href="/myblog/componentsEncapsulation/JSON%E7%BB%84%E4%BB%B6/" class="sidebar-link">JSON配置化组件二次封装</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/JSON%E7%BB%84%E4%BB%B6/#json配置化组件二次封装" class="sidebar-link">JSON配置化组件二次封装</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/JSON%E7%BB%84%E4%BB%B6/#设计思路" class="sidebar-link">设计思路</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/JSON%E7%BB%84%E4%BB%B6/#组件介绍" class="sidebar-link">组件介绍</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/JSON%E7%BB%84%E4%BB%B6/#basiccomponent" class="sidebar-link heading3">BasicComponent</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/JSON%E7%BB%84%E4%BB%B6/#form" class="sidebar-link heading3">Form</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/JSON%E7%BB%84%E4%BB%B6/#table" class="sidebar-link heading3">Table</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/JSON%E7%BB%84%E4%BB%B6/#menu" class="sidebar-link heading3">Menu</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/JSON%E7%BB%84%E4%BB%B6/#dropdown" class="sidebar-link heading3">Dropdown</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/JSON%E7%BB%84%E4%BB%B6/#dialog" class="sidebar-link heading3">Dialog</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/JSON%E7%BB%84%E4%BB%B6/#descriptions" class="sidebar-link heading3">Descriptions</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/JSON%E7%BB%84%E4%BB%B6/#button" class="sidebar-link heading3">Button</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/JSON%E7%BB%84%E4%BB%B6/#icon、svgicon" class="sidebar-link heading3">Icon、SvgIcon</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/JSON%E7%BB%84%E4%BB%B6/#功能组件" class="sidebar-link">功能组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/JSON%E7%BB%84%E4%BB%B6/#selectlist" class="sidebar-link heading3">SelectList</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/JSON%E7%BB%84%E4%BB%B6/#checkbox" class="sidebar-link heading3">CheckBox</a></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/JSON%E7%BB%84%E4%BB%B6/#attentionbutton" class="sidebar-link heading3">AttentionButton</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/JSON%E7%BB%84%E4%BB%B6/#hooks" class="sidebar-link">Hooks</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/componentsEncapsulation/JSON%E7%BB%84%E4%BB%B6/#descriptionedit" class="sidebar-link heading3">DescriptionEdit</a></li></ul></li></ul></li></ul></section></li></ul> <!----> <div class="content__sidebar-bottom"></div> <!----></aside> <main class="page"><nav class="breadcrumb disable"><!----></nav> <!----> <div class="content__page-top"></div> <div vocab="https://schema.org/" typeof="Article" class="page-title"><h1><!----> <span property="headline">Element ui 与 Element-plus ui 二次封装</span></h1> <div class="page-info"><!----> <true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info></div> <!----> <hr></div> <div class="anchor-place-holder"><aside id="anchor"><div class="anchor-wrapper"><ul class="anchor-list"><li class="anchor"><a href="/myblog/componentsEncapsulation/Element%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85/#背景" class="anchor-link heading2"><div>背景</div></a></li><li class="anchor"><a href="/myblog/componentsEncapsulation/Element%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85/#封装方案" class="anchor-link heading2"><div>封装方案</div></a></li><li class="anchor"><a href="/myblog/componentsEncapsulation/Element%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85/#单文件组件" class="anchor-link heading2"><div>单文件组件</div></a></li><li class="anchor"><a href="/myblog/componentsEncapsulation/Element%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85/#组件封装目的" class="anchor-link heading3"><div>组件封装目的</div></a></li><li class="anchor"><a href="/myblog/componentsEncapsulation/Element%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85/#封装示例" class="anchor-link heading3"><div>封装示例</div></a></li><li class="anchor"><a href="/myblog/componentsEncapsulation/Element%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85/#组件封装技巧" class="anchor-link heading3"><div>组件封装技巧</div></a></li><li class="anchor"><a href="/myblog/componentsEncapsulation/Element%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85/#json-配置组件封装" class="anchor-link heading2"><div>JSON 配置组件封装</div></a></li><li class="anchor"><a href="/myblog/componentsEncapsulation/Element%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85/#背景-2" class="anchor-link heading3"><div>背景</div></a></li><li class="anchor"><a href="/myblog/componentsEncapsulation/Element%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85/#百度-amis-框架思想" class="anchor-link heading3"><div>百度 amis 框架思想</div></a></li><li class="anchor"><a href="/myblog/componentsEncapsulation/Element%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85/#json-配置组件实现方案" class="anchor-link heading3"><div>JSON 配置组件实现方案</div></a></li><li class="anchor"><a href="/myblog/componentsEncapsulation/Element%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85/#elements-组件二次封装" class="anchor-link heading3"><div>elements 组件二次封装</div></a></li><li class="anchor"><a href="/myblog/componentsEncapsulation/Element%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85/#业务组件封装" class="anchor-link heading3"><div>业务组件封装</div></a></li><li class="anchor"><a href="/myblog/componentsEncapsulation/Element%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85/#组件封装示例" class="anchor-link heading3"><div>组件封装示例</div></a></li><li class="anchor"><a href="/myblog/componentsEncapsulation/Element%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85/#参考资料" class="anchor-link heading2"><div>参考资料</div></a></li></ul></div></aside></div> <!----> <div class="content__content-top"></div> <div class="theme-default-content content__default"><h1 id="element-ui-与-element-plus-ui-二次封装"><a href="#element-ui-与-element-plus-ui-二次封装" class="header-anchor">#</a> Element ui 与 Element-plus ui 二次封装</h1> <hr> <h2 id="背景"><a href="#背景" class="header-anchor">#</a> 背景</h2> <p>在后台管理系统中，存在大量重复相似的页面：</p> <p>例如：</p> <p>在列表页面中，通常列表包含以下部分：</p> <ul><li><p>数据统计项</p></li> <li><p>高级搜索</p></li> <li><p>列表：列表中包含表头、固定列、操作下拉、分页器</p> <p><img src="/myblog/assets/img/组件封装-demo.53eb9419.png" alt="image-20231124144325586"></p></li></ul> <p>然而在 elements 组件中，组件的粒度划分更加小，通常像这种列表组件，包含的 elements 组件有：</p> <ul><li><code>&lt;el-statistic&gt;</code> 统计数值 组件</li> <li>高级搜索框：
<ul><li>实际为 <code>&lt;el-form &gt;</code> 表单组件，通常包含常见的 Form 表单组件：下拉、搜索、远程搜索、单选/多选、switch 开关、上传、按钮等</li></ul></li> <li>表格组件中，包含以下 element 组件：
<ul><li><code>&lt;el-table&gt;</code> 表格组件；</li> <li><code>&lt;el-pagination&gt;</code> 分页组件：实现对列表内容页面动态切换；</li> <li><code>&lt;el-dropdown-menu&gt;</code> 下拉菜单组件： 实现对列表操作的统一管理；</li> <li><code>&lt;el-dialog&gt;</code> 弹窗组件： 弹窗显示不同操作的内容表单；</li> <li><code>&lt;el-form &gt;</code> 表单组件：通常包含常见的 Form 表单组件：下拉、搜索、远程搜索、单选/多选、switch 开关、上传、按钮等`，用于提交不同操作内容。</li></ul></li></ul> <p>在后台管理系统中，存在大量的这类表格组件</p> <p>如果不将以上 element 组件封装成一个表格组件，每次开发时，将需要重复大量的开发工作，将出现以下现象：</p> <ul><li>方案一：复制以上 elements 组件，修改以上组件组成列表组件，重复大量使用以上 elements 组件;</li> <li>方案二：复制以上开发好的表格所有代码，在原来基础上修改；
<ul><li>方案二存在大量弊端：
<ul><li><ol><li>大量重复代码，难于维护</li> <li>修改相同组件时（如统计组件样式）需要修改大量代码</li></ol></li></ul></li></ul></li></ul> <p>为了提高开发效率，更好的解决方案是将列表的组成项封装成统一的页面组件，在使用时使用属性控制组件显示</p> <hr> <h2 id="封装方案"><a href="#封装方案" class="header-anchor">#</a> 封装方案</h2> <p>在 Vue 中，开发组件方式有：</p> <ul><li>模板语法： 使用 template 方式开发单文件组件；</li> <li>渲染函数： 使用  JavaScript 完全的编程能力，调用 vue 的 render 函数，传入 vnode 渲染组件</li></ul> <p>使用 template 开发单文件组件模式是常规的 vue 组件开发方式</p> <h2 id="单文件组件"><a href="#单文件组件" class="header-anchor">#</a> 单文件组件</h2> <blockquote><p>组件基础知识，参考 Vue 相关文档：</p> <ul><li><a href="https://v2.cn.vuejs.org/v2/guide/components.html" target="_blank" rel="noopener noreferrer">vue2 组件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://cn.vuejs.org/api/component-instance.html" target="_blank" rel="noopener noreferrer">vue3 组件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></blockquote> <h3 id="组件封装目的"><a href="#组件封装目的" class="header-anchor">#</a> 组件封装目的</h3> <p>前端组件封装的目的是将可重用的UI元素、功能和逻辑封装成独立的组件，以提高开发效率、代码可维护性和可复用性。以下是前端组件封装的主要目的：</p> <ol><li><strong>代码复用</strong>：组件封装使得开发者可以将相似的功能和UI元素进行抽象和封装，以便在不同的项目和场景中重复使用。通过组件的复用，可以减少重复编写类似的代码，提高开发效率。</li> <li><strong>模块化和可维护性</strong>：通过将功能和逻辑拆分成独立的组件，可以实现代码的模块化。每个组件负责自己的功能，易于理解、测试和维护。当需要修改某个功能时，只需修改对应的组件，而不会影响其他部分的代码。</li> <li><strong>抽象复杂性</strong>：组件封装可以将复杂的功能和逻辑进行封装，提供简单的接口和抽象层，使得组件的使用变得简单和直观。通过组件的抽象，开发者可以关注于业务逻辑，而无需关注底层的实现细节。</li> <li><strong>提高可测试性</strong>：独立封装的组件可以更容易进行单元测试，因为它们具有清晰的输入和输出，可以针对组件的接口编写测试用例，验证其功能和行为是否符合预期。</li> <li><strong>团队协作</strong>：组件封装使得不同的开发者可以并行工作，每个人负责开发和维护自己的组件。这种分工协作的方式有助于团队的协作和项目的进度管理。</li> <li><strong>提高用户体验</strong>：通过封装可重用的UI组件，可以确保在不同的页面和应用中保持一致的用户界面和交互，提供更好的用户体验和用户界面的一致性。</li></ol> <blockquote><p>以上是封装的理由，但是 Elements 组件为什么还要再封装呢？</p></blockquote> <p>在常见的后台管理系统项目中，通常视图大题都相同，根据后台管理系统页面组件，可以将组件划分为以下常见几类组件：</p> <ul><li>Form 组件</li> <li>表格组件</li> <li>弹窗表单组件（实际为弹窗中显示提交表单）</li> <li>高级搜索组件（实际为表单组件+按钮等）</li></ul> <p>在后台管理系统中大量重复使用以上基础组件，因此如果不对以上基础组件进行二次封装，项目中将出现大量重复的以上组件的代码，不利于提高开发效率和维护；</p> <h3 id="封装示例"><a href="#封装示例" class="header-anchor">#</a> 封装示例</h3> <p>B端项目中，常见的两个组件是 Form 组件和表格组件</p> <p>下面以封装一个vue2 element  <a href="https://element.eleme.cn/#/zh-CN/component/form" target="_blank" rel="noopener noreferrer">form<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>   和 表格 <a href="https://element.eleme.cn/#/zh-CN/component/table" target="_blank" rel="noopener noreferrer">table<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 组件为例，说明组件封过程</p> <p><strong>需求分析</strong></p> <p>一个B端 form 组件，通常用于提交表单数据给后端，表单组件内提交形式有多种多样，通常包含 elements 组件中的 form 组件：</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATcAAANNBAMAAAAAKiSPAAAAJ1BMVEX///9ERETJycl6enr4+PhgYGDd3d3v7++wsLCRkZFTU1OioqJra2tB+lbYAAAgAElEQVR42uydz08UaRrHn1QqVdXhVE0wTeuhGugVGA/TUKCQPVQsIxK80EQadA61q6w7tR4qOjU60UO1NgY7HKoR1gX30hBLUA/qOszIzkXZlR0zf9S+P7qb5oc7bgLVld3nk9hgW+onz/O+b5H+1lsFgCAIgiAIgiAI8r+J9Pbt2x+iKif8EOXKRV5Oevsj3O5af/12vetHI0JyZ6nc19Zt73ZB/LvzQLutRalyjx8/tmZIAUc0+TX8yTnXEbHKiXdBvn/bkteJ3IgWsTFH5KR1Url1I4KVA9pWWjkxgpXjE8LiY06LWuXYUhLByiEIgiAIgiAIgiAIgiCfhWkBCD6I/fR7j7y4WnTklADAfgNinyONV+RclRAPzUAeVdUWr/a7CWH7v6ZWq7RqvqJX5cKtnTzW1jZ7dD85U2XoIG3xguVV9fuQ5SZpiayaXN2Q8yDmg6KTb6cdVjlbc7uIZS5UOShaymhLAZRyP63cd+UJY4ec2MMnRJ629Z4RbuVgydqYm03Aq7mFVSEuX3yd8eva6qpaZbaWGiF3q1UcMORJae2MkhDisQCagvrKuZ3MsuXmaGvYcmS2qo/o3BwQjoBMKnd+HqRLO+Q0SDvESbm48X0bOdoLc7ZOj5Ovv/+p+VYO5H8Jcfcl73VttlblzOm2vtDbKn+0oJic3Dz31BDr5eoq99C4Z6Tb3UaMOTsnrTni5vUjMERm6x0f2NpLiNGJQeSEhHjPuHe/IXJKK1lAhJWzkwadEGQ2NC0TMbWC73aQ2XvPWKRniNlwT190ER78zcW7SytGvqeU2F5KapWz24iOqwZE7k74Zwiwt66p/QuOMDrBF+GsUScnlfXKsaGfW/8jTM6e73NqcrTPiQjJjRgCG3tJK0p1QxAEQRAEQRAEQRAEQRAE+UzyHnmJZnINMfYhf6jJ9eXyiiX2GvVvFS1SG333gWJGZWlriMn18LG7G8ufJWd7VFALM7km40gevPIZcqypNns3rORaHiNa6Y7edLIAwrtWC0bKz42iFYubp0bfA5xQ/wyDlkQOIsVtN0w+6sJKrvkFB2Jm9UQcij3TgZiZK/lFq1gwk68/akrzF8+sqS+HA3bs1ywfCTG5ZqE0iIOWPClfAvHn03Fo2ir+MQFmIJ7X7XmY8pV4ng8tm2c34SXXMS7X64i9p4+2tfV9R0dQ8ZVHx5wSkMHX9FQcXKMC8mgO3IAvbyEl10pFzhB7z9EM6TK9GiKv6mTBAOFI0aEH2FRYSFpAc6YWJ7zkWoiTf/zOGybHLjug0zE/l2BywbRF5VJxLiAOkOMTISbXdLaKqQKVu07nRixHnIpX+pxqW2O5obVBp7bCpLwQk2uRDC/pq2+o3Nkxhxoasa2iZc+bAbhf0gkxPxxMzfMVcQYUMidCTK7JGWIpYGPOyGdn4+LgXKlQtEbi5pOZC5bS3PnMSnkKW399sbtj0Ao3uT5RXnO4nPDu2BWyCC+T/sm/3PhLuZ8uwo+Gxgz5n7yviupHK7muH1IlqhXN5DrGV7QoJtdiJg4IgiAIgiAIgiAIgiAIgvzfQz+0VHZ8nroYHbkpC8BmH1PH/KpciW1RC9NiVwxM6KQvaQfEARYNnl6tyoVfuz1ybOeyrao5U5eW6Rs26TBIZbV5ICJy4in2BzRP4ruqae61mCJt1UKWm76sPhIH0sc04iVP2GpACjUO7kVVXaFRHZ8X0hppqzQeeuXya12tZwafn1hmctfXjgMIPf1sX3o3KZ3ZQueF0NoguQIsfJPR5M0hKsfaGpvTTbXZkLN0zLXTeRFTcw2RIyOrSC+PKF6tybltuqm1Dx+nctO3aBY8NdY74KpEuBFyZCqmjtfkyGztpXLv6QQZou88WLwx0LDK1eSYCgi0raxySg6mHZA/LDZkzJ2ptnX66iWQVuWqXKWttkev05C8xsjxyg1a8qa8aSiJipz6kFeOLnfMiciVGnD6YnKZ1dmA3p9hQv6FLCUptVq5GJ0NpK+NOn3xthZXLBhR+09BMV5tK11KluhJIqY3Ru4TZzEuJy2b/LKTPqf6U4keDbmNREzVH/K3Y0Ejf57b+5NThIi0HIIgCIIgCIIgCIIgCIIgdUj0w1eF7WtNOyDkoiW3YnC5mJe++UHx2c1WE+RX68H+P/sl1Sl998Zgvl1yG9fncmd70t3HaaAd88VTMf+gPzjeLwxOJX5Njnay1labVCxEuRbrV+SgMuZodh1/AKZ3aG3dk1SnNuaJnOmD6bsz5f4byYKynFk14LL6Ady/NTvbciA9ceQxw9UOrXK7k+qOVGeiJvdk5sVke1xRe0q+8KIzo7krbTTxLGT4prnUu7jSbNyxqOeWctDb1vZLqlPH+6yqXA5eeUOTylFoCs7Pw/A/3JMi8P3ebLbG091ds841p1S5M3LuoOX2JNUpzZ6vyvlQtMQBMuakVXuurSug83Rb7qFx4lvd1dgG3IXKtvBDkKtPqlOakqiXkweIiHyJjf6dcmzexDw61Nz4gXd136Q6pYl9l3dWjslplRVuWy5PE1ilP0v+crMB9sGPub1JNZGzf6uTorhVuXPjtK0v98hJy+Rb6UVOKrOLT0w1OJTK1SfVpESKqptbkKpVLgHD4+e3YDi3Uy4W0EtPSt7hnb52J9UdRE7O6Kebv7hQk0vOZTwheTdTqMoNO+z0NVog46HkH97pa09STQfX73SxeKyrJpd9NwFkEc5W2zrT4vBFuJwD5Xn8kOQ+ef7fh+1DzKTFZ6uiJiCvLTiH09b/Rm4betkalVOSlvmA1C3X+MrthV6ewC+dOEwwqUYQBEEQBEEQBEEQBEGQaKF45IWGM2w/ZNTk4mB6XI7dvLLZSKmqngrzicZCJtnPv3O92pviXfo67UxZlcrZGn3qZtpR9LQTYqafX3v4TNstx3dTmxrfgE7klByNucKWo7fsdU/uL0e/kMpJZbUVlq5ecCDsttKH3DaN8xDaYzf7FjeSb1JcQPFrE0Khe+VCr9ymQwceC6E9ZaXzomW2dh299Zx0utS6PVsVGkvzVtt+eHOy+9i6ASYLoT33JZyfT2nw0x9YWxdtlj7H5axCzOTRbPVJvVpopZtVWx0eQnup123tuQWnOuYWSc3o3lY5289KKNJbWP8c7nomLeV4CO3RbDegcclOOZp0Ve5VXfLD7Cpb6hI8hPboHQ/EejkhkMblS8tZ9hxwVZNHAxAz4dnFnkIthC4wR9LW7sqYA1eXxolels8Mk+9uzYf2AHKh1SHnKR5Ce1MnwTyZ6oC/fsvllBZHGhdyVbnQ1zkorSyWfR5Ce0pL5zvNXOtKSGMd9F4WNPktqZ6cZfeqVoPQT1/CR/U9wDUaQtNF+INBFmENNoLKPGATulq50OU+idh3K75LLvS2fpr7wLt5dDQXucohCIIgCIIgCIIgCIIgCIJ8DvW3Tn1Ab9V8w6l8IKvoDZeL+TZ7+mNJVZtv+MIy3NEhfZPLmSwio4+K7sj8m73z+WkjyeJ4qafVXRanNrJkkxy6IUyCk8M6tkPY4dDaRkC0c8FRMJA99EziZNeTQyvQUXbEofmVZNkc2kB+2MrFIPXYYQ5kJpFmo1xmdhcmM/mjpl5Vt39AtJmZbTCH+ioKEJPwyXtV1YhX3/fCHTYLc6rf/4rhtnzQD31ApU0CGXHlXWMZjU2hchC5dR1hj0TTPnWRjRMOSXRO9Yfh5F2cKUMfVYBjP77uG61SAy6Bsx0wKIYPR+dUmx+EMxztJUxsBbjHVdZHNZKByEUUxZPqOI7CTyubU63iidgytetBnZq8U7dQf+yaS0vXyZVtcConxEcwKTgCbXsjFHvebGwImA8dfuTYnGr0eu1hXH63mFKNxEBCOtmb+gM+efaKS0vX2vY92BAZMaWWlAxNK/klVb3mbrUDJ1+fXjHDyyqbUy0P6fK04NE6tfjwi72RSH4+I2oulK5dbQc+ZdUUUzCDOYAjZwszUmdwxk7AJYAlv44dXhPuSGCXFYck2LVQp4Zo5D9TgWuxty9PC50kwvLVHEqaBC5NTw5y8OEMUOLzbnBpx/gkVPet3z5AvP2me+R1zwVm65PPpDzNRB+5tHRN4chSe7y5NDLE1hxYqRtwWkL34aTnZphZ9edU76wqby/r8pKyQevU38fWveR1dMmlzfopHHyqZz/w2FFS2KVwkGScfjqIWTZhpLDQEyIdm1N9r26J/yZYlyahTn1tkixFmlbqfvfhKn/LCOSYoHBL/6JwCyp8NJ5hO0OjtybkiZgVFhydU/3udhQJW+OE6StC8qzgollvfhAs1YMkgxr7mk5RhbAQHOXU+XmTwNlx8pHhYB/uEB5fdE61NLNY2Rq9sljZMBJ98Y8SZyY8ofufVReffPC9SuEKJvRKKEfpmsNkh8IgcEJYjVk4s0B36Ub4Twg6pxrdUi48sq4pNV18FVPlUmxxE517/i05hHt2dT+tEc+OIm0wRVJZVMUhsg+CPRVE7hDgfq3mb8LyzFoo8rhGHglrcdv/Vmn88NL6O47GLPny0vYOYtm8CjSdjhwXFxcXFxcXFxcXFxcXFxcXFxcX1wHJ4ICF0vTxkVQNilnyTyZCJfXICZqeanBN0yHVzZbVUNjvh4DZXlBfPFI1PdUEjs1HfQ+cdN5vnHq0q6npqUb+kOqDcMykecTDW1HgqU7rOI6MJ9NFxYNSNd4sJay2yLGp0EceOeqpXjEjCf3L+9O366ehVI2VtdLGMYBjnuqi+ulf5vpvTrNOx2/untDpxNuOw4Gnem5+p/DKXB8DOChVkzUHy84ODN5Op+Copzqyd65w+mfYrbRUPe75e0Lao5ELKBMdoBNqglc2Hm824HAAB4ZMllZ5pgORY55qqXax65P/yH5ak38N4HAmgMPbHbhOBZ7qrk1xeFJ47lI4sFTfDeAibgBXdDoxNJh6qtGLvDShErh3p2frA/HGmoN20OwJUW+/dnVUoaOe6s82xKxJnq2rUbBUB2uOIPlwCw6tAx8naa4Pp8GpJxztvPsPiKUWBnswFzU+VnRcXFxcXFxcXFxcXFxcXFxcXFxcXAcEA56Zyui4jaJGUtZaoCbqTsLRSrXh0unKLV2soQYBLYQvdhSOVqrfBwftb2NzFA5C2IEiul+p9gsgrXAkbEt6/9xFeUKJWUKmI13nWaWaRm61u+CIqz0v0crqJkLXvKI/P7kMNbCOwLFKNcB1JQZmHGP77Ja+ULuvk9D1m4iuts7B+d2/CVxxQ19wkipKqv5M50Ln4Wj3b4DTTPSl86i3d2WD+oER9DkOjhLsdmrSweiLPMCtWmieThXPMLglvYzYURI5hOHdv/6oqwHciok+XU7DCqRw4lBL5GyvI2BwC0ICuMGkiQrLlQYcyWMQORLF7zoTNVqphsgVNtCCozmouEPhBC+IXKnnZm7e7AScCJXqDYDD3QOKM9t99muLwkUyLHJS1SGbuUPPL1qppodwf2zFEV/1PNEpnE1nJ9PLTXBjAsYWHwPp7I2mEjiD7lEwT+MoOpZiV8OOeoAAFxcXFxcXFxcXFxcXFxcXFxcXF1eokiaZyRo0gPxq7HFpEglwKTaJWU06qOzD0SpjXqoqsTtVJZT+s9TjWGv7aTT4vLcsZl1iLXxbPzvPjKUCdffZquDJOR8OfnZsZMiL/XcmWVXv/9Wfy5Xp8lo73Nflcmry/XCqwOB806utoqd+v16S1qSJHllhwiHauLg9a3UYhsvePwg3Rb2kTThkOwBsQ7/oqOGhMNNK4YQozqVquHoBSamTJsDJ0yRyf69OjaT1+d1mD3ACt+dHDsYMqwDXpzc2hBazUOiRI3DP11LDD7b05A9LUYCT6tiTZ75JLafHsmazB3hLWsGTq9pnoH96AKcF1xSe0obn4cHFRTuPXl9/q4vPRgnc7Cb2ujz90mB61kPNHuCwIfr0FjgVX2A2esdwtCgMpE36LuJ4iHAeFLuSN+q9vZUb0JXhJfZgMYrpiomaPcAhcgWHwJ0L0oozJGaQXeMfanD9pPhtaEbdVrjP4f/8Mdmt9xH2oOWBmFIc1OwBDnAwHrolcgFcKRrcjcHdY2FltR0u6u9W1IAb8FCzBzhdc0/3wRXJG6PS5xgsm4aioki3Hj7cje0WOPIC3k2TFdjsAb5/Q8wTODFrAeWswyJXos2/hZCc661wN7OW+OyOD9flIWMwrS+ozR7gLXCNNaeRv6oWTMOHO4xzjsGZWq0vPurDwVFyipxze80e4I3HF40cwEYIPsIkTga9WUFW7CGccz6clIqpQVrJIfwDeUIIJ/RGD3AWOcFrPr5KwZOvEblQ4X7z9yRVsoEDuAFPc/bBhZrW36VzAGcoCUEVWTbXgabzkePi4uLi4uLi4uLi4uLi4uLi4uLi+rCwg9h04055EVtZ6I9Ye0xURhHXVhQPR5HhMDiB1V01RcloITkToSw9pbP3v2BvyT/d88QvtO7rqs0qxEkTKuaxgipNohWrYPqRK6rQP7zfwpl+KxwTG5SlJ/zbBOs+3FB5vXvuf8KxyAGcwWr9YDHFeSgbhApXJ18y0Q5H1tELlf3RB+Fg6DeJHElAAlVuXrFQqGklcGLWhDnVhhKnlmqAKy6ndaha26502Rqvbut4CrqrN+BIuOiao80Igg2BFdp+ONzIIU2FOdXS8MfUUg1wSQKnTT30bNfeE//4zesM7nkw957IlRLN3YoVvzRiqCHZ6xjcfZhTLa7r1FJN4KSZ6+mxYV3+2X7yX0vYRMIm8xoeTGuZedajcg4TMnkiFzTlVsOCKzrgBNbXLbBUu1APrInp0RqsuXRej+R6z0yPe21HCU0rhSMxg6Un5y7QEIpws+JtSCcXi5yDPn/Tra+PUEs12a1rlpj+E8TKVshBBueXD9cauYLZAmdARpfojiq5YZkm/TW32jN9mcBRSzUttQVwuWHLGGxgtcEVYUOUEZTV5aubOdbQX5UnPCSmwltzYvZOXZfT+rqebYEjaRWHbDe5c+mrA3CQ+diKRSNnZ6RJgpdjO8NQ6OWDhVAmB9Nz7gSJkkTSqmvLqLjjw40M61LNdi95QhxJ2/six45FgMMxwijkA7hwzznyhKhmpJnF0pZeuWeApdqH05M/ru7BOTeWOv96bx+ccWpIqiFpEmIL3QgcOcfa0nuhnnPk2fojgjnVr6xbCWqpDuCkVN0iX3rB6Zqoz7XDCd1m5F2ewBlB0bcRuTDhmhJbfvffFdtfax4lUFO/ZdnKRvZudB9cmGn9jd8yta450D1/yMAv7Z3Bc9NWHsffCI0lTU5yJp3YyUEOpAkuh3Vw45DNwYOZTRj2EhjiGPag3SQFvBw0DSo55GAHvEO9OQgS2jrdS5JBm0APZQvT3dwo0wI7/FH7fu9JsuW4FBYh+fD7DCmGMsln3tN78vin7+8NzBY/6MghCIIgCIIgCIIgCIIgCIKEQHfkrgW31HUrL2cLXq/rQHLXhyvV7OjsPhbz8qDfM5njmcP2JDE/vrqswWfDyQX+kX9QuevDlWrpP43vGt+2yb1qbPTpb5RjI7cMcsHlrjtUqqFS3wZU2rz02RvkClwuqNx1h0o1k0tptaPJSr1XZ4FqkDOtui5t0X+WlV7rwrOEzovXnlyV/mi45gLMXXeoVDty9f2jvS/rWRaoBrkylTMfHe0vZJfnSH2sZvPidaeRCyp33aFS7chVK9MXjR6bBaqpnDSp1fWDRXFjOTepS5eJ+Gom3nlag8tdH65Ub7ojByfhCjYLVMMOMJCvL8LzHIVTNhH6h4Y+XbF9Wwmd1pw7cgHlrjtUqv1yLFBNV+s3BqlfgZVCL01WA0tetQ+NnKlJ51eDy113qFT75dj+wevijlx8S2c1MLmDHF8QQeWuO1Sq20ZOa8rBtK4vZMsWe1bCLwczn6zphxfEe+SuO1Sq/XIQqM45cvqBLp5cpnuVdMEQT674Rw6oGT65981dd6hU++VYoNqVo1tJHPY5o/pyPd42rUplY7pE6DUXXO66Q6XaL0cgUO3KSVuDGr1DpJ4Iz75bdOR2uFzsgSZfsIk7cgHnrg9Vqt/tXQlsR6u683BEt+SufdecD8xdIwiCIAiCIAiCIAiCIAgSFW4v5o28V1XsOjlp3jl8MUxYbfW+4fz8VpwTmB05XmcK+UDot5VTLDiXtEtHztRYyTkKuRunhgc1KgcFaLKg7htkuG/BJ1cddXO34ctNPjqxQ+WqYwd2bHAo8zt58JOLjhzUEIrSJJyYGtHIZTRpano+tp+Plc69OKMUV7NiqnXk5JoW/mJ15ahB/co8VLOe0omTi3/WyB9b5a5f12I7UcmdIiQ1Mi//k1XfRjN2SidHWuVGTU0I/7Bqv9wclfvsWd+GnV4kZ9tXKwn9+FvxeZ5+nYFpvcmm9f7yHOmx26eVywXW5f5teVwh8qMzk7r0nC6IEl0Q1y2ybK/mSKpNju7BhZBTq+LqYGP2hZjZW7fZVlKzjyRGZ22h9+/bbXLT1cqWHvaKeKpeNsST9V0dNuHZhC7d7VvbISce/tA+rWImmuOg286o8FC8ThBwzcV2890k14QtCKXYnXJd8HYXQRAEQRAEQRAEQRAEQZDIESzvpZSDjG9Xye0Tloa2CVHGxVOReUAv274Kf+10/yY8BcxrNmmd+BPMocpdGBpaH+Cvmw8YyJtrVE7aZAViJbKGnlD7Ej/V2+TgNaTIWffv6D4wZoW5uj9TDUCoslDhXoVilHJbui9TTVJJHfpnDxsmf+bgbiU6uZWE6MtUEwLtqc1jE+5C5cfNRrNa1a9Ja/dvJieOmyM5wneUyA6Kpau1Brtsa6aasIgi30ogt5jWo7vmpP/qxJeppnLX3Ac1oP9DzYhwQZSLsX2jJVPdOnKKFbGcnBB8mepWOfhvpHLi5Me+TDWVu/K9Iwcbc2SPprF9rvzCl6mmco+zXA4eSYhqI2mlNVOdok6rGoypLvP120VAG28YuZSFb24RBEEQBEEQBEEQBEEQBHlXeGPmrkKwnRexPf77Hfolwyez4edfDyGezEMv7QQ71hUKT1VNnHDkoF2qmhVUtfe0qrL+re/LwvYun59mRhQyj+wcTeL20fSAZHVWnCCsAMAqnnIxNufIQZDTtIQiuXW66PYAfS/ODq4d7LTL9TYamVxHOek8tZJ+IUSx+RcRx1g6LAHTWjOob4By1QqRJvU2uX5CehypNjlS+2IHqnViRvMagpehYzD0VrcU2yyS4KaVBS+HtT9kBnUnUy3PPxzqh+udjtyJZI7KVW9LB323xVOPX8DkjWahD/OYE6WDIvaXzQVR7c2T4EbOGZjUT+txJ1MtJ+98TuUEKicP3vnu87iwT1b3jifEzE+3We9z9fdZakMV2C9FtZqrtcoe94CpDqTs08O+mfTckJ7f5JnqmTib1iXb3KRjVx6KpzfJUz2fXmSPKVCDhZnsrRlPjihfbbtxxCr9ZmZfyhnU949NsmuaxOLEy1Sv2Gy1JiumBU+UCAP7RJwaGqreZg8jmJpsy345i3VZpv/rqM6GkP6z1LoVxLbldCz+yMtUV6/abLWOsBbzsK0MGqzWvsnljp3MU7mVw3JixnbmlyiJYIp5Qpz+yNV/2XkvUw1yrNu6I9ebfsJKi/wxDvNAK4yykXMXBJVL60u6eTDMTjqgs2nSvbmQCEAOVquYWmtO6/2Vphyd1tW1uPKRNJX35LTY3tVcgy0IQvjI0e+xBHoaGzkxw3qOy7/ZT/4t7kaPKyT2+gZdEFM3eaZ6pilnbpLUUJyuloNjJD3iTOukLufOu3Iwh1a1SJb0YcORC3CfgzvElk23klrcyVS3yMm9n+yepvtcxUwc373Buw3UK7I1o3pt7eVs4esSRIj7iTnCWvIn/xLcHYKc2N43SOxZr5uplptyZDj5hG6ER+akreSPfFqHjdjuYmooQZzH6gqbGfdtijdyAcq9Gw3pkk63HzPLn4dR+xaKVa1NLsB3Je92iY5v6WwNTXh7kc6Pk1efgk20I4cgCIIgCIIgCIIgCIIgCNIC74gLH2eybGR3xaylnw1HjlXRY3PsvOgPHpA0nWB3G8MtHze7hTZWoDYrBR3kQhm7c42tUuPH9r8Vp9byTVHuKYMcndVzcUVVB0Ka2EL28OmevpOqhw36x6omj2+rCQVq1BU4dTcDp2KHISfsXfoeen4X7s3u5WOZPi2l9rcUp1PqnrGgxsn0PJ/irAJHAitWOCMnJP/9GfT8Ljy8k9FWXx6Nr1z4uFmcjj0w+GAKqkW+gVpIIVS5AdLzQlSKBcjGp3XxFTWpecVpj57LY8p5cvNCvqz+LUQ5VvGWi8tZ+qfyOAxTS3G67KxW+9rEXzdMSxSy9y8PzFVDadzvyEHP7wLInVP3NanUUpxmQJ383oSQg6c8pIm5L0Mdudjsgw0uR2YyCSrXLE4TqLxRuVhugnU/7pe/mouFKndkLt/jyBHx/pWS+Npw5ZzCmzpwbALO6Bbsni9CljOh5zeTq+nk4GaJHGhucRr8Lg7rcPs63Z/WyxrcIea3Q8n3c7mz0PObyS3NH9+fLpFVrzgNE5td0vm9Vd7bI6Hdvlw51vObrdZYJnkb0v1ecZquV5u4cuRuMUy53wYetElzOTFjUTvnXYmqRa5G76V0kSbYWyYBLrNUsdva5iAIgiAIgiAIgiAIgiAIgrjwk26hE7g43qVyUC1R7GgMWAXEOvTXZjNbm6o4pzFHIPenRuPbyq+PnBBUVvX/kiu9eVoF+GAfYt7RybFI9eXM+Hy990pmL+8NmKp1gRyLVF8aG7k0X//5HuTMu2haIVI9NX3BmL5o9PSLptU100pXa0LYgextCUxlmx2KXnWmtT9aObpa7/FIdasc7Cb/MLpiWgUWqfbLSaWzFZLWo18QQrx9WunAZaVfyjYMXnRlOF7LZ5Fqn5xMbxupOOGly46PO4W4ldTiEpOb4XKxh9cst3VDxCPHI9W+1aopVqFo2tHK/SoKzCRrFdCFci+E0DYAAAAVSURBVKb3bgDr0giCIAiCIAjygfkfx+cHg08V5rkAAAAASUVORK5CYII=" alt="image-20231127114126564"></p> <p>除了以上 elements 官方文档中列举的一些组件外，通常 form 组件还会包含额外的组件：</p> <ul><li>富文本组件</li> <li>远程搜索组件（需要对 elements select 组件做二次封装，接口也应定义固定结构，适配远程搜索）</li></ul> <p>一个典型 form 表单组件样式：</p> <p><img src="/myblog/assets/img/elements-form组件.d04aba9b.png" alt="image-20231127114546409"></p> <p>因此，一个通用的B端 form 组件应该能够配置信息动态渲染以上组件；</p> <p>在后台管理系统中，大部分 Form 表单视图相同（如：都有label标签对应组件，form 组件最后为一行操作按钮），每个表单组件逻辑不同，因此可以<strong>采用逻辑和视图分离的方式，对 Form 组件二次封装</strong> 。</p> <h4 id="form-二次封装"><a href="#form-二次封装" class="header-anchor">#</a> <strong>Form 二次封装</strong></h4> <blockquote><p><strong>采用逻辑和视图分离的方式，对 Form 组件二次封装</strong> ，将 Form 表单视图封装为一个视图组件，但每个 Form 组件视图又不相同，该如何生成特定的视图组件？</p></blockquote> <p>我们来看看 <a href="https://element.eleme.cn/#/zh-CN/component/form" target="_blank" rel="noopener noreferrer">Element 官方 Form表单组件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的写法:</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form<span class="token punctuation">&quot;</span></span> <span class="token attr-name">label-width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>80px<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>活动名称<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form.name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>活动区域<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-select</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form.region<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>请选择活动区域<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-option</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>区域一<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>shanghai<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-option</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-option</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>区域二<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>beijing<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-option</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-select</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>活动时间<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-col</span> <span class="token attr-name">:span</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>11<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-date-picker</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>date<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>选择日期<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form.date1<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-date-picker</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-col</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-col</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>line<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:span</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>-<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-col</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-col</span> <span class="token attr-name">:span</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>11<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-time-picker</span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>选择时间<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form.date2<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-time-picker</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-col</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>即时配送<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-switch</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form.delivery<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-switch</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>活动性质<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-checkbox-group</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form.type<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-checkbox</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>美食/餐厅线上活动<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>type<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-checkbox</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-checkbox</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>地推活动<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>type<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-checkbox</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-checkbox</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>线下主题活动<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>type<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-checkbox</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-checkbox</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>单纯品牌曝光<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>type<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-checkbox</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-checkbox-group</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>特殊资源<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-radio-group</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form.resource<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-radio</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>线上品牌商赞助<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-radio</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-radio</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>线下场地免费<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-radio</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-radio-group</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>活动形式<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>textarea<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form.desc<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onSubmit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>立即创建<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span><span class="token punctuation">&gt;</span></span>取消<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">form</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
          <span class="token literal-property property">region</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
          <span class="token literal-property property">date1</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
          <span class="token literal-property property">date2</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
          <span class="token literal-property property">delivery</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token literal-property property">resource</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
          <span class="token literal-property property">desc</span><span class="token operator">:</span> <span class="token string">''</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">onSubmit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'submit!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br></div></div><p>通过分析以上官方的 Form 表单组件我们可以发现：</p> <ul><li>表单组件都通过单个 <code>&lt;el-form&gt;</code> 标签包裹，然后每个操作组件通过 <code>&lt;el-form-item&gt;</code> 标签包裹；</li> <li><code>&lt;el-form&gt;</code> 标签是唯一固定的， <code>&lt;el-form-item&gt;</code> 标签是根据操作组件决定的；</li></ul> <p>因此，我们可以将 <code>&lt;el-form&gt;</code> 标签包裹<code>&lt;el-form-item&gt;</code> 标签，<code>&lt;el-form-item&gt;</code> 标签通过遍历 一个配置项生成。</p> <p><code>Form</code> 组件视图可以通过一个配置项和视图组件确定，逻辑通过父组件确定；</p> <h5 id="组件特征"><a href="#组件特征" class="header-anchor">#</a> <strong>组件特征</strong></h5> <p>下面通过对 <a href="https://element.eleme.cn/#/zh-CN/component/form" target="_blank" rel="noopener noreferrer">vue2 elements Form 组件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>二次封装，该组件有以下特性：</p> <ul><li><p>组件视图：</p> <ul><li>封装所有Form 表单的操作组件视图和公共逻辑；并能够动态扩展 Form 组件；</li> <li>通过 <strong>JSON 配置动态生成表单项</strong>，用于生成视图；</li></ul></li> <li><p>Form 表单逻辑和数据通过父组件（使用 Form 的组件）确定；</p></li></ul> <h5 id="form-视图组件封装"><a href="#form-视图组件封装" class="header-anchor">#</a> <strong>Form 视图组件封装</strong></h5> <p>通过 <code>&lt;el-form&gt;</code> 标签和<code>&lt;el-form-item&gt;</code> 标签，将所有操作组件封装到自定义的 Form 组件中：<code>FormWrap.vue</code> 组件</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;{ 'form-label-container': !isForm, 'form-container': isForm }&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>stop的iframe阻止submit后跳转<span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>iframe name<span class="token operator">=</span><span class="token string">&quot;stop&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;none&quot;</span> style<span class="token operator">=</span><span class="token string">&quot;display: none&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>stop的iframe阻止submit后跳转 end<span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>form表单集合<span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>form
      <span class="token operator">:</span>ref<span class="token operator">=</span><span class="token string">&quot;formRef&quot;</span>
      <span class="token operator">:</span>model<span class="token operator">=</span><span class="token string">&quot;data&quot;</span>
      <span class="token operator">:</span>label<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">&quot;labelWidth&quot;</span>
      label<span class="token operator">-</span>position<span class="token operator">=</span><span class="token string">&quot;left&quot;</span>
      v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;$attrs&quot;</span>
      target<span class="token operator">=</span><span class="token string">&quot;stop&quot;</span>
    <span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>row
        v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;(row, rowIndex) in items&quot;</span>
        <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;rowIndex&quot;</span>
        <span class="token operator">:</span>gutter<span class="token operator">=</span><span class="token string">&quot;24&quot;</span>
        <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;`form-row-${rowIndex}`&quot;</span>
      <span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>col
          v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;(item, index) in row&quot;</span>
          <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;index&quot;</span>
          <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">&quot;item.span || 24 / row.length&quot;</span>
          <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;item.colClassName&quot;</span>
        <span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item
            <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;item.label || index&quot;</span>
            <span class="token operator">:</span>label<span class="token operator">=</span><span class="token string">&quot;item.label&quot;</span>
            <span class="token operator">:</span>prop<span class="token operator">=</span><span class="token string">&quot;item.prop&quot;</span>
            <span class="token operator">:</span>rules<span class="token operator">=</span><span class="token string">&quot;item.rules&quot;</span>
            <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span>&quot;<span class="token punctuation">[</span>
              <span class="token function">isRequire</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">'form-item-required'</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
              item<span class="token punctuation">.</span>className<span class="token punctuation">,</span>
              item<span class="token punctuation">.</span>attrs <span class="token operator">&amp;&amp;</span> item<span class="token punctuation">.</span>attrs<span class="token punctuation">.</span>disabled <span class="token operator">?</span> <span class="token string">'hidden-tips'</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span>&quot;
            <span class="token operator">:</span>style<span class="token operator">=</span><span class="token string">&quot;item.styles&quot;</span>
            <span class="token operator">:</span>label<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">&quot;item.labelWidth || '120px'&quot;</span>
            <span class="token operator">:</span>name<span class="token operator">=</span><span class="token string">&quot;item.prop&quot;</span>
          <span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>slot
              v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.type == $const.FormCompType.slot&quot;</span>
              <span class="token operator">:</span>item<span class="token operator">=</span><span class="token string">&quot;item&quot;</span>
              <span class="token operator">:</span>name<span class="token operator">=</span><span class="token string">&quot;item.slotName&quot;</span>
            <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>输入框<span class="token operator">--</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>input
              v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.type == $const.FormCompType.input&quot;</span>
              v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;data[item.prop]&quot;</span>
              <span class="token operator">:</span>name<span class="token operator">=</span><span class="token string">&quot;item.prop&quot;</span>
              auto<span class="token operator">-</span>complete<span class="token operator">=</span><span class="token string">&quot;on&quot;</span>
              <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;item-inputs&quot;</span>
              <span class="token operator">:</span>style<span class="token operator">=</span><span class="token string">&quot;{ width: `${item.width || width || '100%'}` }&quot;</span>
              <span class="token operator">:</span>placeholder<span class="token operator">=</span><span class="token string">&quot;placeholderFormate(item)&quot;</span>
              v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;item.attrs&quot;</span>
              v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">&quot;item.listeners&quot;</span>
            <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>数字输入框<span class="token operator">--</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>input<span class="token operator">-</span>number
              v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.type == $const.FormCompType.number&quot;</span>
              v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;data[item.prop]&quot;</span>
              <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;item-inputs&quot;</span>
              <span class="token operator">:</span>style<span class="token operator">=</span><span class="token string">&quot;{ width: `${item.width || width || '100%'}` }&quot;</span>
              <span class="token operator">:</span>placeholder<span class="token operator">=</span><span class="token string">&quot;placeholderFormate(item)&quot;</span>
              v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;item.attrs&quot;</span>
              v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">&quot;item.listeners&quot;</span>
            <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>多行输入框<span class="token operator">--</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>input
              v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.type == $const.FormCompType.textarea&quot;</span>
              v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;data[item.prop]&quot;</span>
              <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;item-inputs&quot;</span>
              <span class="token operator">:</span>name<span class="token operator">=</span><span class="token string">&quot;item.prop&quot;</span>
              auto<span class="token operator">-</span>complete<span class="token operator">=</span><span class="token string">&quot;on&quot;</span>
              <span class="token operator">:</span>style<span class="token operator">=</span><span class="token string">&quot;{ width: `${item.width || width || '100%'}` }&quot;</span>
              type<span class="token operator">=</span><span class="token string">&quot;textarea&quot;</span>
              <span class="token operator">:</span>placeholder<span class="token operator">=</span><span class="token string">&quot;placeholderFormate(item)&quot;</span>
              v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;item.attrs&quot;</span>
              <span class="token operator">:</span>autosize<span class="token operator">=</span><span class="token string">&quot;(item.attrs &amp;&amp; item.attrs.autosize) || true&quot;</span>
              v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">&quot;item.listeners&quot;</span>
            <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>富文本编辑器<span class="token operator">--</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>tinymce
              v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.type == $const.FormCompType.editor&quot;</span>
              v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;data[item.prop]&quot;</span>
              <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;item-inputs form-wrap-richtext&quot;</span>
              v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;item.attrs&quot;</span>
              v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">&quot;item.listeners&quot;</span>
            <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>日期选择<span class="token operator">--</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>date<span class="token operator">-</span>picker
              v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.type == $const.FormCompType.datePicker&quot;</span>
              v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;data[item.prop]&quot;</span>
              <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;item-inputs&quot;</span>
              <span class="token operator">:</span>type<span class="token operator">=</span><span class="token string">&quot;(item.attrs &amp;&amp; item.attrs.type) || 'date'&quot;</span>
              <span class="token operator">:</span>placeholder<span class="token operator">=</span><span class="token string">&quot;placeholderFormate(item)&quot;</span>
              <span class="token operator">:</span>style<span class="token operator">=</span><span class="token string">&quot;{ width: `${item.width || width || '100%'}` }&quot;</span>
              v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;item.attrs&quot;</span>
              v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">&quot;item.listeners&quot;</span>
              @change<span class="token operator">=</span>&quot;
                <span class="token function">eventHandler</span><span class="token punctuation">(</span>$event<span class="token punctuation">,</span> <span class="token punctuation">{</span>
                  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'change'</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">events</span><span class="token operator">:</span> item<span class="token punctuation">.</span>listeners<span class="token punctuation">,</span>
                  item<span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
              &quot;
            <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>日期时间选择器<span class="token operator">-</span>带标记封装组件<span class="token operator">--</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>date<span class="token operator">-</span>picker<span class="token operator">-</span>wrap
              v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.type == $const.FormCompType.datePickerColor&quot;</span>
              <span class="token operator">:</span>date<span class="token operator">=</span><span class="token string">&quot;data[item.prop]&quot;</span>
              <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;item-inputs&quot;</span>
              <span class="token operator">:</span>placeholder<span class="token operator">=</span><span class="token string">&quot;placeholderFormate(item)&quot;</span>
              <span class="token operator">:</span>style<span class="token operator">=</span><span class="token string">&quot;{ width: `${item.width}` }&quot;</span>
              v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;item.attrs&quot;</span>
              v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">&quot;item.listeners&quot;</span>
            <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>date<span class="token operator">-</span>picker
              v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.type == $const.FormCompType.daterange&quot;</span>
              v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;data[item.prop]&quot;</span>
              <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;item-inputs&quot;</span>
              <span class="token operator">:</span>type<span class="token operator">=</span><span class="token string">&quot;(item.attrs &amp;&amp; item.attrs.type) || 'daterange'&quot;</span>
              <span class="token operator">:</span>placeholder<span class="token operator">=</span><span class="token string">&quot;placeholderFormate(item)&quot;</span>
              <span class="token operator">:</span>style<span class="token operator">=</span><span class="token string">&quot;{ width: `${item.width || width || '100%'}` }&quot;</span>
              v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;item.attrs&quot;</span>
              v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">&quot;item.listeners&quot;</span>
              @change<span class="token operator">=</span>&quot;
                <span class="token function">eventHandler</span><span class="token punctuation">(</span>$event<span class="token punctuation">,</span> <span class="token punctuation">{</span>
                  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'change'</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">events</span><span class="token operator">:</span> item<span class="token punctuation">.</span>listeners<span class="token punctuation">,</span>
                  item<span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
              &quot;
            <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>时间范围选择<span class="token operator">--</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>time<span class="token operator">-</span>select
              v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.type == $const.FormCompType.timePicker&quot;</span>
              v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;data[item.prop]&quot;</span>
              <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;item-inputs&quot;</span>
              <span class="token operator">:</span>placeholder<span class="token operator">=</span><span class="token string">&quot;placeholderFormate(item)&quot;</span>
              <span class="token operator">:</span>style<span class="token operator">=</span><span class="token string">&quot;{ width: `${item.width || width || '100%'}` }&quot;</span>
              v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;item.attrs&quot;</span>
              v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">&quot;item.listeners&quot;</span>
              @change<span class="token operator">=</span>&quot;
                <span class="token function">eventHandler</span><span class="token punctuation">(</span>$event<span class="token punctuation">,</span> <span class="token punctuation">{</span>
                  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'change'</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">events</span><span class="token operator">:</span> item<span class="token punctuation">.</span>listeners<span class="token punctuation">,</span>
                  item<span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
              &quot;
            <span class="token operator">/</span><span class="token operator">&gt;</span>

            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>普通下拉选择器<span class="token operator">--</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>SelectorWrap
              v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.type == $const.FormCompType.select&quot;</span>
              <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;item.prop&quot;</span>
              <span class="token operator">:</span>item<span class="token operator">=</span><span class="token string">&quot;item&quot;</span>
              <span class="token operator">:</span>data<span class="token operator">=</span><span class="token string">&quot;data&quot;</span>
              <span class="token operator">:</span>check<span class="token operator">-</span>all<span class="token operator">=</span><span class="token string">&quot;item.checkAll&quot;</span>
              v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;$attrs&quot;</span>
              v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">&quot;$listeners&quot;</span>
            <span class="token operator">/</span><span class="token operator">&gt;</span>

            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>级联下拉选择器<span class="token operator">--</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>cascader
              v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.type == $const.FormCompType.cascader&quot;</span>
              v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;data[item.prop]&quot;</span>
              <span class="token operator">:</span>placeholder<span class="token operator">=</span><span class="token string">&quot;placeholderFormate(item)&quot;</span>
              <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;item-inputs&quot;</span>
              popper<span class="token operator">-</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;form-wrap-cascader&quot;</span>
              <span class="token operator">:</span>options<span class="token operator">=</span><span class="token string">&quot;item.optionList&quot;</span>
              <span class="token operator">:</span>style<span class="token operator">=</span><span class="token string">&quot;{ width: `${item.width || width || '100%'}` }&quot;</span>
              v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;item.attrs&quot;</span>
              @change<span class="token operator">=</span>&quot;
                <span class="token function">eventHandler</span><span class="token punctuation">(</span>$event<span class="token punctuation">,</span> <span class="token punctuation">{</span>
                  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'change'</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">events</span><span class="token operator">:</span> item<span class="token punctuation">.</span>listeners<span class="token punctuation">,</span>
                  item<span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
              &quot;
            <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>级联面板下拉选择器<span class="token operator">--</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>cascader<span class="token operator">-</span>panel
              v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.type == $const.FormCompType.cascaderPanel&quot;</span>
              v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;data[item.prop]&quot;</span>
              <span class="token operator">:</span>placeholder<span class="token operator">=</span><span class="token string">&quot;placeholderFormate(item)&quot;</span>
              <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;item-inputs&quot;</span>
              popper<span class="token operator">-</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;form-wrap-cascader&quot;</span>
              <span class="token operator">:</span>options<span class="token operator">=</span><span class="token string">&quot;item.optionList&quot;</span>
              <span class="token operator">:</span>style<span class="token operator">=</span><span class="token string">&quot;{ width: `${item.width || width || '100%'}` }&quot;</span>
              v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;item.attrs&quot;</span>
              @change<span class="token operator">=</span>&quot;
                <span class="token function">eventHandler</span><span class="token punctuation">(</span>$event<span class="token punctuation">,</span> <span class="token punctuation">{</span>
                  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'change'</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">events</span><span class="token operator">:</span> item<span class="token punctuation">.</span>listeners<span class="token punctuation">,</span>
                  item<span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
              &quot;
            <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>穿梭面板<span class="token operator">--</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>transfer
              v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.type == $const.FormCompType.transfer&quot;</span>
              v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;data[item.prop]&quot;</span>
              <span class="token operator">:</span>data<span class="token operator">=</span><span class="token string">&quot;item.data&quot;</span>
              v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;item.attrs&quot;</span>
              v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">&quot;item.listeners&quot;</span>
            <span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>template
                v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.type == $const.FormCompType.transfer &amp;&amp; item.slotContent&quot;</span>
              <span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>BasicComponent <span class="token operator">:</span>options<span class="token operator">=</span><span class="token string">&quot;item.slotContent&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>template
                v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.type == $const.FormCompType.transfer &amp;&amp; item.slotLeftFooter&quot;</span>
                slot<span class="token operator">=</span><span class="token string">&quot;left-footer&quot;</span>
              <span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>BasicComponent <span class="token operator">:</span>options<span class="token operator">=</span><span class="token string">&quot;item.slotLeftFooter&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>template
                v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.type == $const.FormCompType.transfer &amp;&amp; item.slotRightFooter&quot;</span>
                slot<span class="token operator">=</span><span class="token string">&quot;right-footer&quot;</span>
              <span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>BasicComponent <span class="token operator">:</span>options<span class="token operator">=</span><span class="token string">&quot;item.slotRightFooter&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>transfer<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>远程搜索选择器<span class="token operator">--</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>remote<span class="token operator">-</span>search<span class="token operator">-</span>selector
              v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.type == $const.FormCompType.remoteSearchSelector&quot;</span>
              <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;item-inputs&quot;</span>
              <span class="token operator">:</span>init<span class="token operator">-</span>value<span class="token operator">=</span><span class="token string">&quot;data[item.prop]&quot;</span>
              <span class="token operator">:</span>placeholder<span class="token operator">=</span><span class="token string">&quot;placeholderFormate(item)&quot;</span>
              v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;item.attrs&quot;</span>
              <span class="token operator">:</span>options<span class="token operator">=</span><span class="token string">&quot;item.optionList&quot;</span>
              <span class="token operator">:</span>show<span class="token operator">-</span>value<span class="token operator">=</span><span class="token string">&quot;item.showValue&quot;</span>
              <span class="token operator">:</span>remote<span class="token operator">-</span>methods<span class="token operator">=</span><span class="token string">&quot;item.remoteMethod&quot;</span>
              <span class="token operator">:</span>style<span class="token operator">=</span><span class="token string">&quot;{ width: `${item.width || width || '100%'}` }&quot;</span>
              v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">&quot;item.listeners&quot;</span>
              @valueChange<span class="token operator">=</span><span class="token string">&quot;remoteSearchValueChage($event, data, item)&quot;</span>
            <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>开关<span class="token operator">--</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span><span class="token keyword">switch</span>
              v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.type == $const.FormCompType.switch&quot;</span>
              v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;data[item.prop]&quot;</span>
              v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;item.attrs&quot;</span>
              v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">&quot;item.listeners&quot;</span>
              @change<span class="token operator">=</span>&quot;
                <span class="token function">eventHandler</span><span class="token punctuation">(</span>$event<span class="token punctuation">,</span> <span class="token punctuation">{</span>
                  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'change'</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">events</span><span class="token operator">:</span> item<span class="token punctuation">.</span>listeners<span class="token punctuation">,</span>
                  item<span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
              &quot;
            <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>下拉菜单<span class="token operator">--</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>dropdown
              v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.type == $const.FormCompType.dropdown&quot;</span>
              v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;item.attrs&quot;</span>
              v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">&quot;item.listeners&quot;</span>
            <span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>el<span class="token operator">-</span>button v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;item.dropdownButtonsAttrs&quot;</span><span class="token operator">&gt;</span>
                <span class="token punctuation">{</span><span class="token punctuation">{</span> item<span class="token punctuation">.</span>dropdownLabel <span class="token punctuation">}</span><span class="token punctuation">}</span>
                <span class="token operator">&lt;</span>i <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;el-icon-arrow-down el-icon--right&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>

              <span class="token operator">&lt;</span>el<span class="token operator">-</span>dropdown<span class="token operator">-</span>menu slot<span class="token operator">=</span><span class="token string">&quot;dropdown&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>el<span class="token operator">-</span>dropdown<span class="token operator">-</span>item
                  v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;dItem in item.dropdownItem&quot;</span>
                  <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;dItem.label&quot;</span>
                  v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;dItem.attrs&quot;</span>
                  v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">&quot;dItem.listeners&quot;</span>
                <span class="token operator">&gt;</span>
                  <span class="token punctuation">{</span><span class="token punctuation">{</span> dItem<span class="token punctuation">.</span>label <span class="token punctuation">}</span><span class="token punctuation">}</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>dropdown<span class="token operator">-</span>item<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>dropdown<span class="token operator">-</span>menu<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>dropdown<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>单选<span class="token operator">--</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>radio<span class="token operator">-</span>group
              v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.type == $const.FormCompType.radio&quot;</span>
              v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;data[item.prop]&quot;</span>
              v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;item.attrs&quot;</span>
              @change<span class="token operator">=</span>&quot;
                <span class="token function">eventHandler</span><span class="token punctuation">(</span>$event<span class="token punctuation">,</span> <span class="token punctuation">{</span>
                  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'change'</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">events</span><span class="token operator">:</span> item<span class="token punctuation">.</span>listeners<span class="token punctuation">,</span>
                  item<span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
              &quot;
            <span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>el<span class="token operator">-</span>radio
                v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;radio in item.optionList&quot;</span>
                <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;radio.label&quot;</span>
                <span class="token operator">:</span>label<span class="token operator">=</span><span class="token string">&quot;radio.value&quot;</span>
                <span class="token operator">:</span>disabled<span class="token operator">=</span><span class="token string">&quot;radio.disabled&quot;</span>
              <span class="token operator">&gt;</span>
                <span class="token punctuation">{</span><span class="token punctuation">{</span> radio<span class="token punctuation">.</span>label <span class="token punctuation">}</span><span class="token punctuation">}</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>radio<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>radio<span class="token operator">-</span>group<span class="token operator">&gt;</span>

            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>checkbox多选<span class="token operator">--</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>checkbox<span class="token operator">-</span>group
              v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.type == $const.FormCompType.checkbox&quot;</span>
              v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;data[item.prop]&quot;</span>
              v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;item.attrs&quot;</span>
              v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">&quot;item.listeners&quot;</span>
            <span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>el<span class="token operator">-</span>checkbox
                v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;option in item.optionList&quot;</span>
                <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;option.id&quot;</span>
                <span class="token operator">:</span>label<span class="token operator">=</span><span class="token string">&quot;option.label&quot;</span>
                <span class="token operator">:</span>value<span class="token operator">=</span><span class="token string">&quot;option.value&quot;</span>
                <span class="token operator">:</span>name<span class="token operator">=</span><span class="token string">&quot;item.name&quot;</span>
              <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>checkbox<span class="token operator">-</span>group<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>滑动条<span class="token operator">--</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>slider
              v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.type == $const.FormCompType.slider&quot;</span>
              v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;data[item.prop]&quot;</span>
              <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;item-inputs form-wrap-slider&quot;</span>
              v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;item.attrs&quot;</span>
              v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">&quot;item.listeners&quot;</span>
            <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>文件上传<span class="token operator">--</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>file<span class="token operator">-</span>upload
              v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.type == $const.FormCompType.files&quot;</span>
              <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;item-inputs&quot;</span>
              v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;item.attrs&quot;</span>
              v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">&quot;item.listeners&quot;</span>
            <span class="token operator">/</span><span class="token operator">&gt;</span>

            <span class="token operator">&lt;</span>div
              v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;item.type == $const.FormCompType.buttons&quot;</span>
              <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;form-buttons&quot;</span>
              <span class="token operator">:</span>style<span class="token operator">=</span>&quot;<span class="token punctuation">{</span>
                <span class="token string-property property">'justify-content'</span><span class="token operator">:</span> buttonsAlign<span class="token punctuation">[</span>item<span class="token punctuation">.</span>align<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token string">'flex-start'</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span>&quot;
            <span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>el<span class="token operator">-</span>button
                v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;but in item.buttons&quot;</span>
                <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;but.label&quot;</span>
                <span class="token operator">:</span>type<span class="token operator">=</span><span class="token string">&quot;but.type&quot;</span>
                v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;but.attrs&quot;</span>
                @click<span class="token operator">=</span><span class="token string">&quot;submitValidate(but.validate, but.reset, but.event, data)&quot;</span>
              <span class="token operator">&gt;</span>
                <span class="token punctuation">{</span><span class="token punctuation">{</span> but<span class="token punctuation">.</span>label <span class="token punctuation">}</span><span class="token punctuation">}</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>col<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>row<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> BasicComponent <span class="token keyword">from</span> <span class="token string">&quot;@/components/BasicComponent&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> FileUpload <span class="token keyword">from</span> <span class="token string">&quot;@/components/fileUpload/index.vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> RemoteSearchSelector <span class="token keyword">from</span> <span class="token string">&quot;@/components/RemoteSearchSelector&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Tinymce <span class="token keyword">from</span> <span class="token string">&quot;@/components/Tinymce&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> DatePickerWrap <span class="token keyword">from</span> <span class="token string">&quot;@/components/DatePickerWrap&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> SelectorWrap <span class="token keyword">from</span> <span class="token string">&quot;@/components/SelectorWrap&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> placeholderFormate<span class="token punctuation">,</span> eventHandler <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/components/FormWrap/config.js&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;FormWrap&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    BasicComponent<span class="token punctuation">,</span>
    FileUpload<span class="token punctuation">,</span>
    RemoteSearchSelector<span class="token punctuation">,</span>
    Tinymce<span class="token punctuation">,</span>
    DatePickerWrap<span class="token punctuation">,</span>
    SelectorWrap<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">model</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">prop</span><span class="token operator">:</span> <span class="token string">&quot;data&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">event</span><span class="token operator">:</span> <span class="token string">&quot;change&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">isForm</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">labelWidth</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">&quot;100px&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">items</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Array<span class="token punctuation">,</span>
      <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">prop</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">itemType</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">&quot;label名&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">tips</span><span class="token operator">:</span> <span class="token string">&quot;提示输入内容&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">optionList</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Object<span class="token punctuation">,</span>
      <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">formRef</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">&quot;dialogform&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">buttonsAlign</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token string">&quot;flex-start&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">right</span><span class="token operator">:</span> <span class="token string">&quot;flex-end&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token string">&quot;center&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 文本提示语格式化</span>
    placeholderFormate<span class="token punctuation">,</span>
    <span class="token comment">// 事件统一处理函数</span>
    eventHandler<span class="token punctuation">,</span>
    <span class="token comment">// 必填项数据格式化</span>
    <span class="token function">isRequire</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>item<span class="token punctuation">.</span>rules<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>rules<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;[object Array]&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> item<span class="token punctuation">.</span>rules<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>required<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>rules<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;[object Object]&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> item<span class="token punctuation">.</span>rules<span class="token punctuation">.</span>required<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">// 提交验证</span>
    <span class="token function">submitValidate</span><span class="token punctuation">(</span><span class="token parameter">validate<span class="token punctuation">,</span> reset<span class="token punctuation">,</span> fn<span class="token punctuation">,</span> params</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 表单提交按钮事件</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>validate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// validate为 true 表示需要验证的表单</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>formRef<span class="token punctuation">]</span><span class="token punctuation">.</span>$el<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>formRef<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">valid</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>valid<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">fn</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>
            reset <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">resetForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// reset 为 true 表示需要重置的表单</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;error submit!!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">fn</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 表单重置</span>
    <span class="token function">resetForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>formRef<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">resetFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">&quot;update:data&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 远程搜索内容值修改</span>
    <span class="token function">remoteSearchValueChage</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> data<span class="token punctuation">,</span> item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      data<span class="token punctuation">[</span>item<span class="token punctuation">.</span>prop<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">&quot;valueChange&quot;</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">&quot;scss&quot;</span> scoped<span class="token operator">&gt;</span>
<span class="token punctuation">.</span>form<span class="token operator">-</span>container <span class="token punctuation">{</span>
  <span class="token operator">&amp;</span><span class="token operator">:</span><span class="token operator">:</span>v<span class="token operator">-</span>deep <span class="token punctuation">.</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item__label <span class="token punctuation">{</span>
    text<span class="token operator">-</span>align<span class="token operator">:</span> right<span class="token punctuation">;</span>
    background<span class="token operator">-</span>color<span class="token operator">:</span> #f3f3f3<span class="token punctuation">;</span>
    <span class="token literal-property property">padding</span><span class="token operator">:</span> <span class="token number">0</span> 10px <span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">;</span>
    margin<span class="token operator">-</span>right<span class="token operator">:</span> 10px<span class="token punctuation">;</span>
    <span class="token operator">&amp;</span><span class="token operator">:</span><span class="token operator">:</span>before <span class="token punctuation">{</span>
      <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span> <span class="token operator">!</span>important<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token operator">&amp;</span><span class="token operator">:</span><span class="token operator">:</span>v<span class="token operator">-</span>deep <span class="token punctuation">.</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item <span class="token punctuation">{</span>
    margin<span class="token operator">-</span>bottom<span class="token operator">:</span> 20px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token operator">&amp;</span><span class="token operator">:</span><span class="token operator">:</span>v<span class="token operator">-</span>deep <span class="token punctuation">.</span>el<span class="token operator">-</span>upload<span class="token operator">-</span>dragger <span class="token punctuation">{</span>
    <span class="token literal-property property">width</span><span class="token operator">:</span> fit<span class="token operator">-</span>content<span class="token punctuation">;</span>
    <span class="token literal-property property">height</span><span class="token operator">:</span> fit<span class="token operator">-</span>content<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token operator">&amp;</span><span class="token operator">:</span><span class="token operator">:</span>v<span class="token operator">-</span>deep <span class="token punctuation">.</span>el<span class="token operator">-</span>upload__tip <span class="token punctuation">{</span>
    <span class="token literal-property property">margin</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> 10px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token operator">&amp;</span><span class="token operator">:</span><span class="token operator">:</span>v<span class="token operator">-</span>deep <span class="token punctuation">.</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item__error <span class="token punctuation">{</span>
    <span class="token literal-property property">right</span><span class="token operator">:</span> 0px<span class="token punctuation">;</span>
    <span class="token literal-property property">left</span><span class="token operator">:</span> auto<span class="token punctuation">;</span>
    <span class="token literal-property property">bottom</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
    z<span class="token operator">-</span>index<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">;</span>
    margin<span class="token operator">-</span>top<span class="token operator">:</span> <span class="token operator">-</span>4px <span class="token operator">!</span>important<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">.</span>item<span class="token operator">-</span>inputs <span class="token punctuation">{</span>
    <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token operator">%</span> <span class="token operator">-</span> 10px<span class="token punctuation">)</span> <span class="token operator">!</span>important<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">.</span>form<span class="token operator">-</span>wrap<span class="token operator">-</span>slider<span class="token punctuation">,</span>
  <span class="token punctuation">.</span>form<span class="token operator">-</span>wrap<span class="token operator">-</span>richtext <span class="token punctuation">{</span>
    margin<span class="token operator">-</span>left<span class="token operator">:</span> 15px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>form<span class="token operator">-</span>label<span class="token operator">-</span>container <span class="token punctuation">{</span>
  <span class="token operator">&amp;</span><span class="token operator">:</span><span class="token operator">:</span>v<span class="token operator">-</span>deep <span class="token punctuation">.</span>el<span class="token operator">-</span>form<span class="token operator">--</span>label<span class="token operator">-</span>left <span class="token punctuation">.</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item__label <span class="token punctuation">{</span>
    text<span class="token operator">-</span>align<span class="token operator">:</span> right<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token operator">&amp;</span><span class="token operator">:</span><span class="token operator">:</span>v<span class="token operator">-</span>deep label <span class="token punctuation">{</span>
    font<span class="token operator">-</span>weight<span class="token operator">:</span> normal<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>form<span class="token operator">-</span>buttons <span class="token punctuation">{</span>
  <span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
  justify<span class="token operator">-</span>content<span class="token operator">:</span> flex<span class="token operator">-</span>start<span class="token punctuation">;</span>
  <span class="token literal-property property">padding</span><span class="token operator">:</span> 4px <span class="token number">0</span> 2px 10px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>form<span class="token operator">-</span>item<span class="token operator">-</span>required <span class="token punctuation">{</span>
  <span class="token operator">&amp;</span><span class="token operator">:</span><span class="token operator">:</span>v<span class="token operator">-</span>deep <span class="token punctuation">.</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item__label <span class="token punctuation">{</span>
    <span class="token operator">&amp;</span><span class="token operator">:</span><span class="token operator">:</span>before <span class="token punctuation">{</span>
      <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span> <span class="token operator">!</span>important<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token operator">&amp;</span><span class="token operator">:</span><span class="token operator">:</span>after <span class="token punctuation">{</span>
      <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">;</span>
      <span class="token literal-property property">color</span><span class="token operator">:</span> #f56c6c<span class="token punctuation">;</span>
      padding<span class="token operator">-</span>left<span class="token operator">:</span> 4px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>hidden<span class="token operator">-</span>tips <span class="token punctuation">{</span>
  <span class="token operator">&amp;</span><span class="token operator">:</span><span class="token operator">:</span>v<span class="token operator">-</span>deep <span class="token punctuation">.</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item__error <span class="token punctuation">{</span>
    <span class="token literal-property property">display</span><span class="token operator">:</span> none <span class="token operator">!</span>important<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br><span class="line-number">216</span><br><span class="line-number">217</span><br><span class="line-number">218</span><br><span class="line-number">219</span><br><span class="line-number">220</span><br><span class="line-number">221</span><br><span class="line-number">222</span><br><span class="line-number">223</span><br><span class="line-number">224</span><br><span class="line-number">225</span><br><span class="line-number">226</span><br><span class="line-number">227</span><br><span class="line-number">228</span><br><span class="line-number">229</span><br><span class="line-number">230</span><br><span class="line-number">231</span><br><span class="line-number">232</span><br><span class="line-number">233</span><br><span class="line-number">234</span><br><span class="line-number">235</span><br><span class="line-number">236</span><br><span class="line-number">237</span><br><span class="line-number">238</span><br><span class="line-number">239</span><br><span class="line-number">240</span><br><span class="line-number">241</span><br><span class="line-number">242</span><br><span class="line-number">243</span><br><span class="line-number">244</span><br><span class="line-number">245</span><br><span class="line-number">246</span><br><span class="line-number">247</span><br><span class="line-number">248</span><br><span class="line-number">249</span><br><span class="line-number">250</span><br><span class="line-number">251</span><br><span class="line-number">252</span><br><span class="line-number">253</span><br><span class="line-number">254</span><br><span class="line-number">255</span><br><span class="line-number">256</span><br><span class="line-number">257</span><br><span class="line-number">258</span><br><span class="line-number">259</span><br><span class="line-number">260</span><br><span class="line-number">261</span><br><span class="line-number">262</span><br><span class="line-number">263</span><br><span class="line-number">264</span><br><span class="line-number">265</span><br><span class="line-number">266</span><br><span class="line-number">267</span><br><span class="line-number">268</span><br><span class="line-number">269</span><br><span class="line-number">270</span><br><span class="line-number">271</span><br><span class="line-number">272</span><br><span class="line-number">273</span><br><span class="line-number">274</span><br><span class="line-number">275</span><br><span class="line-number">276</span><br><span class="line-number">277</span><br><span class="line-number">278</span><br><span class="line-number">279</span><br><span class="line-number">280</span><br><span class="line-number">281</span><br><span class="line-number">282</span><br><span class="line-number">283</span><br><span class="line-number">284</span><br><span class="line-number">285</span><br><span class="line-number">286</span><br><span class="line-number">287</span><br><span class="line-number">288</span><br><span class="line-number">289</span><br><span class="line-number">290</span><br><span class="line-number">291</span><br><span class="line-number">292</span><br><span class="line-number">293</span><br><span class="line-number">294</span><br><span class="line-number">295</span><br><span class="line-number">296</span><br><span class="line-number">297</span><br><span class="line-number">298</span><br><span class="line-number">299</span><br><span class="line-number">300</span><br><span class="line-number">301</span><br><span class="line-number">302</span><br><span class="line-number">303</span><br><span class="line-number">304</span><br><span class="line-number">305</span><br><span class="line-number">306</span><br><span class="line-number">307</span><br><span class="line-number">308</span><br><span class="line-number">309</span><br><span class="line-number">310</span><br><span class="line-number">311</span><br><span class="line-number">312</span><br><span class="line-number">313</span><br><span class="line-number">314</span><br><span class="line-number">315</span><br><span class="line-number">316</span><br><span class="line-number">317</span><br><span class="line-number">318</span><br><span class="line-number">319</span><br><span class="line-number">320</span><br><span class="line-number">321</span><br><span class="line-number">322</span><br><span class="line-number">323</span><br><span class="line-number">324</span><br><span class="line-number">325</span><br><span class="line-number">326</span><br><span class="line-number">327</span><br><span class="line-number">328</span><br><span class="line-number">329</span><br><span class="line-number">330</span><br><span class="line-number">331</span><br><span class="line-number">332</span><br><span class="line-number">333</span><br><span class="line-number">334</span><br><span class="line-number">335</span><br><span class="line-number">336</span><br><span class="line-number">337</span><br><span class="line-number">338</span><br><span class="line-number">339</span><br><span class="line-number">340</span><br><span class="line-number">341</span><br><span class="line-number">342</span><br><span class="line-number">343</span><br><span class="line-number">344</span><br><span class="line-number">345</span><br><span class="line-number">346</span><br><span class="line-number">347</span><br><span class="line-number">348</span><br><span class="line-number">349</span><br><span class="line-number">350</span><br><span class="line-number">351</span><br><span class="line-number">352</span><br><span class="line-number">353</span><br><span class="line-number">354</span><br><span class="line-number">355</span><br><span class="line-number">356</span><br><span class="line-number">357</span><br><span class="line-number">358</span><br><span class="line-number">359</span><br><span class="line-number">360</span><br><span class="line-number">361</span><br><span class="line-number">362</span><br><span class="line-number">363</span><br><span class="line-number">364</span><br><span class="line-number">365</span><br><span class="line-number">366</span><br><span class="line-number">367</span><br><span class="line-number">368</span><br><span class="line-number">369</span><br><span class="line-number">370</span><br><span class="line-number">371</span><br><span class="line-number">372</span><br><span class="line-number">373</span><br><span class="line-number">374</span><br><span class="line-number">375</span><br><span class="line-number">376</span><br><span class="line-number">377</span><br><span class="line-number">378</span><br><span class="line-number">379</span><br><span class="line-number">380</span><br><span class="line-number">381</span><br><span class="line-number">382</span><br><span class="line-number">383</span><br><span class="line-number">384</span><br><span class="line-number">385</span><br><span class="line-number">386</span><br><span class="line-number">387</span><br><span class="line-number">388</span><br><span class="line-number">389</span><br><span class="line-number">390</span><br><span class="line-number">391</span><br><span class="line-number">392</span><br><span class="line-number">393</span><br><span class="line-number">394</span><br><span class="line-number">395</span><br><span class="line-number">396</span><br><span class="line-number">397</span><br><span class="line-number">398</span><br><span class="line-number">399</span><br><span class="line-number">400</span><br><span class="line-number">401</span><br><span class="line-number">402</span><br><span class="line-number">403</span><br><span class="line-number">404</span><br><span class="line-number">405</span><br><span class="line-number">406</span><br><span class="line-number">407</span><br><span class="line-number">408</span><br><span class="line-number">409</span><br><span class="line-number">410</span><br><span class="line-number">411</span><br><span class="line-number">412</span><br><span class="line-number">413</span><br><span class="line-number">414</span><br><span class="line-number">415</span><br><span class="line-number">416</span><br><span class="line-number">417</span><br><span class="line-number">418</span><br><span class="line-number">419</span><br><span class="line-number">420</span><br><span class="line-number">421</span><br><span class="line-number">422</span><br><span class="line-number">423</span><br><span class="line-number">424</span><br><span class="line-number">425</span><br><span class="line-number">426</span><br><span class="line-number">427</span><br><span class="line-number">428</span><br><span class="line-number">429</span><br><span class="line-number">430</span><br><span class="line-number">431</span><br><span class="line-number">432</span><br><span class="line-number">433</span><br><span class="line-number">434</span><br><span class="line-number">435</span><br><span class="line-number">436</span><br><span class="line-number">437</span><br><span class="line-number">438</span><br><span class="line-number">439</span><br><span class="line-number">440</span><br><span class="line-number">441</span><br><span class="line-number">442</span><br><span class="line-number">443</span><br><span class="line-number">444</span><br><span class="line-number">445</span><br><span class="line-number">446</span><br><span class="line-number">447</span><br><span class="line-number">448</span><br><span class="line-number">449</span><br><span class="line-number">450</span><br><span class="line-number">451</span><br><span class="line-number">452</span><br><span class="line-number">453</span><br><span class="line-number">454</span><br><span class="line-number">455</span><br><span class="line-number">456</span><br><span class="line-number">457</span><br><span class="line-number">458</span><br><span class="line-number">459</span><br><span class="line-number">460</span><br><span class="line-number">461</span><br><span class="line-number">462</span><br><span class="line-number">463</span><br><span class="line-number">464</span><br><span class="line-number">465</span><br><span class="line-number">466</span><br><span class="line-number">467</span><br><span class="line-number">468</span><br><span class="line-number">469</span><br><span class="line-number">470</span><br><span class="line-number">471</span><br><span class="line-number">472</span><br><span class="line-number">473</span><br><span class="line-number">474</span><br><span class="line-number">475</span><br><span class="line-number">476</span><br><span class="line-number">477</span><br><span class="line-number">478</span><br><span class="line-number">479</span><br><span class="line-number">480</span><br><span class="line-number">481</span><br><span class="line-number">482</span><br><span class="line-number">483</span><br><span class="line-number">484</span><br><span class="line-number">485</span><br><span class="line-number">486</span><br><span class="line-number">487</span><br><span class="line-number">488</span><br><span class="line-number">489</span><br><span class="line-number">490</span><br><span class="line-number">491</span><br><span class="line-number">492</span><br><span class="line-number">493</span><br><span class="line-number">494</span><br><span class="line-number">495</span><br><span class="line-number">496</span><br><span class="line-number">497</span><br><span class="line-number">498</span><br><span class="line-number">499</span><br><span class="line-number">500</span><br><span class="line-number">501</span><br><span class="line-number">502</span><br><span class="line-number">503</span><br><span class="line-number">504</span><br><span class="line-number">505</span><br><span class="line-number">506</span><br><span class="line-number">507</span><br><span class="line-number">508</span><br><span class="line-number">509</span><br><span class="line-number">510</span><br><span class="line-number">511</span><br><span class="line-number">512</span><br><span class="line-number">513</span><br><span class="line-number">514</span><br><span class="line-number">515</span><br><span class="line-number">516</span><br><span class="line-number">517</span><br><span class="line-number">518</span><br><span class="line-number">519</span><br><span class="line-number">520</span><br><span class="line-number">521</span><br><span class="line-number">522</span><br><span class="line-number">523</span><br><span class="line-number">524</span><br><span class="line-number">525</span><br><span class="line-number">526</span><br><span class="line-number">527</span><br><span class="line-number">528</span><br><span class="line-number">529</span><br><span class="line-number">530</span><br><span class="line-number">531</span><br><span class="line-number">532</span><br><span class="line-number">533</span><br><span class="line-number">534</span><br><span class="line-number">535</span><br><span class="line-number">536</span><br><span class="line-number">537</span><br></div></div><p>该组件所有支持的操作组件配置：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">const</span> FormCompType <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">slot</span><span class="token operator">:</span> <span class="token string">'slot'</span><span class="token punctuation">,</span> <span class="token comment">// 插槽</span>
  <span class="token literal-property property">input</span><span class="token operator">:</span> <span class="token string">'input'</span><span class="token punctuation">,</span><span class="token comment">//输入框</span>
  <span class="token literal-property property">number</span><span class="token operator">:</span> <span class="token string">'number'</span><span class="token punctuation">,</span><span class="token comment">//数字输入框</span>
  <span class="token literal-property property">textarea</span><span class="token operator">:</span> <span class="token string">'textarea'</span><span class="token punctuation">,</span><span class="token comment">//多行输入框</span>
  <span class="token literal-property property">editor</span><span class="token operator">:</span> <span class="token string">'editor'</span><span class="token punctuation">,</span> <span class="token comment">// 富文本编辑器</span>
  <span class="token literal-property property">datePicker</span><span class="token operator">:</span> <span class="token string">'date-picker'</span><span class="token punctuation">,</span><span class="token comment">//日期选择器</span>
  <span class="token literal-property property">datePickerColor</span><span class="token operator">:</span> <span class="token string">'date-picker-color'</span><span class="token punctuation">,</span><span class="token comment">//自定义日期选择器-带颜色</span>
  <span class="token literal-property property">daterange</span><span class="token operator">:</span> <span class="token string">'daterange'</span><span class="token punctuation">,</span><span class="token comment">//日期范围选择器</span>
  <span class="token literal-property property">timePicker</span><span class="token operator">:</span> <span class="token string">'time-picker'</span><span class="token punctuation">,</span><span class="token comment">//时间选择器</span>
  <span class="token literal-property property">select</span><span class="token operator">:</span> <span class="token string">'select'</span><span class="token punctuation">,</span><span class="token comment">//下拉选择器</span>
  <span class="token literal-property property">cascader</span><span class="token operator">:</span> <span class="token string">'cascader'</span><span class="token punctuation">,</span><span class="token comment">//级联选择器</span>
  <span class="token literal-property property">cascaderPanel</span><span class="token operator">:</span> <span class="token string">'cascader-panel'</span><span class="token punctuation">,</span><span class="token comment">//级联面板</span>
  <span class="token literal-property property">transfer</span><span class="token operator">:</span> <span class="token string">'transfer'</span><span class="token punctuation">,</span><span class="token comment">// 穿梭框</span>
  <span class="token literal-property property">remoteSearchSelector</span><span class="token operator">:</span> <span class="token string">'remote-search-selector'</span><span class="token punctuation">,</span><span class="token comment">//自定义远程搜索组件</span>
  <span class="token keyword">switch</span><span class="token operator">:</span> <span class="token string">'switch'</span><span class="token punctuation">,</span><span class="token comment">//开关</span>
  <span class="token literal-property property">dropdown</span><span class="token operator">:</span> <span class="token string">'dropdown'</span><span class="token punctuation">,</span><span class="token comment">//下拉</span>
  <span class="token literal-property property">radio</span><span class="token operator">:</span> <span class="token string">'radio'</span><span class="token punctuation">,</span><span class="token comment">//单选</span>
  <span class="token literal-property property">checkbox</span><span class="token operator">:</span> <span class="token string">'checkbox'</span><span class="token punctuation">,</span><span class="token comment">//多选</span>
  <span class="token literal-property property">slider</span><span class="token operator">:</span> <span class="token string">'slider'</span><span class="token punctuation">,</span><span class="token comment">//滑动条</span>
  <span class="token literal-property property">files</span><span class="token operator">:</span> <span class="token string">'files'</span><span class="token punctuation">,</span> <span class="token comment">// 文件上传</span>
  <span class="token literal-property property">alert</span><span class="token operator">:</span> <span class="token string">'alert'</span><span class="token punctuation">,</span> <span class="token comment">// 警告</span>
  <span class="token literal-property property">divider</span><span class="token operator">:</span> <span class="token string">'divider'</span><span class="token punctuation">,</span> <span class="token comment">// 分割线</span>
  <span class="token literal-property property">buttons</span><span class="token operator">:</span> <span class="token string">'buttons'</span> <span class="token comment">// 按钮组</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h5 id="组件-props-配置"><a href="#组件-props-配置" class="header-anchor">#</a> <strong>组件 props 配置</strong></h5> <blockquote><ul><li><p><code>items</code>: form 组件配置对象，通过 items 属性动态渲染 form 表单内组件；</p> <ul><li><p>类型： 二维数组</p></li> <li><p>示例：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">prop</span><span class="token operator">:</span> <span class="token string">'属性key'</span><span class="token punctuation">,</span> <span class="token comment">//传递给后端的属性值，对应后端传入数据的字段值</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'select'</span><span class="token punctuation">,</span> <span class="token comment">// 组件类型</span>
          <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'组件label'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">tips</span><span class="token operator">:</span> <span class="token string">'组件 placeholder'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">optionList</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 下拉选择器下拉选项</span>
          <span class="token literal-property property">labelWidth</span><span class="token operator">:</span> <span class="token string">'60px'</span><span class="token punctuation">,</span> <span class="token comment">// label 宽度</span>
          <span class="token literal-property property">span</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token comment">// 组件占据一行的比例，一共 24，使用 elements layout  &lt;el-col/&gt;</span>
          <span class="token literal-property property">filterable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// filterable 属性</span>
          <span class="token literal-property property">attrs</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// elements 属性，使用属性透传传入</span>
            <span class="token literal-property property">clearable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token string">'mini'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">multiple</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token string-property property">'collapse-tags'</span><span class="token operator">:</span> <span class="token boolean">true</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><blockquote><p>form 表单组件配置 JSON 是一个二维数据，二维数组第二维表示一行</p></blockquote></li></ul></li> <li><p><code>data</code>: 表单数据，通过传入 data，将后端数据绑定到 form 表单；</p> <ul><li><p>类型：对象</p></li> <li><p>结构示例：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{
	key: value // key 对象 item 配置对象中的 prop 属性，value 对应后端返回的值
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul></li></ul></blockquote> <h5 id="组件使用示例"><a href="#组件使用示例" class="header-anchor">#</a> <strong>组件使用示例</strong></h5> <p>通过使用以上 Form 组件，开个一个高级搜索组件，该高级搜索组件视图如下：</p> <p><img src="/myblog/assets/img/Form组件封装.f53b1922.png" alt="image-20231216201504327"></p> <p>该组件可以分为两个部分：</p> <ul><li>上半部分为表单组件，该表单组件包括下拉，输入框等，并且根据业务模块不同动态变化；</li> <li>下班部分为公共相同部分：筛选，搜索和其他操作按钮；</li></ul> <p>该组件的 Form 表单可以进行动态配置，其他部分可以封装成固定逻辑和视图：</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 高级搜索 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>advaced-search-container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- Form 视图组件 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form-wrap</span>
      <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>showAdvanceSearch<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">form-ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>AdvancedSearch<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>advaced-search-buttons animate__animated<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{
        animate__fadeIn: showAdvanceSearch,
      }<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:items</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>advanceSearchItems<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>listQuery<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:is-form</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">@change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>formChange<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!-- 搜索 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>search-container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>prepend-buttons<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span>
        <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>search<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">clearable</span>
        <span class="token attr-name">autocomplete</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>on<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>search-button<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>请输入搜索内容<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">suffix-icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>el-icon-search<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mini<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">debounce</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>inputChange<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">@keyup.enter.native</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fuzzySearch<span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button-group</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 刷新按钮 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span>
          <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mini<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>el-icon-refresh<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$emit('refresh', search)<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!--按钮：高级搜索--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span>
          <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mini<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>showAdvanceSearch ? 'el-icon-zoom-out' : 'el-icon-zoom-in'<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>showAdvanceSearch = !showAdvanceSearch<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!--按钮：列表--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-dropdown</span>
          <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>columns &amp;&amp; columns.length&gt;0<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">trigger</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>click<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:hide-on-click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>advance-search<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mini<span class="token punctuation">&quot;</span></span> <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>el-icon-menu<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-dropdown-menu</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dropdown<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-checkbox-group</span>
              <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkColumnList<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">@change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>columnsChange<span class="token punctuation">&quot;</span></span>
            <span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-dropdown-item</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>col in columns<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>col.prop<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-checkbox</span> <span class="token attr-name">:label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>col.prop<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:checked</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>col.checked<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{
                  col.label
                }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-checkbox</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-dropdown-item</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-checkbox-group</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-dropdown-menu</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-dropdown</span><span class="token punctuation">&gt;</span></span>

      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button-group</span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- 按钮组后置插槽 --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>append-buttons<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 新增 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> FormWrap <span class="token keyword">from</span> <span class="token string">'@/components/FormWrap'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getMovement <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/api/npi'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'AdvancedSearch'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    FormWrap
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">listQuery</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Object<span class="token punctuation">,</span>
      <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">productType</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Object<span class="token punctuation">,</span>
      <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">columns</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// 表头数据</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Array<span class="token punctuation">,</span>
      <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">checkList</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">search</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
      <span class="token literal-property property">showAdvanceSearch</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">checkColumnList</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">addPredev</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">optionList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>odf<span class="token punctuation">.</span>indexSearchOption
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">majorList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> majorList <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>optionList<span class="token punctuation">.</span>major<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      majorList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
        <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'跨专业'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'跨专业'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">9</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span> majorList
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//  表单配置项</span>
    <span class="token function">advanceSearchItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">prop</span><span class="token operator">:</span> <span class="token string">'order_nature'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'select'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$t</span><span class="token punctuation">(</span><span class="token string">'odfSearch.professionType'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token literal-property property">tips</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$t</span><span class="token punctuation">(</span><span class="token string">'odf.orderNature'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token literal-property property">optionList</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>optionList<span class="token punctuation">.</span>order_nature<span class="token punctuation">,</span>
          <span class="token literal-property property">filterable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>

          <span class="token literal-property property">labelWidth</span><span class="token operator">:</span> <span class="token string">'80px'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">attrs</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">clearable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token string">'mini'</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">prop</span><span class="token operator">:</span> <span class="token string">'product_type'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'select'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$t</span><span class="token punctuation">(</span><span class="token string">'odfSearch.productType'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token literal-property property">tips</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$t</span><span class="token punctuation">(</span><span class="token string">'odf.productType'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token literal-property property">optionList</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>optionList<span class="token punctuation">.</span>product_type<span class="token punctuation">,</span>
          <span class="token literal-property property">filterable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token literal-property property">labelWidth</span><span class="token operator">:</span> <span class="token string">'80px'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">attrs</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">clearable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token string">'mini'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">multiple</span><span class="token operator">:</span> <span class="token boolean">true</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">prop</span><span class="token operator">:</span> <span class="token string">'movement'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'remote-search-selector'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$t</span><span class="token punctuation">(</span><span class="token string">'odfSearch.movement'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token literal-property property">tips</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$t</span><span class="token punctuation">(</span><span class="token string">'odf.movement'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

          <span class="token literal-property property">remoteMethod</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>getMovement<span class="token punctuation">,</span>
          <span class="token literal-property property">labelWidth</span><span class="token operator">:</span> <span class="token string">'60px'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">attrs</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">clearable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token string">'mini'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">formates</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">labelKey</span><span class="token operator">:</span> <span class="token string">'name'</span><span class="token punctuation">,</span>
              <span class="token literal-property property">valueKey</span><span class="token operator">:</span> <span class="token string">'id'</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">prop</span><span class="token operator">:</span> <span class="token string">'status'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'select'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$t</span><span class="token punctuation">(</span><span class="token string">'odfSearch.status'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token literal-property property">tips</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$t</span><span class="token punctuation">(</span><span class="token string">'odf.status'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

          <span class="token literal-property property">optionList</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>optionList<span class="token punctuation">.</span>status<span class="token punctuation">,</span>
          <span class="token literal-property property">filterable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token literal-property property">labelWidth</span><span class="token operator">:</span> <span class="token string">'50px'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">attrs</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">clearable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token string">'mini'</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">prop</span><span class="token operator">:</span> <span class="token string">'sw_status'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'select'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$t</span><span class="token punctuation">(</span><span class="token string">'odf.swStatus'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token literal-property property">tips</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$t</span><span class="token punctuation">(</span><span class="token string">'odf.swStatus'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

          <span class="token literal-property property">optionList</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>optionList<span class="token punctuation">.</span>sw_status<span class="token punctuation">,</span>
          <span class="token literal-property property">labelWidth</span><span class="token operator">:</span> <span class="token string">'70px'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">filterable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token literal-property property">attrs</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">clearable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token string">'mini'</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">prop</span><span class="token operator">:</span> <span class="token string">'prototype_time'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'daterange'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$t</span><span class="token punctuation">(</span><span class="token string">'odfSearch.prototypeTime'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token literal-property property">tips</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$t</span><span class="token punctuation">(</span><span class="token string">'odf.prototypeTime'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token literal-property property">labelWidth</span><span class="token operator">:</span> <span class="token string">'80px'</span><span class="token punctuation">,</span>

          <span class="token literal-property property">attrs</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">startPlaceholder</span><span class="token operator">:</span> <span class="token string">'开始日期'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">endPlaceholder</span><span class="token operator">:</span> <span class="token string">'结束日期'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">valueFormat</span><span class="token operator">:</span> <span class="token string">'yyyy-MM-dd'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token string">'mini'</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'buttons'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">align</span><span class="token operator">:</span> <span class="token string">'left'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">labelWidth</span><span class="token operator">:</span> <span class="token string">'0px'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">span</span><span class="token operator">:</span> <span class="token number">24</span><span class="token punctuation">,</span>
          <span class="token literal-property property">buttons</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
              <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$t</span><span class="token punctuation">(</span><span class="token string">'systemCommon.filter'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'primary'</span><span class="token punctuation">,</span>
              <span class="token function-variable function">event</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'search'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token literal-property property">attrs</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token string">'mini'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">'el-icon-search'</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$t</span><span class="token punctuation">(</span><span class="token string">'systemCommon.resetButon'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token function-variable function">event</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'reset'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token literal-property property">reset</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
              <span class="token literal-property property">attrs</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token string">'mini'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">'el-icon-delete'</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'odf/GetIndexSearchOption'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    getMovement<span class="token punctuation">,</span>

    <span class="token function">columnsChange</span><span class="token punctuation">(</span><span class="token parameter">col</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> showColumn <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>columns<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">colItem</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>col<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>colItem<span class="token punctuation">.</span>prop<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          showColumn<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>colItem<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'columnsChange'</span><span class="token punctuation">,</span> showColumn<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">fuzzySearch</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'fuzzySearch'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">keyword</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>search <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">inputChange</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>search <span class="token operator">=</span> value <span class="token operator">&amp;&amp;</span> value<span class="token punctuation">.</span>trim <span class="token operator">&amp;&amp;</span> value<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">fuzzySearch</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">formChange</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> <span class="token punctuation">{</span> item<span class="token punctuation">,</span> params <span class="token punctuation">}</span> <span class="token operator">=</span> value
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'formChange'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">label</span><span class="token operator">:</span> item<span class="token punctuation">.</span>label<span class="token punctuation">,</span>
        <span class="token literal-property property">prop</span><span class="token operator">:</span> item<span class="token punctuation">.</span>prop<span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> params<span class="token punctuation">,</span>
        <span class="token literal-property property">data</span><span class="token operator">:</span> value
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scss<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token atrule"><span class="token rule">@import</span> <span class="token string">&quot;~@/styles/common/advance-search.scss&quot;</span><span class="token punctuation">;</span></span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br><span class="line-number">216</span><br><span class="line-number">217</span><br><span class="line-number">218</span><br><span class="line-number">219</span><br><span class="line-number">220</span><br><span class="line-number">221</span><br><span class="line-number">222</span><br><span class="line-number">223</span><br><span class="line-number">224</span><br><span class="line-number">225</span><br><span class="line-number">226</span><br><span class="line-number">227</span><br><span class="line-number">228</span><br><span class="line-number">229</span><br><span class="line-number">230</span><br><span class="line-number">231</span><br><span class="line-number">232</span><br><span class="line-number">233</span><br><span class="line-number">234</span><br><span class="line-number">235</span><br><span class="line-number">236</span><br><span class="line-number">237</span><br><span class="line-number">238</span><br><span class="line-number">239</span><br><span class="line-number">240</span><br><span class="line-number">241</span><br><span class="line-number">242</span><br><span class="line-number">243</span><br><span class="line-number">244</span><br><span class="line-number">245</span><br><span class="line-number">246</span><br><span class="line-number">247</span><br><span class="line-number">248</span><br><span class="line-number">249</span><br><span class="line-number">250</span><br><span class="line-number">251</span><br><span class="line-number">252</span><br><span class="line-number">253</span><br><span class="line-number">254</span><br><span class="line-number">255</span><br><span class="line-number">256</span><br><span class="line-number">257</span><br><span class="line-number">258</span><br><span class="line-number">259</span><br><span class="line-number">260</span><br><span class="line-number">261</span><br><span class="line-number">262</span><br><span class="line-number">263</span><br><span class="line-number">264</span><br><span class="line-number">265</span><br><span class="line-number">266</span><br><span class="line-number">267</span><br><span class="line-number">268</span><br><span class="line-number">269</span><br><span class="line-number">270</span><br><span class="line-number">271</span><br><span class="line-number">272</span><br><span class="line-number">273</span><br><span class="line-number">274</span><br><span class="line-number">275</span><br><span class="line-number">276</span><br><span class="line-number">277</span><br><span class="line-number">278</span><br><span class="line-number">279</span><br><span class="line-number">280</span><br></div></div><h5 id="组件优化-配置项抽离"><a href="#组件优化-配置项抽离" class="header-anchor">#</a> <strong>组件优化：配置项抽离</strong></h5> <p>通过使用 <code>FormWrap.vue</code> 组件封装高级高级组件过程中我们可以发现，不同的 <code>&lt;form-wrap/&gt;</code> 组件中，视图相同，不同表单组件仅仅只有 <code>data</code> 和 <code>items</code>（form 视图配置） 属性不同，但在以上封装的组件中 ， <code>items</code>（form 视图配置） 属性代码占用多行，导致代码查看不清晰；</p> <p>除此之外，在实际开发过程中，我们发现，常常遇到此类需求：</p> <ul><li>form 表单项动态变化：如同一个弹窗组件中显示的一个表单的 新增，编辑，审核等操作；不同操作显示的字段和操作组件不同；</li> <li>通过同一个页面或者组件动态显示不同的 form 表单操作；</li></ul> <p>根据以上封装的 <code>FormWrap.vue</code> 组件中我们可以知道，不同  <code>FormWrap.vue</code>  组件的视图差异在于 <code>items</code> 配置项的差异；</p> <p>因此可以通过将 <code>items</code> 表单配置项目单独抽离管理，通过单独抽离管理，有以下优点：</p> <ol><li>可实现<code>FormWrap.vue</code> 组件复用，表单项 <code>items</code> 动态变化：复用<code>FormWrap.vue</code> 组件，通过动态变化表单项 <code>items</code>，可以实现组件/代码的最大复用，提高开发效率，并且能实现较复杂需求；</li> <li>代码逻辑结构清晰， <code>items</code> 单独管理配置，可实现不同模块 <code>items</code> 相互调用和配置；</li></ol> <p>为了统一管理组件的配置项，我在项目视图下创建一个文件夹，统一管理所有组件的配置，包括表单，表格，高级搜索等：</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAboAAADICAMAAACptNTJAAAAllBMVEUkJCaCrcybv83BmWDCzcckYpzNza42NjweHh7Nzc2BJCYkJGCbYiYkg63JrIKuzc3Nv5+tgyZYWFgkJIFgJCZjm8N/Nj2hvMhOKirNzcPAwzy+n3LGuV82i7GxkTYkSHM1PIs3bKM1NmzNsY2hbTvBza6xkWCNqKmYb5GsvbwkJz1UdjBwh642VnpgmTokMy00MCabYmCBwv1gAAASH0lEQVR42uydCVfiPBSGWxaxIhUXBjkedcRtnDMe3u///7kvN0mhS5Impai0NyqlaQqYp3dLb0IUcTmicpor3BuMjguj48LoGB0XRseF0TE6RtcvdLPVOXcgo+PCCpPR6fL4fpM9Hd/dcncdEbr1MtXsxh9vWeWI9OTs5Ez8ivpRkqTRdDCMousL8TB+PYviJEkuuW+/WWFOB6kUtk/CogthIlaEbiw4ijbRYn4TzRLxIJ7I54zuu9FtBJebCELmsK0jNISM0MVDJYFS2OavsiJOuV9/gptySnL3udOWESnG82iRSmLTQULl5Oz64nK6/G9wScfGI3Y9vw0dCnIXz/MyJ0o8nA4uNbpMMcbpWKjKdDYn2zhLGN7Xo0MV3zR+Oy3UzeZP5KFIhZkpx9l8MTwdiwdtIofctz8hrisfmX58aBMn5EuI3fiNtKgQNPEgdt/PGN2PDckXKx0fkG4kU0cak1RlTE8pNmBy340O3EPHhA4lZrDUczlGhcnlB6KDWVuysHVW6sB4fx46mCtg5pWrQsTbQ27N6Kwy5FvJ3fsFW2+FyerwuBQmzNgY40/3MAPdFCZ6LB5mjVMJtnvf4KYgMt5AgNslMeyxGB6o1LopaOqvgD3OA0uct8JEQDzA5Ue6KRtw4HB8bgrR+RsXUjHhRAiTqeTtl7kpJc/kcVlNo0Uj9cplfz8lLDgwsQsagWGRac9PCYzrtuy8tGWY4HE+yyFsHcxyh8hm0JoURrcvuhoOj8u3Qner6QWUXERpRePRn1FycjZTqUbj0X8DmpEQ5Rqs/lzopKM4kdmas1dxingNmrwgDtBmfsNa0aUt4ZA62J8Jsdu1u76gJOhLlSEWyykI8xuBkx7SSKVByza5BpQBKPdSNUNPzVQ4OcumnFxG0/cb9mzaCw7MjspCyQf1t3ocj843ioyaS0L1M5nWvm1wqVQjTVJQk06otSRG6GguA7ukXq6fDzpY3ZRYWSeJQe7Jnp9lqdFyjx5LDSQxOVkhUfOFduiEGk3ZI3WPgOkKx2gK6oODfdBpg1ZGF02XCc8Uaqow4R3WmRRmBZ1oVGogFebo3IxO1/BdI9T48d5pRaCBsPS2eKDopuhpd3l08mEYlRoQpOmSsL+f7dBJx4WmLyh0XGoGOWzoYJK/6vDz9YUKAxaJCgLK6Mjvl7JUaDBV82LV1IQdOhEXDCk2YHLteZhNPT7pb7ZymbGyrMKwz68LGpu0otsLGQcJbcZ1QQwd6BD8gjyGUuoMawptHRbUqTdY0KHtC4Slzip1qOtAOI/D9hooHQWzasXDtAgrImcKmLPfsbeMsZOS33PdOfiai4ddlYY95o7rmvcq9vxoYHNX119tzWqFS3vCQgFGz8kTcp9DOrvUwShaaEHID69l++thov5SR63itAYOcLWBTS7Re8kzduN+00UCYoR2RKmnkof2RlPQBuS6FwQzc/aRx50D7EOnIWSEN+3oFkGjKQgSNTSHAp84APuJfDclD/4K0x3XR+YLxQUhrP/jZH61TB1XTQ/8k9rRFPj2buvXvszDnN+Y3oTyKGR2YN8kDma/3s9NgS80+J9Q3Jc3yKHW9Jt+GG+QV1YkZqcl8lmFVpXN45192XwEkSw1UylHOkHp1HiZORaTRp+0JYKkbnvG4yC9VdkKuWXzgxPXIRoUE9dlPual4ieukCifxqKaUv5LMtS50eKQBon+KEvzQf+4Ti69HhUWX0eTxPV5KXFdUsslgcUyh10mj+Vz3Amd/CKFRd/TNG1uiv3O3EZ95cGnJocoaidxXaHb+ifbtNtd0y069XZx2v2RMauiRLPRFLls/kV+8fU2EtdLUqcg0kruu7y/DJ16u53lQ6+0pddoii0Am8bzwhStVhLXdQrmuX4vMzoY0XU7tmvmYdrK+r1ArpXEdXlsug248wqzInX0dqppv8MDeKOz9lMbietqqsH1hcQi4jrlpqSRAZ16qaqbgq7rTPhJndVPMb1yC4nrZPUuVayQrOQ0rZWqr6KTIy5D11cGdVtZFpE0uunje5W3kLjuGFtBzwdYfEdTVLQcPCx53q72yGyjSzMcvcDB6GEiPCTHHsJnQYcwZLvmY6k4S0PUvQnB66QOoZTguObL6BDCD6bhzurNBR5NqUod6mTAJ+KvCSxhYYom/0x3IjxL/6Pe1iFUW8IpgDUvhYbIsKcuPibt6BkceAzK7N3DB7cDHcEHFwwLOhy25+B5Mixt4fFJuhLSwSs4mLjL1YTLDyqMjtFxYXRcGF3XS8ToWOq4HAW6dZwyxyOVus+P9NbR8v7kV+uf9BCv2Utb97l0yV1YN/+mGwLPjO6rbN3n8u62nW5+Sh4EPkb3dR6mYHfVSjcvnr2aMbr2PEzBLrdHWUEpPRkkycn76pfq6Xj+i9QhPX9KKMeImqxJQT6oU2izZfKkFSdtqXLwPEjuVLtnge6Pas9l77hOmLucvUq15hOwxJOTX79HpAYvHiaLF0WHKif3qxdRKfDciwOy5cNkvUxeFLnRi9iZTybvvybrwTMxI1J0stCn93R+vGLR21/qBLmSsVsP7gSLF63c4uedkqPtE7FcC0kluNI5oZbUarJI5FmDu5xeJLCy5ZMGS9TltcBlT6n7XD7fVtzEu8m95CJREb47rUoluhfSlXeqkmRMTjpQhm4hTl0PZIXUlGL7qujrV9RMGd3+UlfQlrLvH6RI7dCtLx5+j0g9ipr7LbrBDt3rr6ITsh48ZCbvWUsdo2tf6soyNxHSJEXqfvSizZPwHO81tRw6QXeRKcyHQoTwokhpXTlZZFInz2N0hxsIo15WWo+cj5Hs5o/lg+r53xeEbqUVZuamKL4v0o+Z0Gn35JU83SnQyfxGs8zcFEbXmodZGRF5pmhhPRgl838qMpCPCwoW8lIn25KnqJx+uVEm716bOlEzjzOpy4IIje6Nme0f13HphtRxYanjwlLHUsfoWOq4sNRxMUhdhGgD+8/V7mmk//7KPfEY0W+kNuL3rziaPW5/NtlvrgLqrKhw9rZCfh7az2r0z6bvP9QnIXPJryIuP34uOaNjdFwYHZcDo2s0VdJn7iOY1AHRocqiMD0c5VmqsCCCmSoi/m6tQleb18OE4U+iy45u4Oj/psII/7PQ479wqUNO6v7G5eWfK6W9lYq4tKowH5fprVtyQtCxCmyiM5vausdlQe6qRsiFDnvAZMywSx283JQSu8pr79aVNavqchWM7w72T3wVJoxe4s5NyTXJ2On96rL552oxYFpJbzq4G8gl8WWT6WAYq0YzvUpmqHhZvVV2U2xSh6Lc5VYTNiybX0CXnEcL+lqDhVxjVgCkhe+pzfXdhpXhgd0UlOK6UyF2uz3jKtA5dPL7JYbZXqrOkMvVbticNTN3zUPyorEzrr1eRneZ2yN0QvyGwWMuDNYpdUWvAGV0KJGDCd1rPTq5wuXQjsQn5kcvJc4+mmLuGEdwYFGY6ot9HOi2G6efaRfB8m7nH8JtHbboYA4NjMvmk3WTPokFnWhfQsfl0KMpuYEwbNmZls1fJas/doU5M64HDNaNNdoSTnSmbrraVVJ6hO/FEXzA9BFQV81SV3VPYPEw27+cUGvUrMx6Z+ii1u7X4duVSP80p99i+diF5Dhs18HH2qGfzEp9UyN1xuAAxuOIjKPN8FCPYFlqNySvVZgIulzMXyDve5kh5D06uVv5Xx1SBxe6Vjx4RCFfc2BUk7D5LF3aNfdNvZtS8DC/Qo2htUbdHQSrCw7KJ101cCzqpf9gzDuwe4DRlJquK7goqA/h7F4rHOF49yUPzkrbXXKTmFw5rU7rnxah4yxW2Me8C++4ztVTVz68EEQJvieipTc9WunzdVMswQHM7h48ew9tiiV66bjA09bBy03xi8wc8o8gb8P3VBz/bs1/bf+GZKebsoGfoxLY53BbUwRfmUe+i308TBjReSSut6o4awPWDutGK0YrOlSf5/Iwy3fJdQv63uk4d/NUZjgEWt9+B92eQBHtnbheMmNudFsYxqR2+H/oWsnrWjQOb4UJ89mFFFpj4nqcFk9V6CpuCqFTWQ7htsohtehWRBc6mgJHp7nyMHcKM9+HFoVZRAdvZ7OXetFa6f81u5XgoJC4LtOKUqkw012OkURHOyupIWNR+08ltY9p5echUZRZSMVJCdRQbiOf8Rv0gmKAhwmLh7nTSoXEdZmVvkg0un86o28mOQ1pXsilzvFL9HwEJXXqWYrpYJWblEAJfrPLpv5LVwwdaqIpPzcFboWJLJ0yk7qNVpb0p5SoeFTOyayATiZNi6ripIQ4DbwW4RXsH723UjzcMCSvmDqVuJ6ho2zMlUI3HUjxmc1vZBp7Ed1Ur49/VkzUHI9W58Yov07+0E1oCFCY5m66MjmYMKC7vtDKsh6dVotFdKRgCR48VWSPDFzuqO8YZknqKu6ljOamSxEcCHSzzEUpKMyZFCWyZTSVRCvM1IzOEjvAOlzQTW5OcxcekkMOhJVXAZDOSOamqPkGGp1yUwS26VJORdBSp6hJ92X8VkL3fmYP++D7r6NoBI9i18sq+MR1ZQfAOfxMXv4ws3WLlYoC9FQfFSkIHKtk/u9VoxPVQzUl+eSshC5WgYO/Sin1RXd1JkLHMM1xXSOldeoe1vQYhu1nxG4YcTGhg4+H2bR4OP41Or+frklASG5QSleRz81p6yeYftAcrq3bj+ZIUE/4eIcsUTcAFuamoF7q4KjOAohVNiJW+2n3uS7RlZCuplsCU2hrzA/qRxw9GdS9hTnLux86Ey4PE0G2Ds0/hf9Mx76F5ai1/oFzDpp7Dghvij3OPc5bdUHd12SSVjPV16IYoUZn4v/2zmy3bRiIoiySAE7hNo3bBo0e9NKXogGi8/9fV9Gy1pCcGUq2JaMGbETxIpKXdzZdUlt2dOpx0a05wA12KyLtUclhBotgeXvWkkTcNWvNAaYWmGS2gW/gbtzjGW1mZjUF0ZLJn7C0mHlE26RplGI2kXVEwpQzWit9l4iZbT6Cvo2sHH2uFEwOIknVIQ8xMhHmvD+/FWtJfkre43nILKY4sVaA+7/rnnnO5oQpaUfFUk0LWosgx2b5kBV5OpIuHqGakup+C91b+VzVL2Wx73eb8vvvTWL9weWd4eA3G5mmz0QiwVYihJPs/9byuOm3ZFkR0zClei/K6q3wj54DR+jGj8iVuSl0i0Y9bItqmPuFzmBOA5+Wde9FsSuKEt6SNnYKHbYmq1Aw5/RrhxD9TM7wddSs89D9EsaqhY5EK5Ezbpan4PqjExTtVy8XGbGuxBvMciAt8nKTh/s/TydRSStRb4Xpfg9216wBOspQRsp07H3DKZK7rWYN6GymovxMgHVV4+z6Gx000HklUbcN7WunuPx6xOvEQv9nWpku7sYxM1Jd105SlpCcVDWF2LjQV1O8r6ujlRq8/YR1zf0nBhL1VpheP18ageXxAymBCknffGumc0bLMnSYVVE8795/7GroPk+g2zfIdDrnTpjuTeRv10E3VKanu6DO0cIVJTHtXEtsyQcbJ3LSrE2pvKHcu2KYHNTvx6DrrOLPx6HQ+aRMT1wjJ8Oa5s/2lWZx2FkXnrIeusp7uheflhflfjBLxtB1EvXOMj7cNwaTVtc8kDeT0xG0HWb9VlPX9SkNpZScqcH0uufKu7pdNaTpCLpeot4K078/3f09QulvKXKXUKYzlz+GzJDrHpLPTDLzuuDDrwDxz27x1eu3Y3Lw5bQGq8bSv5ygk5TpRMNc8oBcLfWQbEX8v+o9wjCrnyO/N/B/QkujeSmiASWTs1d2cqaSRBy6j185oDih2MTTKqxYQeUmU4DctprCFBJfWeY+B9KdYLDPSZIFJRS0XBH5SBeP+t6Iaw5IQ4dstkfHnx6VK32YPW1FpK+PF6HKnbY/1jAF20AqKYSbcd1uWdN1gUN5DFWFCC10uPGag8oWMLlMCXP6fewR5gZLYKjDlHix4jA74CZpkLXME10eK6bcLDzl5CASlR+MZ8fKjSWnL4HJQTQQuxxmaIcCyVOkDaZ4Hpa2DuEx33gmIFkQsphnuUOysr7kdBsEoghTwifPygQRM/uzH0qBCfq24zR30kLzY1yCGxjJynYZqxl0i5hPmLUZLRLjFF3Os2DwejE4FKEw6QZbrtflxCjBuIBFxhd1O1BPv/Md5jm2lJtJrK8LU4JLzWysU2SZaX/lJM7wa0Po/gE6fYYaV+0prQAAAABJRU5ErkJggg==" alt="image-20231218085721123"></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>├── componentConfig
│  ├── advanceSearch  高级搜索配置项目
│  ├── columns 表格列配置
│  ├── dialogItems 弹窗配置项
│  ├── index<span class="token punctuation">.</span>js   入口文件

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>为了能在 Vue 实例中任意组件获取表单/表格/高级搜索项 <code>items</code> ，我在项目中封装了一个 Vue 实例的方法：<code>views/componentConfig/index.js</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/**
 * 该文件为获取表格配置文件夹统一管理入口，表格配置列统一在 columns 文件夹中管理：
 * 通过 公共方法 this.$getTableColumns() 获取表格配置列
 */</span>

<span class="token comment">//  require.context返回modules文件夹下所有的文件对象,参考https://webpack.js.org/guides/dependency-management/#requirecontext</span>

<span class="token keyword">const</span> fileFolders <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">columns</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">files</span><span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">context</span><span class="token punctuation">(</span><span class="token string">'./columns'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">fileModules</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">advanceSearch</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">files</span><span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">context</span><span class="token punctuation">(</span><span class="token string">'./advanceSearch'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">fileModules</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">dialogItems</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">files</span><span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">context</span><span class="token punctuation">(</span><span class="token string">'./dialogItems'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">fileModules</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/*
 *通过直接获取modules文件夹下的所有文件添加进入modules对象
 *回调函数参数：
 *modules：文件对象
 *modulePath：文件路径
 */</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> fileFolders<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> files <span class="token operator">=</span> fileFolders<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span>files

  fileFolders<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span>fileModules <span class="token operator">=</span> files<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> modulePath</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 获取文件名称</span>
    <span class="token keyword">const</span> moduleName <span class="token operator">=</span> modulePath<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\.\/(.*)\.\w+$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">'$1'</span><span class="token punctuation">)</span>

    <span class="token comment">// 获取路径保存在modulePath文件内容</span>
    <span class="token keyword">const</span> value <span class="token operator">=</span> <span class="token function">files</span><span class="token punctuation">(</span>modulePath<span class="token punctuation">)</span>
    <span class="token comment">// 修改modules对象</span>
    module<span class="token punctuation">[</span>moduleName<span class="token punctuation">]</span> <span class="token operator">=</span> value
    fileFolders<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span>fileModules<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>module<span class="token punctuation">)</span>

    <span class="token keyword">return</span> module
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * 获取表格列配置项
 * @param {*} that 组件实例对象
 * @param {*} moduleName 模块名称
 * @param {*} pageName 页面名称
 * @returns
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getTableColumns</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>
  instance <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  moduleName <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  pageName <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  params <span class="token operator">=</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>instance <span class="token operator">||</span> <span class="token operator">!</span>moduleName <span class="token operator">||</span> <span class="token operator">!</span>pageName<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">const</span> methods <span class="token operator">=</span> fileFolders<span class="token punctuation">.</span>columns<span class="token punctuation">.</span>fileModules<span class="token punctuation">[</span>moduleName<span class="token punctuation">]</span><span class="token punctuation">[</span>pageName<span class="token punctuation">]</span>
  <span class="token keyword">return</span> <span class="token function">methods</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    instance<span class="token punctuation">,</span>
    params
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * 获取高级搜索列配置项
 * @param {*} that 组件实例对象
 * @param {*} moduleName 模块名称
 * @param {*} pageName 页面名称
 * @param {*} params 参数
 * @returns
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getAdvanceSearchItems</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>
  instance <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  moduleName <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  pageName <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  params <span class="token operator">=</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>instance <span class="token operator">||</span> <span class="token operator">!</span>moduleName <span class="token operator">||</span> <span class="token operator">!</span>pageName<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">const</span> methods <span class="token operator">=</span> fileFolders<span class="token punctuation">.</span>advanceSearch<span class="token punctuation">.</span>fileModules<span class="token punctuation">[</span>moduleName<span class="token punctuation">]</span><span class="token punctuation">[</span>pageName<span class="token punctuation">]</span>
  <span class="token keyword">return</span> <span class="token function">methods</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    instance<span class="token punctuation">,</span>
    params
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * 获取高级搜索列配置项
 * @param {*} that 组件实例对象
 * @param {*} moduleName 模块名称
 * @param {*} pageName 页面名称
 * @param {*} params 参数
 * @returns
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getDialogItems</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>
  instance <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  moduleName <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  pageName <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  params <span class="token operator">=</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>instance <span class="token operator">||</span> <span class="token operator">!</span>moduleName <span class="token operator">||</span> <span class="token operator">!</span>pageName<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">const</span> methods <span class="token operator">=</span> fileFolders<span class="token punctuation">.</span>dialogItems<span class="token punctuation">.</span>fileModules<span class="token punctuation">[</span>moduleName<span class="token punctuation">]</span><span class="token punctuation">[</span>pageName<span class="token punctuation">]</span>
  <span class="token keyword">return</span> <span class="token function">methods</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    instance<span class="token punctuation">,</span>
    params
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br></div></div><p>使用方法：</p> <p>在组件中，通过调用 <code>this.getAdvanceSearchItems</code> 方法即可获取配置项；</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code>    advanceSearchItems() {
      return this.$getAdvanceSearchItems({
        instance: this, //组件实例
        moduleName: 'demo', // 文件名称
        pageName: 'DemoSearch' //方法名称
      })
    }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>高级搜索表单配置项：在<code>/componentConfig/advanceSearch</code>  文件夹下面创建 <code>demo.js</code> 文件，文件内暴露 <code>DemoSearch</code> 方法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">PAGEVIEWS</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/views/project/npi/assets/config.js'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> rangetimePickerOptionsList <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/utils/index.js'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> formateOptions <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/utils/index.js'</span>
<span class="token comment">// ============================ NPI ======================================================</span>
<span class="token comment">/**
 * NPI 列表
 * @param {*} instance 组件实例
 * @returns
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">DemoSearch</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> instance<span class="token punctuation">,</span> params <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>instance<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">const</span> commonItem <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">prop</span><span class="token operator">:</span> <span class="token string">'demo'</span><span class="token punctuation">,</span> <span class="token comment">//搜索项属性，传递给后端</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'input'</span><span class="token punctuation">,</span> <span class="token comment">// 组件类型</span>
      <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'label 名称'</span><span class="token punctuation">,</span> <span class="token comment">// 标签名称</span>
      <span class="token literal-property property">tips</span><span class="token operator">:</span> <span class="token string">'组件提示语'</span><span class="token punctuation">,</span> <span class="token comment">// 组件提示语</span>
      <span class="token literal-property property">optionList</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 下拉选项</span>
      <span class="token literal-property property">filterable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 组件是否过滤</span>
      <span class="token literal-property property">labelWidth</span><span class="token operator">:</span> <span class="token string">'70px'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">attrs</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 组件透传属性</span>
        <span class="token literal-property property">clearable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token string">'mini'</span><span class="token punctuation">,</span>
        <span class="token string-property property">'collapse-tags'</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">multiple</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'key'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">emitPath</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">listeners</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token comment">// 组件透传事件</span>
        <span class="token literal-property property">change</span><span class="token operator">:</span> instance<span class="token punctuation">.</span>DemoSearchChange
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">span</span><span class="token operator">:</span> <span class="token number">4</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token punctuation">]</span>
  <span class="token keyword">return</span>  commonItem
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><h4 id="table-二次封装"><a href="#table-二次封装" class="header-anchor">#</a> <strong>Table 二次封装</strong></h4> <p>表格组件分析：</p> <p>一个 to B端后台管理系统中，表格组件通常包括以下组件</p> <ul><li><a href="https://element.eleme.cn/#/zh-CN/component/table" target="_blank" rel="noopener noreferrer">elements  table<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 表格组件</li> <li><a href="https://element.eleme.cn/#/zh-CN/component/pagination" target="_blank" rel="noopener noreferrer"><code>&lt;el-pagination/ &gt;</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>分页器</li></ul> <p>表格组件通常包括以下功能特性：</p> <ul><li><p>通过 JSON 对象动态配置表格列内容；</p></li> <li><p>自定义头部显示内容；</p></li> <li><p>首列固定列，能自定义首列：如序号，复选框等；</p></li> <li><p>能自定义列插槽</p></li> <li><p>自定义头部插槽</p></li></ul> <p>属性 props 设置：</p> <blockquote><ul><li><p><code>columns</code>: 表头配置；</p> <ul><li><p>类型： 数组；</p></li> <li><p>示例：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token punctuation">{</span>
      <span class="token literal-property property">prop</span><span class="token operator">:</span> <span class="token string">'列属性'</span><span class="token punctuation">,</span> <span class="token comment">// 后端传入数据</span>
      <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'列 label'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">150</span><span class="token punctuation">,</span><span class="token comment">//列宽度</span>
      <span class="token literal-property property">align</span><span class="token operator">:</span> <span class="token string">'left'</span><span class="token punctuation">,</span> <span class="token comment">// 列对齐方式</span>
      <span class="token literal-property property">attrs</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// elements 列属性，使用属性穿透，对象内部为 elements 表格组件原生属性</span>
        <span class="token literal-property property">fixed</span><span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">slot</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 列插槽，是否使用列插槽</span>
      <span class="token literal-property property">slotName</span><span class="token operator">:</span> <span class="token string">'列插槽名称'</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li></ul></li> <li><p><code>data</code>: 后端传入的表格数据</p> <ul><li><p>类型： 数组；</p></li> <li><p>示例：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
		<span class="token literal-property property">key1</span><span class="token operator">:</span> value1<span class="token punctuation">,</span> <span class="token comment">// key 对应列属性 prop ，value 对应列值</span>
		<span class="token literal-property property">key2</span><span class="token operator">:</span> value2
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li></ul></li> <li><p><code>listQuery</code>:  列表查询参数，传递给后端，通常用于高级搜索参数和分页参数。</p> <ul><li><p>类型：对象；</p></li> <li><p>示例：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token punctuation">{</span>
       	<span class="token literal-property property">page</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">//列表分页页码</span>
        <span class="token literal-property property">page_size</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$<span class="token keyword">const</span><span class="token punctuation">.</span><span class="token constant">MIDDLE_PAGE_SIZE</span><span class="token punctuation">,</span> <span class="token comment">//列表分页大小</span>
		<span class="token literal-property property">key1</span><span class="token operator">:</span> value1<span class="token punctuation">,</span> <span class="token comment">// key 对应列属性 prop ，value 对应列值</span>
		<span class="token literal-property property">key2</span><span class="token operator">:</span> value2
   <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li></ul></li></ul></blockquote> <p>代码实现：</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>table-wrapper<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ 'show-border': outerBorder }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-skeleton</span> <span class="token attr-name">:loading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>loading<span class="token punctuation">&quot;</span></span> <span class="token attr-name">animated</span> <span class="token attr-name">:throttle</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>500<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:count</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>header-wrap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>header<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- 头部分页 --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>showTopPagination<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pagination-container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-pagination</span>
          <span class="token attr-name">background</span>
          <span class="token attr-name">:hide-on-single-page</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fixPageConf.hideOnSinglePage<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:layout</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fixPageConf.layout<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:total</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>total<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:current-page</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>listQuery.page<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:page-sizes</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fixPageConf.pageSizes<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:page-size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>listQuery.page_size<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">@size-change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eventEmit('size-change', $event)<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">@current-change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eventEmit('current-page-change', $event)<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table</span>
        <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>table<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">:border</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>border<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">fit</span>
        <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$attrs<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">:element-loading-text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>loadingText<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">:data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tableData<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">:header-cell-style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>headerCellStyles<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">:cell-style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cellStyles<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">v-on</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$listeners<span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 复选框 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span>
          <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>showSelection<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">column-key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selection<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$attrs<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selection<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>35<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">fixed</span>
        <span class="token punctuation">/&gt;</span></span>

        <span class="token comment">&lt;!-- 序号 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span>
          <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>showIndex<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">column-key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>序号<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>55<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>left<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">fixed</span>
        <span class="token punctuation">/&gt;</span></span>

        <span class="token comment">&lt;!-- 所有列可扩展 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>showExpand<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>expand<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>25<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fixed</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span>
            <span class="token attr-name">slot-scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scope<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>expand<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">:elCol</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scope.column<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">:row</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scope.row<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">:rowIndex</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scope.$index<span class="token punctuation">&quot;</span></span>
          <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!-- 表头数据 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span>
          <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(column, cIndex) in tableColumns<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cIndex<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>column.align || 'center'<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:prop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>column.prop<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>column.label<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>column.width<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:sortable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>column.sortable || false<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>column.type<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:fixed</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>column.fixed || (cIndex === 0 &amp;&amp; firstColumnFixed)<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>column.attrs<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">v-on</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>column.listeners<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">&gt;</span></span>
          <span class="token comment">&lt;!-- 表头的自定义插槽, 使用 slotHeaderName 和 slotHeaderIcon 定义--&gt;</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>column.slotHeaderName || column.slotHeaderIcon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">#header</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 表头自定义插槽--&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span>
              <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>column.slotHeaderName<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">:name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>column.slotHeaderName<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">:row</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>column<span class="token punctuation">&quot;</span></span>
            <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>column.slotHeaderIcon<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ column.label }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 表头图标插槽：使用表头图标，默认添加弹出层，弹出层内容插槽名称为：表头插槽名称 + PopContent --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-popover</span>
              <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>column.slotHeaderIcon<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>header-slot-popup<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">placement</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bottom<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">:title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>column.slotHeaderIconPopTitle || column.label<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">:width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>column.slotHeaderPopWidth<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">trigger</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>click<span class="token punctuation">&quot;</span></span>
            <span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>filter-content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span>
                  <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>column.slotHeaderIcon<span class="token punctuation">&quot;</span></span>
                  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>filter-slot<span class="token punctuation">&quot;</span></span>
                  <span class="token attr-name">:name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>column.slotHeaderPopName + 'PopContent'<span class="token punctuation">&quot;</span></span>
                <span class="token punctuation">/&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
              <span class="token comment">&lt;!-- 列对象中添加 slotHeaderIcon 属性，表示使用头部图标插槽--&gt;</span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg-icon</span>
                <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>column.slotHeaderIcon<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>reference<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>header-icon-slot<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>column.slotHeaderIconClass<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">:icon-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>column.slotHeaderIcon<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>headerIconClick(column)<span class="token punctuation">&quot;</span></span>
              <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-popover</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

          <span class="token comment">&lt;!-- 插入自定义模板到列中 --&gt;</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span>
            <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>column.slot<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">slot-scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scope<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">:name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>column.slotName || 'slotCol'<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">:colConf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>column<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">:elCol</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scope.column<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">:row</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scope.row<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">:rowIndex</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scope.$index<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">:colIndex</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cIndex<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">:rowspan</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>column.rowspan<span class="token punctuation">&quot;</span></span>
          <span class="token punctuation">/&gt;</span></span>

          <span class="token comment">&lt;!-- 扩展列插槽 --&gt;</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-else-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>column.expandSlot<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span>
              <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>column.expandSlot<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">:name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>column.expandSlot || 'slotExpend'<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">:colConf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>column<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">:elCol</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scope.column<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">:row</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scope.row<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">:rowIndex</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scope.$index<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">:colIndex</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cIndex<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">:rowspan</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>column.rowspan<span class="token punctuation">&quot;</span></span>
            <span class="token punctuation">/&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

          <span class="token comment">&lt;!--列内容插槽 --&gt;</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-else</span> <span class="token attr-name">slot-scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scope<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-checkbox</span>
                <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>column.checkbox<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checked(scope.row, column)<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">@change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkboxChange($event, scope.row, column)<span class="token punctuation">&quot;</span></span>
                <span class="token punctuation">&gt;</span></span>{{ scope.row[column.prop] }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-checkbox</span>
              <span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-tooltip</span>
                <span class="token attr-name">v-else</span>
                <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tootip-container<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">effect</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dark<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">placement</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>top-start<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">:disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>!column.tooltip<span class="token punctuation">&quot;</span></span>
              <span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                  <span class="token comment">&lt;!-- 字符串长度大于 80 格式化 --&gt;</span>
                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span>
                    <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>String(scope.row[column.prop]).length &gt; 80<span class="token punctuation">&quot;</span></span>
                    <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ 'cursor-pointer hoveTitle': column.tooltip }<span class="token punctuation">&quot;</span></span>
                    <span class="token attr-name">v-html</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>formateTooltip(String(scope.row[column.prop]))<span class="token punctuation">&quot;</span></span>
                  <span class="token punctuation">/&gt;</span></span>
                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-else</span><span class="token punctuation">&gt;</span></span>{{ String(scope.row[column.prop]) }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ 'cursor-pointer hoveTitle': column.tooltip }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{
                    column.formatter(
                      scope.row,
                      scope.column,
                      scope.row[column.prop],
                      scope.$index
                    )
                  }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-tooltip</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!-- 固定列数据 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span>
          <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>showButtons<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">column-key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>buttons<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fixButConfig.label<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fixButConfig.align<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:fixed</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fixButConfig.fixed<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fixButConfig.width<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span>
            <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>default<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">slot-scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scope<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>buttons<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">:$index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scope.$index<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">:row</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scope.row<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">:column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scope.column<span class="token punctuation">&quot;</span></span>
          <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!-- 默认插槽 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table</span><span class="token punctuation">&gt;</span></span>

      <span class="token comment">&lt;!-- 分页 --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>isShowPagination<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pagination-container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-pagination</span>
          <span class="token attr-name">background</span>
          <span class="token attr-name">:hide-on-single-page</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fixPageConf.hideOnSinglePage<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:layout</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fixPageConf.layout<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:total</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>total<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:current-page</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>listQuery.page<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:page-sizes</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fixPageConf.pageSizes<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:page-size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>listQuery.page_size<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">@size-change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eventEmit('size-change', $event)<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">@current-change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eventEmit('current-page-change', $event)<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-skeleton</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> variables <span class="token keyword">from</span> <span class="token string">&quot;@/styles/variables.scss&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> isEmpty <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/utils/index.js&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;TableWrap&quot;</span><span class="token punctuation">,</span>

  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">showIndex</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// 是否显示序号</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">border</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// 默认没有border</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">outerBorder</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// 默认没有border</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">showExpand</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">showSelection</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// 是否选择复选框</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">loading</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// 是否loading</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">loadingText</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// loading显示的文本</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">&quot;loading......&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">columns</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// 表头数据</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Array<span class="token punctuation">,</span>
      <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// 表格数据</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token punctuation">[</span>Array<span class="token punctuation">,</span> Object<span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">showButtons</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// 是否显示固定列</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">buttonsConf</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// 固定列配置信息</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Object<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">&quot;操作&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">align</span><span class="token operator">:</span> <span class="token string">&quot;center&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">fixed</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">cellStyle</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Object<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">headerCellStyle</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Object<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">total</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// 总数据条数</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">showPagination</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// 是否显示分页,作为表单初始值属性,组件内控制是否显示使用 isShowPagination</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">showTopPagination</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// 是否显示头部分页</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">pageConf</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// 分页配置</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Object<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">hideOnSinglePage</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          <span class="token literal-property property">layout</span><span class="token operator">:</span> <span class="token string">&quot;total, sizes, prev, pager, next, jumper&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">pageSizes</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">listQuery</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Object<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">page</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
          <span class="token literal-property property">page_size</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$<span class="token keyword">const</span><span class="token punctuation">.</span><span class="token constant">MIDDLE_PAGE_SIZE</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 表格第一列固定，默认固定;(注意：在 expand 表格中,默认固定列会渲染两次扩展内的组件)</span>
    <span class="token literal-property property">firstColumnFixed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// 是否显示分页</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token comment">// tableColumns: []</span>
      <span class="token literal-property property">isShowPagination</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>showPagination<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">tableColumns</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">colFormatter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>columns<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">tableData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;table data must be an array&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">hiddenPagination</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>showPagination <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setShowPagination</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">headerCellStyles</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">fontSize</span><span class="token operator">:</span> variables<span class="token punctuation">.</span>fontSizePrimary<span class="token punctuation">,</span>
          <span class="token literal-property property">padding</span><span class="token operator">:</span> <span class="token string">&quot;5px&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">color</span><span class="token operator">:</span> variables<span class="token punctuation">.</span>regularText<span class="token punctuation">,</span>
          <span class="token comment">// fontFamily: 'Microsoft YaHei',</span>
          <span class="token literal-property property">backgroundColor</span><span class="token operator">:</span> variables<span class="token punctuation">.</span>tableTitleBgColor<span class="token punctuation">,</span>
          <span class="token literal-property property">fontWeight</span><span class="token operator">:</span> <span class="token string">&quot;normal&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>headerCellStyle
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">cellStyles</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>
        <span class="token punctuation">{</span>
          <span class="token comment">// fontFamily: 'Microsoft YaHei',</span>
          <span class="token literal-property property">fontSize</span><span class="token operator">:</span> variables<span class="token punctuation">.</span>fontSizePrimary<span class="token punctuation">,</span>
          <span class="token literal-property property">padding</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>cellStyle
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 固定分页配置</span>
    <span class="token function">fixPageConf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> defaultConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">hideOnSinglePage</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">layout</span><span class="token operator">:</span> <span class="token string">&quot;total, sizes, prev, pager, next, jumper&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">pageSizes</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>defaultConfig<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pageConf<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 固定列操作默认配置</span>
    <span class="token function">fixButConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> defaultConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">&quot;操作&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">align</span><span class="token operator">:</span> <span class="token string">&quot;center&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">fixed</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">60</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>defaultConfig<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>buttonsConf<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function">beforeMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">colFormatter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">hiddenPagination</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>isShowPagination <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">setShowPagination</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>isShowPagination <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">checked</span><span class="token punctuation">(</span><span class="token parameter">row<span class="token punctuation">,</span> column</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> keyName <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>column<span class="token punctuation">.</span>prop<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">_checked</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> row<span class="token punctuation">[</span>keyName<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">/**
     * 列格式化函数， 没有formatter的列要添加默认的formatter,不然数据无法显示
     * @description
     * @param {string} str - 格式化字符串
     */</span>
    <span class="token function">colFormatter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>columns<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>columns<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 没有formatter的列要添加默认的formatter,不然数据无法显示</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">.</span>formatter <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">||</span> value<span class="token punctuation">.</span>formatter <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          value<span class="token punctuation">.</span><span class="token function-variable function">formatter</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">row<span class="token punctuation">,</span> column<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> value<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">eventEmit</span><span class="token punctuation">(</span><span class="token parameter">eventName<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span>eventName<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">/**
     * 格式化输入提示
     * @description
     * @param {string} str - 格式化字符串
     */</span>
    <span class="token function">formateTooltip</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> temp <span class="token operator">=</span> str<span class="token punctuation">;</span>
      <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
      <span class="token keyword">while</span> <span class="token punctuation">(</span>temp<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">80</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        result <span class="token operator">=</span> result <span class="token operator">+</span> temp<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;&lt;br/&gt;&quot;</span><span class="token punctuation">;</span>
        temp <span class="token operator">=</span> temp<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token punctuation">(</span>result <span class="token operator">=</span> result <span class="token operator">+</span> temp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">checkboxChange</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> row<span class="token punctuation">,</span> col</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">&quot;checkboxChange&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> value<span class="token punctuation">,</span> row<span class="token punctuation">,</span> col <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 表头icon 点击事件</span>
    <span class="token function">headerIconClick</span><span class="token punctuation">(</span><span class="token parameter">column</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">&quot;header-icon-click&quot;</span><span class="token punctuation">,</span> column<span class="token punctuation">.</span>prop<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scss<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.table-wrapper</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ebeef5<span class="token punctuation">;</span>

  <span class="token selector">.el-table</span> <span class="token punctuation">{</span>
    <span class="token property">height</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>100% - 52px<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.el-table__expanded-cell[class*=&quot;cell&quot;]</span> <span class="token punctuation">{</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token selector">&amp; p</span> <span class="token punctuation">{</span>
      <span class="token property">margin</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.pagination-container</span> <span class="token punctuation">{</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
    <span class="token property">float</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span>
    <span class="token selector">&amp;::v-deep .number,
    &amp;::v-deep .el-pager li,
    &amp;::v-deep .btn-next,
    &amp;::v-deep .btn-prev</span> <span class="token punctuation">{</span>
      <span class="token property">font-weight</span><span class="token punctuation">:</span> 500<span class="token punctuation">;</span>
      <span class="token property">background-color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
      <span class="token property">border</span><span class="token punctuation">:</span> 1px solid $borderPrimary<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">&amp;::v-deep .el-pager li:not(.disabled).active</span> <span class="token punctuation">{</span>
      <span class="token property">border-radius</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.content</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
    <span class="token selector">&amp;::v-deep p</span> <span class="token punctuation">{</span>
      <span class="token property">margin</span><span class="token punctuation">:</span> 7px 0px<span class="token punctuation">;</span>
      <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
      <span class="token property">text-overflow</span><span class="token punctuation">:</span> ellipsis<span class="token punctuation">;</span>
      <span class="token property">white-space</span><span class="token punctuation">:</span> nowrap<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.cursor-pointer</span> <span class="token punctuation">{</span>
      <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token selector">&amp;::v-deep .cell</span> <span class="token punctuation">{</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 1px 0<span class="token punctuation">;</span>
    <span class="token property">padding-right</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span>
    <span class="token property">padding-left</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">&amp;::v-deep thead .cell</span> <span class="token punctuation">{</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">&amp;::v-deep .appraise-buttons</span> <span class="token punctuation">{</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">th</span> <span class="token punctuation">{</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.table_1_column_8</span> <span class="token punctuation">{</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token selector">.show-border</span> <span class="token punctuation">{</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ebeef5<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.hoveTitle</span> <span class="token punctuation">{</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 140px<span class="token punctuation">;</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
  <span class="token property">text-overflow</span><span class="token punctuation">:</span> ellipsis<span class="token punctuation">;</span>
  <span class="token property">white-space</span><span class="token punctuation">:</span> nowrap<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.header-filter-icon</span> <span class="token punctuation">{</span>
  <span class="token property">margin-left</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
  <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> $fontSizePrimary<span class="token punctuation">;</span>
  <span class="token selector">&amp;:hover</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> $primary<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token selector">.header-icon-slot</span> <span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 16px <span class="token important">!important</span><span class="token punctuation">;</span>
  <span class="token property">margin-left</span><span class="token punctuation">:</span> 3px <span class="token important">!important</span><span class="token punctuation">;</span>
  <span class="token property">filter</span><span class="token punctuation">:</span> <span class="token function">opacity</span><span class="token punctuation">(</span>0.6<span class="token punctuation">)</span> <span class="token important">!important</span><span class="token punctuation">;</span>
  <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
  <span class="token selector">&amp;:hover</span> <span class="token punctuation">{</span>
    <span class="token property">filter</span><span class="token punctuation">:</span> <span class="token function">opacity</span><span class="token punctuation">(</span>1<span class="token punctuation">)</span> <span class="token important">!important</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br><span class="line-number">216</span><br><span class="line-number">217</span><br><span class="line-number">218</span><br><span class="line-number">219</span><br><span class="line-number">220</span><br><span class="line-number">221</span><br><span class="line-number">222</span><br><span class="line-number">223</span><br><span class="line-number">224</span><br><span class="line-number">225</span><br><span class="line-number">226</span><br><span class="line-number">227</span><br><span class="line-number">228</span><br><span class="line-number">229</span><br><span class="line-number">230</span><br><span class="line-number">231</span><br><span class="line-number">232</span><br><span class="line-number">233</span><br><span class="line-number">234</span><br><span class="line-number">235</span><br><span class="line-number">236</span><br><span class="line-number">237</span><br><span class="line-number">238</span><br><span class="line-number">239</span><br><span class="line-number">240</span><br><span class="line-number">241</span><br><span class="line-number">242</span><br><span class="line-number">243</span><br><span class="line-number">244</span><br><span class="line-number">245</span><br><span class="line-number">246</span><br><span class="line-number">247</span><br><span class="line-number">248</span><br><span class="line-number">249</span><br><span class="line-number">250</span><br><span class="line-number">251</span><br><span class="line-number">252</span><br><span class="line-number">253</span><br><span class="line-number">254</span><br><span class="line-number">255</span><br><span class="line-number">256</span><br><span class="line-number">257</span><br><span class="line-number">258</span><br><span class="line-number">259</span><br><span class="line-number">260</span><br><span class="line-number">261</span><br><span class="line-number">262</span><br><span class="line-number">263</span><br><span class="line-number">264</span><br><span class="line-number">265</span><br><span class="line-number">266</span><br><span class="line-number">267</span><br><span class="line-number">268</span><br><span class="line-number">269</span><br><span class="line-number">270</span><br><span class="line-number">271</span><br><span class="line-number">272</span><br><span class="line-number">273</span><br><span class="line-number">274</span><br><span class="line-number">275</span><br><span class="line-number">276</span><br><span class="line-number">277</span><br><span class="line-number">278</span><br><span class="line-number">279</span><br><span class="line-number">280</span><br><span class="line-number">281</span><br><span class="line-number">282</span><br><span class="line-number">283</span><br><span class="line-number">284</span><br><span class="line-number">285</span><br><span class="line-number">286</span><br><span class="line-number">287</span><br><span class="line-number">288</span><br><span class="line-number">289</span><br><span class="line-number">290</span><br><span class="line-number">291</span><br><span class="line-number">292</span><br><span class="line-number">293</span><br><span class="line-number">294</span><br><span class="line-number">295</span><br><span class="line-number">296</span><br><span class="line-number">297</span><br><span class="line-number">298</span><br><span class="line-number">299</span><br><span class="line-number">300</span><br><span class="line-number">301</span><br><span class="line-number">302</span><br><span class="line-number">303</span><br><span class="line-number">304</span><br><span class="line-number">305</span><br><span class="line-number">306</span><br><span class="line-number">307</span><br><span class="line-number">308</span><br><span class="line-number">309</span><br><span class="line-number">310</span><br><span class="line-number">311</span><br><span class="line-number">312</span><br><span class="line-number">313</span><br><span class="line-number">314</span><br><span class="line-number">315</span><br><span class="line-number">316</span><br><span class="line-number">317</span><br><span class="line-number">318</span><br><span class="line-number">319</span><br><span class="line-number">320</span><br><span class="line-number">321</span><br><span class="line-number">322</span><br><span class="line-number">323</span><br><span class="line-number">324</span><br><span class="line-number">325</span><br><span class="line-number">326</span><br><span class="line-number">327</span><br><span class="line-number">328</span><br><span class="line-number">329</span><br><span class="line-number">330</span><br><span class="line-number">331</span><br><span class="line-number">332</span><br><span class="line-number">333</span><br><span class="line-number">334</span><br><span class="line-number">335</span><br><span class="line-number">336</span><br><span class="line-number">337</span><br><span class="line-number">338</span><br><span class="line-number">339</span><br><span class="line-number">340</span><br><span class="line-number">341</span><br><span class="line-number">342</span><br><span class="line-number">343</span><br><span class="line-number">344</span><br><span class="line-number">345</span><br><span class="line-number">346</span><br><span class="line-number">347</span><br><span class="line-number">348</span><br><span class="line-number">349</span><br><span class="line-number">350</span><br><span class="line-number">351</span><br><span class="line-number">352</span><br><span class="line-number">353</span><br><span class="line-number">354</span><br><span class="line-number">355</span><br><span class="line-number">356</span><br><span class="line-number">357</span><br><span class="line-number">358</span><br><span class="line-number">359</span><br><span class="line-number">360</span><br><span class="line-number">361</span><br><span class="line-number">362</span><br><span class="line-number">363</span><br><span class="line-number">364</span><br><span class="line-number">365</span><br><span class="line-number">366</span><br><span class="line-number">367</span><br><span class="line-number">368</span><br><span class="line-number">369</span><br><span class="line-number">370</span><br><span class="line-number">371</span><br><span class="line-number">372</span><br><span class="line-number">373</span><br><span class="line-number">374</span><br><span class="line-number">375</span><br><span class="line-number">376</span><br><span class="line-number">377</span><br><span class="line-number">378</span><br><span class="line-number">379</span><br><span class="line-number">380</span><br><span class="line-number">381</span><br><span class="line-number">382</span><br><span class="line-number">383</span><br><span class="line-number">384</span><br><span class="line-number">385</span><br><span class="line-number">386</span><br><span class="line-number">387</span><br><span class="line-number">388</span><br><span class="line-number">389</span><br><span class="line-number">390</span><br><span class="line-number">391</span><br><span class="line-number">392</span><br><span class="line-number">393</span><br><span class="line-number">394</span><br><span class="line-number">395</span><br><span class="line-number">396</span><br><span class="line-number">397</span><br><span class="line-number">398</span><br><span class="line-number">399</span><br><span class="line-number">400</span><br><span class="line-number">401</span><br><span class="line-number">402</span><br><span class="line-number">403</span><br><span class="line-number">404</span><br><span class="line-number">405</span><br><span class="line-number">406</span><br><span class="line-number">407</span><br><span class="line-number">408</span><br><span class="line-number">409</span><br><span class="line-number">410</span><br><span class="line-number">411</span><br><span class="line-number">412</span><br><span class="line-number">413</span><br><span class="line-number">414</span><br><span class="line-number">415</span><br><span class="line-number">416</span><br><span class="line-number">417</span><br><span class="line-number">418</span><br><span class="line-number">419</span><br><span class="line-number">420</span><br><span class="line-number">421</span><br><span class="line-number">422</span><br><span class="line-number">423</span><br><span class="line-number">424</span><br><span class="line-number">425</span><br><span class="line-number">426</span><br><span class="line-number">427</span><br><span class="line-number">428</span><br><span class="line-number">429</span><br><span class="line-number">430</span><br><span class="line-number">431</span><br><span class="line-number">432</span><br><span class="line-number">433</span><br><span class="line-number">434</span><br><span class="line-number">435</span><br><span class="line-number">436</span><br><span class="line-number">437</span><br><span class="line-number">438</span><br><span class="line-number">439</span><br><span class="line-number">440</span><br><span class="line-number">441</span><br><span class="line-number">442</span><br><span class="line-number">443</span><br><span class="line-number">444</span><br><span class="line-number">445</span><br><span class="line-number">446</span><br><span class="line-number">447</span><br><span class="line-number">448</span><br><span class="line-number">449</span><br><span class="line-number">450</span><br><span class="line-number">451</span><br><span class="line-number">452</span><br><span class="line-number">453</span><br><span class="line-number">454</span><br><span class="line-number">455</span><br><span class="line-number">456</span><br><span class="line-number">457</span><br><span class="line-number">458</span><br><span class="line-number">459</span><br><span class="line-number">460</span><br><span class="line-number">461</span><br><span class="line-number">462</span><br><span class="line-number">463</span><br><span class="line-number">464</span><br><span class="line-number">465</span><br><span class="line-number">466</span><br><span class="line-number">467</span><br><span class="line-number">468</span><br><span class="line-number">469</span><br><span class="line-number">470</span><br><span class="line-number">471</span><br><span class="line-number">472</span><br><span class="line-number">473</span><br><span class="line-number">474</span><br><span class="line-number">475</span><br><span class="line-number">476</span><br><span class="line-number">477</span><br><span class="line-number">478</span><br><span class="line-number">479</span><br><span class="line-number">480</span><br><span class="line-number">481</span><br><span class="line-number">482</span><br><span class="line-number">483</span><br><span class="line-number">484</span><br><span class="line-number">485</span><br><span class="line-number">486</span><br><span class="line-number">487</span><br><span class="line-number">488</span><br><span class="line-number">489</span><br><span class="line-number">490</span><br><span class="line-number">491</span><br><span class="line-number">492</span><br><span class="line-number">493</span><br><span class="line-number">494</span><br><span class="line-number">495</span><br><span class="line-number">496</span><br><span class="line-number">497</span><br><span class="line-number">498</span><br><span class="line-number">499</span><br><span class="line-number">500</span><br><span class="line-number">501</span><br><span class="line-number">502</span><br><span class="line-number">503</span><br><span class="line-number">504</span><br><span class="line-number">505</span><br><span class="line-number">506</span><br><span class="line-number">507</span><br><span class="line-number">508</span><br><span class="line-number">509</span><br><span class="line-number">510</span><br><span class="line-number">511</span><br><span class="line-number">512</span><br><span class="line-number">513</span><br><span class="line-number">514</span><br><span class="line-number">515</span><br><span class="line-number">516</span><br><span class="line-number">517</span><br><span class="line-number">518</span><br><span class="line-number">519</span><br><span class="line-number">520</span><br><span class="line-number">521</span><br><span class="line-number">522</span><br><span class="line-number">523</span><br><span class="line-number">524</span><br><span class="line-number">525</span><br><span class="line-number">526</span><br><span class="line-number">527</span><br><span class="line-number">528</span><br><span class="line-number">529</span><br><span class="line-number">530</span><br><span class="line-number">531</span><br><span class="line-number">532</span><br><span class="line-number">533</span><br><span class="line-number">534</span><br><span class="line-number">535</span><br><span class="line-number">536</span><br><span class="line-number">537</span><br><span class="line-number">538</span><br><span class="line-number">539</span><br><span class="line-number">540</span><br><span class="line-number">541</span><br><span class="line-number">542</span><br><span class="line-number">543</span><br><span class="line-number">544</span><br><span class="line-number">545</span><br><span class="line-number">546</span><br><span class="line-number">547</span><br><span class="line-number">548</span><br><span class="line-number">549</span><br><span class="line-number">550</span><br><span class="line-number">551</span><br><span class="line-number">552</span><br><span class="line-number">553</span><br><span class="line-number">554</span><br><span class="line-number">555</span><br><span class="line-number">556</span><br><span class="line-number">557</span><br><span class="line-number">558</span><br><span class="line-number">559</span><br><span class="line-number">560</span><br><span class="line-number">561</span><br><span class="line-number">562</span><br><span class="line-number">563</span><br><span class="line-number">564</span><br><span class="line-number">565</span><br><span class="line-number">566</span><br><span class="line-number">567</span><br><span class="line-number">568</span><br><span class="line-number">569</span><br></div></div><h3 id="组件封装技巧"><a href="#组件封装技巧" class="header-anchor">#</a> 组件封装技巧</h3> <p>通过分析以上 form 组件和 table 组件，我们可以发现，elements 组件二次封装技巧：</p> <ul><li>熟悉 elements 组件的属性、事件、插槽；</li> <li>在封装的组件中，必须能够透传原组件属性、事件和插槽，通常使用属性透传完成；</li> <li>组件的视图配置和数据配置分离：
<ul><li>视图配置 form 组件的 <code>items</code> 属性和 表格组件的 <code>columns</code> 属性，用于配置组件样式；</li> <li>数据配置  form 组件和表格组件的 <code>data</code>属性 通常决定组件显示的数据内容；</li> <li>通过将视图配置和数据配置分离，可以将接口和视图组件分离；</li></ul></li> <li>自定义扩展的属性和插槽不能影响原组件的属性和插槽</li></ul> <hr> <h2 id="json-配置组件封装"><a href="#json-配置组件封装" class="header-anchor">#</a> JSON 配置组件封装</h2> <h3 id="背景-2"><a href="#背景-2" class="header-anchor">#</a> 背景</h3> <p>通过开发大量后台管理系统发现，在使用单文件组件开发组件时，存在以下问题：</p> <ol><li><p>在开发初期，如果组件粒度拆分不够细，在后期开发中发现已有组件需要二次拆分时候，需要重新创建一个 <code>.vue</code> 单文件组件，并需要将原组件的视图和逻辑拆离，造成工作量大；</p></li> <li><p>使用组件的地方，需要通过 impoer 预先引入组件文件，vue2 中且需要在 components 组件中预先声明使用的组件，导致部分需求无法实现：</p> <ul><li><p>如：现已在其它模块中开发了<code>A、B、C、D....Z</code> 模块的表单，现在 test 模块中需要在同一个弹窗中，根据后端返回的字段，显示不同的弹窗表单内容（弹窗表单内容有N中形式）；</p></li> <li><p>如果使用单文件组件模式，需要预先在 test 模块中引入 <code>A、B、C、D....Z</code> 模块的表单组件，并在 components 属性中声明 <code>A、B、C、D....Z</code> 组件。无法根据后端字段动态加载组件。</p></li></ul></li> <li><p>在不断抽离公共组件后发现，在大量的重复组件中，大量组件差异仅在于逻辑差异，视图几乎相似：</p> <ul><li>如：表格组件中，视图都存在高级搜索项、表头、操作项、分页器，所有的表格差异，仅仅在于数据不同，因此可以将表格组件拆分为固定的视图组件和动态的逻辑组件，视图固定为高级搜索项、表头、操作、分页器，逻辑根据后端数据返回高级搜索项、表头、操作项；</li></ul></li></ol> <p>根据以上问题，我们需要解决组件封装中的两大问题：</p> <ol><li><strong>组件能够动态引入，无需预先 import 导入；</strong></li> <li><strong>将视图组件和逻辑组件拆分管理，统一视图组件，逻辑组件动态变化</strong></li></ol> <p>通过调研发现，<a href="https://github.com/baidu/amis" target="_blank" rel="noopener noreferrer">百度低代码 amis <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 框架实现思想有惊人的相似，通过 json 配置化生成组件模式，能巧妙解决以上两大问题。</p> <h3 id="百度-amis-框架思想"><a href="#百度-amis-框架思想" class="header-anchor">#</a> <strong>百度 amis 框架思想</strong></h3> <h3 id="json-配置组件实现方案"><a href="#json-配置组件实现方案" class="header-anchor">#</a> <strong>JSON 配置组件实现方案</strong></h3> <p>对 elements 的二次封装，首先需要研究 <a href="https://element.eleme.cn/#/zh-CN" target="_blank" rel="noopener noreferrer">elements ui<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 文档，在 elements 组件中，组件主要包含以下部分：</p> <ul><li>组件属性 Attributes</li> <li>组件方法 Methods</li> <li>组件事件Events</li> <li>组件插槽 Slot</li></ul> <p>示例：一个 element <a href="https://element.eleme.cn/#/zh-CN/component/dialog" target="_blank" rel="noopener noreferrer">Dialog 对话框<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 组件包含 Attributes、Slot、Events</p> <p><img src="/myblog/assets/img/组件封装-elements文档.f2b89471.png" alt="image-20231124163005084"></p> <p>因此，一个 element  组件的 json 描述，通常包含以下几个部分：</p> <ul><li><strong>component  组件标签</strong>，如： <code>&lt;el-form &gt;</code> ;</li> <li><strong>attributes 组件属性</strong>；</li> <li><strong>events 组件事件</strong>；</li> <li><strong>slot 组件插槽</strong>：组件插槽内容也是一个组件，即一个组件的 json 描述。</li></ul> <p>根据以上描述，<strong>可以将一个 elements 组件转化为一个 json 描述对象</strong>，该 json 描述对象中包含 组件标签描述、组件属性描述、组件事件描述和组件插槽描述。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>elementOption<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">comp</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 渲染组件名（字符串形式）或组件</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 绑定的响应式数据</span>
  <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 绑定的响应式数据对象的属性名</span>
  <span class="token literal-property property">attr</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 渲染组件的属性</span>
  <span class="token literal-property property">event</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 渲染组件的事件</span>
  <span class="token literal-property property">ref</span><span class="token operator">:</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 渲染组件的实例对象</span>
  <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token punctuation">{</span>  <span class="token comment">// 渲染组件的文本内容</span>
    <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
    <span class="token literal-property property">attr</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">event</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">ref</span><span class="token operator">:</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> 
  <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">comp</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">attr</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">event</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">ref</span><span class="token operator">:</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 渲染组件的子组件</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;component&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 只为Dialog组件服务，用来辨别Dialog内容区所渲染的组件</span>
<span class="token punctuation">}</span>

<span class="token comment">// 注：content属性和children属性只会渲染其中一个，优先children</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>总结：通过对 elements 组件参数进行封装，可以将 elements 组件转化为一个 JSON 对象描述。</p> <h3 id="elements-组件二次封装"><a href="#elements-组件二次封装" class="header-anchor">#</a> <strong>elements 组件二次封装</strong></h3> <p><strong>动态组件</strong></p> <p>在 Vue 中，<a href="https://cn.vuejs.org/api/built-in-special-elements.html#component" target="_blank" rel="noopener noreferrer"><code>&lt;component&gt;</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 可以渲染动态组件或元素的“元组件”。</p> <p>以下引用自vue3官方文档：</p> <blockquote><p><strong><code>&lt;component&gt;</code></strong></p> <ul><li><p><strong>Props</strong></p> <p>ts</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code>interface DynamicComponentProps {
  is: string | Component
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p><strong>详细信息</strong></p> <p>要渲染的实际组件由 <code>is</code> prop 决定。</p> <ul><li>当 <code>is</code> 是字符串，它既可以是 HTML 标签名也可以是组件的注册名。</li> <li>或者，<code>is</code> 也可以直接绑定到组件的定义。</li></ul></li> <li><p><strong>示例</strong></p> <p>按注册名渲染组件 (选项式 API)：</p> <p>vue</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Foo <span class="token keyword">from</span> <span class="token string">'./Foo.vue'</span>
<span class="token keyword">import</span> Bar <span class="token keyword">from</span> <span class="token string">'./Bar.vue'</span>
  
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span> Foo<span class="token punctuation">,</span> Bar <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">view</span><span class="token operator">:</span> <span class="token string">'Foo'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>view<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>按定义渲染组件 (<code>&lt;script setup&gt;</code> 组合式 API)：</p> <p>vue</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Foo <span class="token keyword">from</span> <span class="token string">'./Foo.vue'</span>
<span class="token keyword">import</span> Bar <span class="token keyword">from</span> <span class="token string">'./Bar.vue'</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Math.random() &gt; 0.5 ? Foo : Bar<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>渲染 HTML 元素：</p> <p>template</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>href ? 'a' : 'span'<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><a href="https://cn.vuejs.org/api/built-in-components.html" target="_blank" rel="noopener noreferrer">内置组件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>都可以传递给 <code>is</code>，但是如果想通过名称传递则必须先对其进行注册。举例来说：</p> <p>vue</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> Transition<span class="token punctuation">,</span> TransitionGroup <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
  
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    Transition<span class="token punctuation">,</span>
    TransitionGroup
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>isGroup ? 'TransitionGroup' : 'Transition'<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    ...
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>如果将组件本身传递给 <code>is</code> 而不是其名称，则不需要注册，例如在 <code>&lt;script setup&gt;</code> 中。</p> <p>如果在 <code>&lt;component&gt;</code> 标签上使用 <code>v-model</code>，模板编译器会将其扩展为 <code>modelValue</code> prop 和 <code>update:modelValue</code> 事件监听器，就像对任何其他组件一样。但是，这与原生 HTML 元素不兼容，例如 <code>&lt;input&gt;</code> 或 <code>&lt;select&gt;</code>。因此，在动态创建的原生元素上使用 <code>v-model</code> 将不起作用：</p> <p>vue</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
  
<span class="token keyword">const</span> tag <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> username <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 由于 'input' 是原生 HTML 元素，因此这个 v-model 不起作用 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tag<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>在实践中，这种极端情况并不常见，因为原生表单字段通常包裹在实际应用的组件中。如果确实需要直接使用原生元素，那么你可以手动将 <code>v-model</code> 拆分为 attribute 和事件。</p></li> <li><p><strong>参考</strong><a href="https://cn.vuejs.org/guide/essentials/component-basics.html#dynamic-components" target="_blank" rel="noopener noreferrer">动态组件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ul></blockquote> <p>通过以上官方文档思路可以发现，通过 <code>&lt;component&gt;</code> 标签可以动态渲染任意的 Vue 组件。</p> <p>因此，<strong>通过对 <code>&lt;component&gt;</code> 标签做二次封装，通过 JSON 描述符，可以将渲染任意 Vue 组件</strong>。</p> <p><strong>BasicComponent 组件</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>component
    <span class="token operator">:</span>is<span class="token operator">=</span><span class="token string">&quot;compName&quot;</span>
    v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;value&quot;</span>
    v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">&quot;elementOption.attr&quot;</span>
    v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">&quot;elementOption.event || {}&quot;</span>
    <span class="token operator">:</span>ref<span class="token operator">=</span><span class="token string">&quot;elementOption.ref&quot;</span>
    <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;elementOption.className&quot;</span>
  <span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;elementOption.children &amp;&amp; elementOption.children.length !== 0&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>BasicComponent
        v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;(element, index) of elementOption.children&quot;</span>
        <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;index&quot;</span>
        <span class="token operator">:</span>elementOption<span class="token operator">=</span><span class="token string">&quot;element&quot;</span>
      <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>template v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;elementOption.content&quot;</span><span class="token operator">&gt;</span>
      <span class="token punctuation">{</span><span class="token punctuation">{</span> content <span class="token punctuation">}</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>component<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> toRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> props <span class="token operator">=</span> defineProps<span class="token operator">&lt;</span><span class="token punctuation">{</span>
  <span class="token literal-property property">elementOption</span><span class="token operator">:</span> CompType<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> compName <span class="token operator">=</span>
  <span class="token keyword">typeof</span> props<span class="token punctuation">.</span>elementOption<span class="token punctuation">.</span>comp <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span>
    <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>props<span class="token punctuation">.</span>elementOption<span class="token punctuation">.</span>comp<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token operator">:</span> props<span class="token punctuation">.</span>elementOption<span class="token punctuation">.</span>comp<span class="token punctuation">;</span>

<span class="token comment">/**
 * 依据 elementOption 中 data 属性和 key 属性确定渲染组件的响应数据
 * 1.存在key：响应数据是响应数据对象中的某个属性，需传响应对象 data 和属性名 key
 * 2.不存在key：响应数据类型是除对象类型外的所有类型，但该数据必须是由 ref 或 reactive 包裹形成的响应数据
 */</span>
<span class="token keyword">const</span> value <span class="token operator">=</span>
  props<span class="token punctuation">.</span>elementOption<span class="token punctuation">.</span>data <span class="token operator">&amp;&amp;</span> props<span class="token punctuation">.</span>elementOption<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">)</span>
    <span class="token operator">?</span> <span class="token function">toRef</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>elementOption<span class="token punctuation">.</span>data<span class="token punctuation">,</span> props<span class="token punctuation">.</span>elementOption<span class="token punctuation">.</span>key <span class="token keyword">as</span> string<span class="token punctuation">)</span>
    <span class="token operator">:</span> props<span class="token punctuation">.</span>elementOption<span class="token punctuation">.</span>data<span class="token punctuation">;</span>

<span class="token comment">/**
 * 依据 elementOption 中 content 属性的 text 属性和 key 属性确定渲染组件的渲染文本内容
 * 1.存在key：渲染文本内容是响应数据对象中的某个属性，需传响应对象 data 和属性名 key
 * 2.不存在key：渲染文本内容类型是除对象类型外的所有类型，但该数据必须是由 ref 或 reactive 包裹形成的响应数据
 */</span>
<span class="token keyword">const</span> content <span class="token operator">=</span>
  props<span class="token punctuation">.</span>elementOption<span class="token punctuation">.</span>content <span class="token operator">&amp;&amp;</span> props<span class="token punctuation">.</span>elementOption<span class="token punctuation">.</span>content<span class="token operator">?.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">)</span>
    <span class="token operator">?</span> <span class="token function">toRef</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>elementOption<span class="token punctuation">.</span>content<span class="token punctuation">.</span>text<span class="token punctuation">,</span> props<span class="token punctuation">.</span>elementOption<span class="token punctuation">.</span>content<span class="token punctuation">.</span>key <span class="token keyword">as</span> string<span class="token punctuation">)</span>
    <span class="token operator">:</span> props<span class="token punctuation">.</span>elementOption<span class="token punctuation">.</span>content<span class="token operator">?.</span>text<span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style scoped lang<span class="token operator">=</span><span class="token string">&quot;less&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br></div></div><ul><li><p>特性</p> <ol><li>通用性强，可设置<code>comp</code>对象属性<code>component</code>的值为原生HTML元素或Element-plus的字符串形式和自定义组件来渲染</li> <li>采用了递归的方法，可以依据渲染数据对象进行循环渲染</li></ol></li> <li><p>参数<code>json</code>格式</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>elementOption<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">comp</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 渲染组件名（字符串形式）或组件</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 绑定的响应式数据</span>
  <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 绑定的响应式数据对象的属性名</span>
  <span class="token literal-property property">attr</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 渲染组件的属性</span>
  <span class="token literal-property property">event</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 渲染组件的事件</span>
  <span class="token literal-property property">ref</span><span class="token operator">:</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 渲染组件的实例对象</span>
  <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token punctuation">{</span>  <span class="token comment">// 渲染组件的文本内容</span>
    <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
    <span class="token literal-property property">attr</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">event</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">ref</span><span class="token operator">:</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> 
  <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">comp</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">attr</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">event</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">ref</span><span class="token operator">:</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 渲染组件的子组件</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;component&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 只为Dialog组件服务，用来辨别Dialog内容区所渲染的组件</span>
<span class="token punctuation">}</span>

<span class="token comment">// 注：content属性和children属性只会渲染其中一个，优先children</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div></li></ul> <h3 id="业务组件封装"><a href="#业务组件封装" class="header-anchor">#</a> <strong>业务组件封装</strong></h3> <p><strong>设计思路</strong></p> <p><img src="/myblog/assets/img/JSON组件.72fb13b5.png" alt="JSON组件"></p> <p>一个业务组件，是对基础组件的二次封装，可以将业务组件拆分为以下几个部分：</p> <ul><li>视图组件 JSON 对象：描述视图有哪些组件组成的 JSON 对象；</li> <li>业务逻辑 JSON 对象：描述组件的逻辑，包括组件事件描述，组件对象描述；</li> <li>服务端数据 JSON 对象： 渲染组件数据内容，通过数据动态渲染组件内容；</li></ul> <p>业务逻辑组件通过对以上 JSON 对象处理，生成 业务组件 JSON，然后通过业务 JSON 对象传递给 elements 组件，elements 组件中底层使用 elements 组件和 component 标签 组件解析 JSON 对象，生成最终的业务组件 。</p> <h3 id="组件封装示例"><a href="#组件封装示例" class="header-anchor">#</a> <strong>组件封装示例</strong></h3> <p>开发一个 JSON 组件，一般流程为：</p> <ol><li>分析需求，拆分组件；</li> <li>分析数据结构，拆分数据和视图，将数据渲染内容抽离出来，交给后端存储处理；</li> <li>封装 elements 组件；</li> <li>封装业务视图组件；</li> <li>处理后端数据和视图 JSON，生成组件 JSON;</li></ol> <p>下面以开发一个描述列表组件为示例，讲解如何使用 JSON 组件开发业务组件：</p> <blockquote><p>需求：现需要开发一个页面，页面显示字段和值，字段和值可能会动态变化，并且能够编辑字段值</p></blockquote> <h4 id="第一步-需求分析"><a href="#第一步-需求分析" class="header-anchor">#</a> <strong>第一步：需求分析</strong></h4> <ul><li>页面能够显示字段和值，应该选用描述列表组件: <a href="https://element-plus.org/zh-CN/component/descriptions.html" target="_blank" rel="noopener noreferrer"><code>&lt;el-descriptions /&gt;</code> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>；</li> <li>字段和值能够动态变化，则字段和值都应该由后端数据库管理，根据接口返回字段和值动态渲染；</li> <li>能够编辑字段值，则字段值需要有组件能够动态支持更新，组件类型可能是下拉选择，输入框等，因此需要将 form 所有组件预先定义，然后根据后端字段动态渲染对应组件</li></ul> <h4 id="页面设计"><a href="#页面设计" class="header-anchor">#</a> <strong>页面设计</strong></h4> <p><img src="/myblog/assets/img/组件设计.24a7e8a3.png" alt="image-20231127105042956"></p> <blockquote><p>通过需求分析，将组件设计成以上样式：</p> <ul><li>将多个模块分块，一个模块一个描述列表表示；</li> <li>组件值可以通过编辑转成各种组件，对描述列表值的控制；</li></ul></blockquote> <p><strong>第二步：接口设计</strong></p> <p>根据以上需求分析可知，后端动态控制的字段有如下：</p> <ul><li>描述列表分块、标题</li> <li>描述列表字段和值，各字段对应组件类型、组件值</li></ul> <p>因此，后端数据结构可以设计为：</p> <p><img src="/myblog/assets/img/组件设计1.149e371e.png" alt="image-20231127105849291"></p> <blockquote><p>用一个二维数组表示描述列表内容：</p> <ul><li>第一维：表示描述列表的分块；</li> <li>第二维：表示每个字段的控制，包括 字段id、字段名称、字段值、权限控制、字段组件</li></ul></blockquote> <h4 id="第三步-封装-descriptions-描述列表-描述组件"><a href="#第三步-封装-descriptions-描述列表-描述组件" class="header-anchor">#</a> <strong>第三步：封装 <a href="https://element-plus.org/zh-CN/component/descriptions.html" target="_blank" rel="noopener noreferrer">Descriptions 描述列表<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 描述组件</strong></h4> <p>二次封装 <a href="https://element-plus.org/zh-CN/component/descriptions.html" target="_blank" rel="noopener noreferrer">Descriptions 描述 列表<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 组件组件目的：</p> <ul><li><p>JSON 配置化：将组件转化为 JSON 配置化对象，通过 JSON 配置模式生成组件样式；</p></li> <li><p>分离视图和数据：将组件样式 JSON 和数据 JSON 分离，达到样式 JSON 由前端定义控制，数据后端保存控制；</p></li></ul> <p>要封装一个 elements 描述组件的 JSON 组件，首先需要熟悉 <a href="https://element-plus.org/zh-CN/component/descriptions.html" target="_blank" rel="noopener noreferrer">Descriptions 描述列表<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 组件，在组件封装时，需要注意：</p> <ul><li>二次封装的组件需要能将 descriptions 组件 属性、事件和插槽能透传到 原生组件；</li> <li>注意将插槽转化为 JSON 配置模式，插槽可以是任意组件，插槽内容可以使用自定义组件 <code>BasicComponent</code></li></ul> <p>代码实现:</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-descriptions</span>
    <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>descriptionsOption.attr<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">v-on</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>descriptionsOption.event || {}<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">:ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>descriptionsOption.ref<span class="token punctuation">&quot;</span></span>
  <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#title</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>descriptionsOption.titleSlotName || descriptionsOption.titleSlotConfig<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>descriptionsOption.titleSlotConfig<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BasicComponent</span> <span class="token attr-name">:elementOption</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>descriptionsOption.titleSlotConfig<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>descriptionsOption.titleSlotName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>descriptionsOption.titleSlotName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#extra</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>descriptionsOption.extraSlotName || descriptionsOption.extraSlotConfig<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>descriptionsOption.extraSlotConfig<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BasicComponent</span> <span class="token attr-name">:elementOption</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>descriptionsOption.extraSlotConfig<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>descriptionsOption.extraSlotName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>descriptionsOption.extraSlotName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-descriptions-item</span>
      <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(descriptionsItem, index) of descriptionsOption.itemArr<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index + `${descriptionsItem.attr?.label}`<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>descriptionsItem.attr<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">v-on</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>descriptionsItem.event || {}<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#label</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>descriptionsItem.labelSlotName || descriptionsItem.labelSlotConfig<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>descriptionsItem.labelSlotConfig<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BasicComponent</span> <span class="token attr-name">:elementOption</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>descriptionsItem.labelSlotConfig<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>descriptionsItem.labelSlotName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>descriptionsItem.labelSlotName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#default</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BasicComponent</span>
          <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>descriptionsItem.defaultSlotConfig<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:elementOption</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>descriptionsItem.defaultSlotConfig<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span>
          <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>descriptionsItem.defaultSlotName<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>descriptionsItem.defaultSlotName<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-descriptions-item</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-descriptions</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> type <span class="token punctuation">{</span> DescriptionsType <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../type&quot;</span><span class="token punctuation">;</span>

  defineProps<span class="token operator">&lt;</span><span class="token punctuation">{</span>
    <span class="token literal-property property">descriptionsOption</span><span class="token operator">:</span> DescriptionsType<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.el-input__wrapper</span><span class="token punctuation">{</span>
  <span class="token property">flex-grow</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br></div></div><blockquote><p>descriptionsOption 类型定义：</p> <div class="language-tsx line-numbers-mode"><pre class="language-tsx"><code><span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> Ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">DescriptionsType</span> <span class="token punctuation">{</span>
  attr<span class="token operator">?</span><span class="token operator">:</span> Recordable<span class="token punctuation">;</span> <span class="token comment">// 属性对象</span>
  event<span class="token operator">?</span><span class="token operator">:</span> Recordable<span class="token punctuation">;</span> <span class="token comment">// 事件对象</span>
  ref<span class="token operator">?</span><span class="token operator">:</span> Ref<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// 实例引用</span>
  itemArr<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span>DescriptionsItemType<span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// 子组件列表</span>
  titleSlotConfig<span class="token operator">?</span><span class="token operator">:</span> CompType<span class="token punctuation">;</span> <span class="token comment">// 描述列表标题插槽配置对象（使用配置对象方式生成插槽组件）</span>
  titleSlotName<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 描述列表标题插槽名称（使用模板插入插槽方式）</span>
  extraSlotConfig<span class="token operator">?</span><span class="token operator">:</span> CompType<span class="token punctuation">;</span> <span class="token comment">// 	自定义操作区配置对象，显示在右上方</span>
  extraSlotName<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 	自定义操作区插槽名称，显示在右上方</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">DescriptionsItemType</span> <span class="token punctuation">{</span>
  attr<span class="token operator">?</span><span class="token operator">:</span> Recordable<span class="token punctuation">;</span>
  event<span class="token operator">?</span><span class="token operator">:</span> Recordable<span class="token punctuation">;</span>
  labelSlotName<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  <span class="token comment">// 自定义标签插槽名称</span>
  labelSlotConfig<span class="token operator">?</span><span class="token operator">:</span> CompType<span class="token punctuation">;</span> <span class="token comment">// 自定义标签配置对象</span>
  defaultSlotConfig<span class="token operator">?</span><span class="token operator">:</span> CompType<span class="token punctuation">;</span>  <span class="token comment">// 默认插槽配置对象</span>
  defaultSlotName<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// 默认插槽名称</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div></blockquote> <h4 id="第四步-封装业务视图组件"><a href="#第四步-封装业务视图组件" class="header-anchor">#</a> <strong>第四步：封装业务视图组件</strong></h4> <p>根据以上需求，描述列表值是动态组件，需要根据后端字段组件类型动态渲染组件，因此需要对描述列表做二次封装。</p> <p>该业务逻辑组件需要处理后端返回的数据结构，根据后端数据，生成描述列表 JSON 对象，再将 JSON 对象传入 <code>BasicComponent</code>组件，将 JSON 渲染成描述列表组件</p> <blockquote><p>该组件主要逻辑为：</p> <ol><li>处理后端数据结构：解析后端数据，解析动态组件添加事件，参数等；</li> <li>定义描述列表 JSON 结构和动态组件 JSON 结构；</li> <li>根据解析的后端数据，传入描述列表JSON结构和动态组件JSON，最终生成组件JSON；</li> <li>将组件 JSON 传入 <code>BasicComponent</code> 组件渲染；</li></ol></blockquote> <ul><li><p>封装业务逻辑组件，用于处理后端数据生成组件 JSON:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> BasicForm <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/components/Form&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> renderFormComponent <span class="token keyword">from</span> <span class="token string">&quot;./FormComponents&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> s <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;$locale&quot;</span><span class="token punctuation">;</span>



<span class="token comment">/**
 *  处理数据，为每一个描述列表项的数据对象增加相关表的table_id和table_name
 * @param {Recordable} description 单独一个描述列表的数据对象
 * @return {*}
 */</span>
<span class="token keyword">function</span> <span class="token function">handleData</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">description</span><span class="token operator">:</span> Recordable</span><span class="token punctuation">)</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>Recordable<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  description<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">descriptionItem</span><span class="token operator">:</span> Recordable</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    descriptionItem<span class="token punctuation">[</span><span class="token string">&quot;table_name&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> description<span class="token punctuation">.</span>table_name<span class="token punctuation">;</span>
    descriptionItem<span class="token punctuation">[</span><span class="token string">&quot;table_id&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> description<span class="token punctuation">.</span>table_id<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> description<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * 返回描述列表编辑按钮的渲染配置对象
 * @param {Boolean} isEdit
 * @param {Function} submitFun
 * @return {*} 描述列表编辑按钮的渲染配置对象
 */</span>
<span class="token keyword">function</span> <span class="token function">renderExtra</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">descriptions</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>Recordable<span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token literal-property property">submitFun</span><span class="token operator">:</span> Function<span class="token punctuation">,</span> <span class="token literal-property property">params</span><span class="token operator">:</span> any<span class="token punctuation">,</span> component<span class="token operator">?</span><span class="token operator">:</span> Function</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> component <span class="token operator">?</span> <span class="token function">component</span><span class="token punctuation">(</span>descriptions<span class="token punctuation">,</span> submitFun<span class="token punctuation">,</span> params<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">comp</span><span class="token operator">:</span> <span class="token string">&quot;el-button&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">attr</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">cursor</span><span class="token operator">:</span> <span class="token string">&quot;pointer&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">event</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function-variable function">click</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">submitFun</span><span class="token punctuation">(</span>descriptions<span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">comp</span><span class="token operator">:</span> <span class="token string">&quot;span&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token function">s</span><span class="token punctuation">(</span>params<span class="token operator">?.</span>subName <span class="token operator">?</span> params<span class="token punctuation">.</span>subName <span class="token operator">:</span> <span class="token string">&quot;提交&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">/**
 * 返回描述列表项内容的编辑按钮的渲染配置对象
 * @param {Recordable} descriptionItem
 * @param {Recordable} descriptionItemObj
 * @return {*}  {Recordable}
 */</span>
<span class="token keyword">function</span> <span class="token function">renderDescriptionItemDefaultEditComp</span><span class="token punctuation">(</span>
  <span class="token literal-property property">descriptionItem</span><span class="token operator">:</span> Recordable<span class="token punctuation">,</span>
  <span class="token literal-property property">descriptionItemObj</span><span class="token operator">:</span> Recordable<span class="token punctuation">,</span>
  selectList<span class="token operator">?</span><span class="token operator">:</span> any<span class="token punctuation">,</span>
  events<span class="token operator">?</span><span class="token operator">:</span> any<span class="token punctuation">,</span><span class="token comment">//组件事件集合</span>
  params<span class="token operator">?</span><span class="token operator">:</span> any
<span class="token punctuation">)</span><span class="token operator">:</span> Recordable <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>descriptionItem<span class="token punctuation">.</span>isEdit <span class="token operator">||</span> <span class="token function">Number</span><span class="token punctuation">(</span>descriptionItem<span class="token punctuation">.</span>isEdit<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">comp</span><span class="token operator">:</span> BasicForm<span class="token punctuation">,</span>
    <span class="token literal-property property">attr</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">formOption</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">mode</span><span class="token operator">:</span> descriptionItemObj<span class="token punctuation">,</span>
        <span class="token literal-property property">itemArr</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
              <span class="token literal-property property">span</span><span class="token operator">:</span> <span class="token number">24</span><span class="token punctuation">,</span>
              <span class="token literal-property property">attr</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">prop</span><span class="token operator">:</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                  <span class="token string-property property">&quot;margin-bottom&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0px&quot;</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token literal-property property">required</span><span class="token operator">:</span> descriptionItem<span class="token punctuation">.</span>require <span class="token operator">||</span> descriptionItem<span class="token punctuation">.</span>require <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token string-property property">&quot;show-message&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token literal-property property">component</span><span class="token operator">:</span> <span class="token function">renderFormComponent</span><span class="token punctuation">(</span>descriptionItem<span class="token punctuation">.</span>type<span class="token punctuation">,</span> <span class="token punctuation">{</span> selectList<span class="token punctuation">,</span> descriptionItem<span class="token punctuation">,</span> events<span class="token punctuation">,</span> params <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>

          <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * 返回描述列表项内容的渲染配置对象
 * @param {Recordable} descriptionItem
 * @return {*} 描述列表项内容的渲染配置对象
 */</span>
<span class="token keyword">function</span> <span class="token function">renderDescriptionItemDefault</span><span class="token punctuation">(</span>
  <span class="token literal-property property">descriptionItem</span><span class="token operator">:</span> Recordable<span class="token punctuation">,</span>
  selectList<span class="token operator">?</span><span class="token operator">:</span> any<span class="token punctuation">,</span>
  events<span class="token operator">?</span><span class="token operator">:</span> any<span class="token punctuation">,</span> <span class="token comment">//组件事件集合</span>
  params<span class="token operator">?</span><span class="token operator">:</span> any
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> descriptionItemObj <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span>descriptionItem<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">comp</span><span class="token operator">:</span> <span class="token string">&quot;div&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token function">renderDescriptionItemDefaultEditComp</span><span class="token punctuation">(</span>descriptionItem<span class="token punctuation">,</span> descriptionItemObj<span class="token punctuation">,</span> selectList<span class="token punctuation">,</span> events<span class="token punctuation">,</span> params<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// }</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * 返回描述列表项的渲染配置对象数组
 * @param {Array&lt;Recordable&gt;} descriptionItems
 * @return {Array&lt;{*}&gt;} 描述列表项的渲染配置对象数组
 */</span>
<span class="token keyword">function</span> <span class="token function">renderDescriptionItem</span><span class="token punctuation">(</span>
  descriptionItems<span class="token operator">?</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>Recordable<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  selectList<span class="token operator">?</span><span class="token operator">:</span> any<span class="token punctuation">,</span>
  events<span class="token operator">?</span><span class="token operator">:</span> any<span class="token punctuation">,</span> <span class="token comment">//组件事件集合</span>
  params<span class="token operator">?</span><span class="token operator">:</span> any
<span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> descriptionItems <span class="token operator">===</span> <span class="token string">&quot;undefined&quot;</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> descriptionItems<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">descriptionItem</span><span class="token operator">:</span> Recordable</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">attr</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">label</span><span class="token operator">:</span> descriptionItem<span class="token punctuation">.</span>field_name <span class="token operator">||</span> descriptionItem<span class="token punctuation">.</span>fieldName<span class="token punctuation">,</span>
        <span class="token literal-property property">span</span><span class="token operator">:</span> descriptionItem<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">'textarea'</span> <span class="token operator">?</span> <span class="token number">4</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">defaultSlotConfig</span><span class="token operator">:</span> <span class="token function">renderDescriptionItemDefault</span><span class="token punctuation">(</span>descriptionItem<span class="token punctuation">,</span> selectList<span class="token punctuation">,</span> events<span class="token punctuation">,</span> params<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//描述列表内容对象</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * 返回一个描述列表的渲染配置对象
 * @export
 * @param {Recordable} description  描述列表的数据内容对象
 * @param {String} title  描述列表的标题
 * @param {Function} submitFun 启用描述列表进行编辑的函数，通常是对  进行取反
 * @return {*}
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">renderDescriptionEdit</span><span class="token punctuation">(</span>
  <span class="token literal-property property">descriptions</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>Recordable<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">description</span><span class="token operator">:</span> Recordable<span class="token punctuation">,</span>
  <span class="token literal-property property">selectList</span><span class="token operator">:</span> any<span class="token punctuation">,</span>
  <span class="token literal-property property">index</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>
  <span class="token literal-property property">submitFun</span><span class="token operator">:</span> Function<span class="token punctuation">,</span>
  events<span class="token operator">?</span><span class="token operator">:</span> any<span class="token punctuation">,</span> <span class="token comment">//组件事件集合</span>
  params<span class="token operator">?</span><span class="token operator">:</span> any<span class="token punctuation">,</span>
  component<span class="token operator">?</span><span class="token operator">:</span> Function
<span class="token punctuation">)</span> <span class="token punctuation">{</span>


  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">attr</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">title</span><span class="token operator">:</span> description<span class="token punctuation">.</span>title<span class="token punctuation">,</span>
      <span class="token literal-property property">column</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
      <span class="token literal-property property">border</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">extraSlotConfig</span><span class="token operator">:</span> index <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token function">renderExtra</span><span class="token punctuation">(</span>descriptions<span class="token punctuation">,</span> submitFun<span class="token punctuation">,</span> params<span class="token punctuation">,</span> component<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">//渲染提交按钮插槽</span>
    <span class="token literal-property property">itemArr</span><span class="token operator">:</span> <span class="token function">renderDescriptionItem</span><span class="token punctuation">(</span><span class="token function">handleData</span><span class="token punctuation">(</span>description<span class="token punctuation">)</span><span class="token punctuation">,</span> selectList<span class="token punctuation">,</span> events<span class="token punctuation">,</span> params<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//渲染描述列表内容</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * 返回多个描述列表的渲染配置对象数组
 * @export
 * @param {Array&lt;Recordable&gt;} descriptions
 * @param {Recordable} titles (命名格式：{ &lt;table_name&gt;: &quot;&quot; })
 * @param {JudgeType} judges  (命名格式：{ &lt;table_name&gt;: Ref&lt;Boolean&gt; })
 * @param {Function} submitFuns (命名格式：{ &lt;table_name&gt;: Function })
 * @return {*}
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">renderDescriptionEditArr</span><span class="token punctuation">(</span>
  <span class="token literal-property property">descriptions</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>Recordable<span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token comment">//描述列表数据对象</span>
  <span class="token literal-property property">submitFun</span><span class="token operator">:</span> Function<span class="token punctuation">,</span> <span class="token comment">//提交按钮事件</span>
  selectList<span class="token operator">?</span><span class="token operator">:</span> any<span class="token punctuation">,</span> <span class="token comment">//下拉选项集合</span>
  events<span class="token operator">?</span><span class="token operator">:</span> any<span class="token punctuation">,</span> <span class="token comment">//组件事件集合</span>
  params<span class="token operator">?</span><span class="token operator">:</span> any<span class="token punctuation">,</span>
  component<span class="token operator">?</span><span class="token operator">:</span> Function
<span class="token punctuation">)</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>Recordable<span class="token operator">&gt;</span> <span class="token punctuation">{</span>


  <span class="token keyword">return</span> descriptions
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">description</span><span class="token operator">:</span> Recordable<span class="token punctuation">,</span> <span class="token literal-property property">index</span><span class="token operator">:</span> Number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>description<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">&quot;data&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token function">renderDescriptionEdit</span><span class="token punctuation">(</span>
        descriptions<span class="token punctuation">,</span>
        description<span class="token punctuation">,</span>
        selectList<span class="token punctuation">,</span>

        index<span class="token punctuation">,</span>
        submitFun<span class="token punctuation">,</span>
        events<span class="token punctuation">,</span>
        params<span class="token punctuation">,</span>
        component
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">item</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> item<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">&quot;itemArr&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br></div></div></li> <li><p>动态组件 JSON 生成：(根据后端 type 字段，动态生成描述列表值对应的组件)</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> BasicUpload <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/components/Upload&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> RemoteSearch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/components/RemoteSearch&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> remoteSearch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/api/admin/mnt&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> isEmpty <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/utils/is&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> formComponents <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//文本输入框</span>
  <span class="token function-variable function">input</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">options</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> descriptionItem <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> events <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token operator">=</span> options<span class="token punctuation">;</span>
    <span class="token keyword">const</span> attr <span class="token operator">=</span> options<span class="token punctuation">.</span>descriptionItem<span class="token operator">?.</span>attr <span class="token operator">||</span> options<span class="token punctuation">.</span>params<span class="token operator">?.</span>attr <span class="token operator">||</span> <span class="token punctuation">{</span> <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token string">&quot;default&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">comp</span><span class="token operator">:</span> <span class="token string">&quot;el-input&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">attr</span><span class="token operator">:</span> attr<span class="token punctuation">,</span>
      <span class="token literal-property property">event</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">click</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">const</span> id <span class="token operator">=</span> descriptionItem<span class="token operator">?.</span>bName <span class="token operator">??</span> descriptionItem<span class="token operator">?.</span>fieldId<span class="token punctuation">;</span>
          <span class="token keyword">const</span> e <span class="token operator">=</span> <span class="token function">isEmpty</span><span class="token punctuation">(</span>events<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token keyword">null</span> <span class="token operator">:</span> events<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">?.</span>click<span class="token punctuation">;</span>
          <span class="token keyword">return</span> e <span class="token operator">&amp;&amp;</span> <span class="token function">e</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//多文本输入框</span>
  <span class="token function-variable function">textarea</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">options</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> attr <span class="token operator">=</span> options<span class="token punctuation">.</span>descriptionItem<span class="token operator">?.</span>attr <span class="token operator">||</span>
      options<span class="token punctuation">.</span>params<span class="token operator">?.</span>attr <span class="token operator">||</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token string">&quot;default&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;textarea&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">comp</span><span class="token operator">:</span> <span class="token string">&quot;el-input&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">attr</span><span class="token operator">:</span> attr<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//数字输入框</span>
  <span class="token function-variable function">number</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">options</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> attr <span class="token operator">=</span> options<span class="token punctuation">.</span>descriptionItem<span class="token operator">?.</span>attr <span class="token operator">||</span> options<span class="token punctuation">.</span>params<span class="token operator">?.</span>attr <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">comp</span><span class="token operator">:</span> <span class="token string">&quot;el-input-number&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">attr</span><span class="token operator">:</span> attr<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//下拉选择器-单选</span>
  <span class="token function-variable function">select</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">options</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> selectList <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> descriptionItem <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> events <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token operator">=</span> options<span class="token punctuation">;</span>
    <span class="token keyword">const</span> attr <span class="token operator">=</span> options<span class="token punctuation">.</span>descriptionItem<span class="token operator">?.</span>attr <span class="token operator">||</span> options<span class="token punctuation">.</span>params<span class="token operator">?.</span>attr <span class="token operator">||</span> <span class="token punctuation">{</span> <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token string">&quot;default&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">// selectList 为外部传入下拉选项，如果外部传入下拉选项，则使用外部传入，否则使用服务端返回的描述对象中 options 选项</span>
    <span class="token keyword">const</span> opt <span class="token operator">=</span>
      <span class="token operator">!</span>descriptionItem<span class="token operator">?.</span>options <span class="token operator">||</span> <span class="token function">isEmpty</span><span class="token punctuation">(</span>descriptionItem<span class="token operator">?.</span>options<span class="token punctuation">)</span>
        <span class="token operator">?</span> selectList <span class="token operator">&amp;&amp;</span> selectList<span class="token punctuation">[</span>descriptionItem<span class="token operator">?.</span>fieldName<span class="token punctuation">]</span>
        <span class="token operator">:</span> descriptionItem<span class="token operator">?.</span>options<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">comp</span><span class="token operator">:</span> <span class="token string">&quot;el-select&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">attr</span><span class="token operator">:</span> attr<span class="token punctuation">,</span>
      <span class="token literal-property property">event</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">change</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">$event</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">const</span> id <span class="token operator">=</span> descriptionItem<span class="token operator">?.</span>bName <span class="token operator">??</span> descriptionItem<span class="token operator">?.</span>fieldId<span class="token punctuation">;</span>
          <span class="token keyword">const</span> e <span class="token operator">=</span> <span class="token function">isEmpty</span><span class="token punctuation">(</span>events<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token keyword">null</span> <span class="token operator">:</span> events<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">?.</span>change<span class="token punctuation">;</span>
          <span class="token keyword">return</span> e <span class="token operator">&amp;&amp;</span> <span class="token function">e</span><span class="token punctuation">(</span>$event<span class="token punctuation">,</span> descriptionItem<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">children</span><span class="token operator">:</span> opt<span class="token operator">?.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">item</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">comp</span><span class="token operator">:</span> <span class="token string">&quot;el-option&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">attr</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">label</span><span class="token operator">:</span> item<span class="token operator">?.</span>label<span class="token punctuation">,</span>
            <span class="token literal-property property">value</span><span class="token operator">:</span> item<span class="token operator">?.</span>value<span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>

          <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">text</span><span class="token operator">:</span> item<span class="token operator">?.</span>label<span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//下拉选择器-多选</span>
  <span class="token function-variable function">multiselect</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">options</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> attr <span class="token operator">=</span> options<span class="token punctuation">.</span>descriptionItem<span class="token operator">?.</span>attr <span class="token operator">||</span>
      options<span class="token punctuation">.</span>params<span class="token operator">?.</span>attr <span class="token operator">||</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token string">&quot;default&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">multiple</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> selectList <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> descriptionItem <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> events <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token operator">=</span> options<span class="token punctuation">;</span>
    <span class="token comment">// selectList 为外部传入下拉选项，如果外部传入下拉选项，则使用外部传入，否则使用服务端返回的描述对象中 options 选项</span>
    <span class="token keyword">const</span> opt <span class="token operator">=</span>
      <span class="token operator">!</span>descriptionItem<span class="token operator">?.</span>options <span class="token operator">||</span> <span class="token function">isEmpty</span><span class="token punctuation">(</span>descriptionItem<span class="token operator">?.</span>options<span class="token punctuation">)</span>
        <span class="token operator">?</span> selectList <span class="token operator">&amp;&amp;</span> selectList<span class="token punctuation">[</span>descriptionItem<span class="token operator">?.</span>fieldName<span class="token punctuation">]</span>
        <span class="token operator">:</span> descriptionItem<span class="token operator">?.</span>options<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">comp</span><span class="token operator">:</span> <span class="token string">&quot;el-select&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">attr</span><span class="token operator">:</span> attr<span class="token punctuation">,</span>
      <span class="token literal-property property">event</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">change</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">$event</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">const</span> id <span class="token operator">=</span> descriptionItem<span class="token operator">?.</span>bName <span class="token operator">??</span> descriptionItem<span class="token operator">?.</span>fieldId<span class="token punctuation">;</span>
          <span class="token keyword">const</span> e <span class="token operator">=</span> <span class="token function">isEmpty</span><span class="token punctuation">(</span>events<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token keyword">null</span> <span class="token operator">:</span> events<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">?.</span>change<span class="token punctuation">;</span>
          <span class="token keyword">return</span> e <span class="token operator">&amp;&amp;</span> <span class="token function">e</span><span class="token punctuation">(</span>$event<span class="token punctuation">,</span> descriptionItem<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">children</span><span class="token operator">:</span> opt<span class="token operator">?.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">item</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">comp</span><span class="token operator">:</span> <span class="token string">&quot;el-option&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">attr</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">label</span><span class="token operator">:</span> item<span class="token punctuation">.</span>label<span class="token punctuation">,</span>
            <span class="token literal-property property">value</span><span class="token operator">:</span> item<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>

          <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">text</span><span class="token operator">:</span> item<span class="token punctuation">.</span>label<span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//下拉选择器-级联</span>
  <span class="token function-variable function">cascader</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">options</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> selectList <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> descriptionItem <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> events <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token operator">=</span> options<span class="token punctuation">;</span>
    <span class="token keyword">const</span> prpos <span class="token operator">=</span> options<span class="token punctuation">.</span>descriptionItem<span class="token operator">?.</span>attr<span class="token operator">?.</span>prpos <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">// selectList 为外部传入下拉选项，如果外部传入下拉选项，则使用外部传入，否则使用服务端返回的描述对象中 options 选项</span>
    <span class="token keyword">const</span> opt <span class="token operator">=</span> <span class="token function">isEmpty</span><span class="token punctuation">(</span>selectList<span class="token punctuation">)</span>
      <span class="token operator">?</span> selectList<span class="token punctuation">.</span>value<span class="token punctuation">[</span>descriptionItem<span class="token operator">?.</span>fieldName<span class="token punctuation">]</span>
      <span class="token operator">:</span> descriptionItem<span class="token operator">?.</span>options<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">comp</span><span class="token operator">:</span> <span class="token string">&quot;el-cascader&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">attr</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">props</span><span class="token operator">:</span> prpos<span class="token punctuation">,</span>
        <span class="token literal-property property">options</span><span class="token operator">:</span> opt<span class="token operator">?.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">item</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">comp</span><span class="token operator">:</span> <span class="token string">&quot;el-option&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">attr</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">label</span><span class="token operator">:</span> item<span class="token punctuation">.</span>label<span class="token punctuation">,</span>
              <span class="token literal-property property">value</span><span class="token operator">:</span> item<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>

            <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">text</span><span class="token operator">:</span> item<span class="token punctuation">.</span>label<span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">event</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">change</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">$event</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">const</span> e <span class="token operator">=</span> <span class="token function">isEmpty</span><span class="token punctuation">(</span>events<span class="token punctuation">)</span> <span class="token operator">?</span> events<span class="token punctuation">[</span>descriptionItem<span class="token operator">?.</span>fieldName<span class="token punctuation">]</span><span class="token operator">?.</span>change <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span> e <span class="token operator">&amp;&amp;</span> <span class="token function">e</span><span class="token punctuation">(</span>$event<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//远程搜索</span>
  <span class="token function-variable function">remotesearchselector</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">options</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> descriptionItem <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> events <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token operator">=</span> options<span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> data <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> attr <span class="token operator">=</span> <span class="token keyword">null</span> <span class="token punctuation">}</span> <span class="token operator">=</span> options<span class="token operator">?.</span>params<span class="token operator">?.</span>remotesearchselector <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> type_extra <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>descriptionItem<span class="token operator">?.</span>type_extra <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">comp</span><span class="token operator">:</span> RemoteSearch<span class="token punctuation">,</span>
      <span class="token literal-property property">attr</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token string">&quot;default&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">attr</span><span class="token operator">:</span> attr<span class="token punctuation">,</span>
          <span class="token literal-property property">params</span><span class="token operator">:</span> type_extra<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//单选</span>
  <span class="token function-variable function">radio</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">options</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> selectList <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> descriptionItem <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> events <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token operator">=</span> options<span class="token punctuation">;</span>

    <span class="token comment">// selectList 为外部传入下拉选项，如果外部传入下拉选项，则使用外部传入，否则使用服务端返回的描述对象中 options 选项</span>
    <span class="token keyword">const</span> opt <span class="token operator">=</span> <span class="token function">isEmpty</span><span class="token punctuation">(</span>selectList<span class="token punctuation">)</span>
      <span class="token operator">?</span> selectList<span class="token punctuation">.</span>value<span class="token punctuation">[</span>descriptionItem<span class="token operator">?.</span>fieldName<span class="token punctuation">]</span>
      <span class="token operator">:</span> descriptionItem<span class="token operator">?.</span>options<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">comp</span><span class="token operator">:</span> <span class="token string">&quot;el-radio-group&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">attr</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token string">&quot;default&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">children</span><span class="token operator">:</span> opt<span class="token operator">?.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">item</span><span class="token operator">:</span> Recordable</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">comp</span><span class="token operator">:</span> <span class="token string">&quot;el-radio&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">attr</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">label</span><span class="token operator">:</span> item<span class="token punctuation">.</span>label<span class="token punctuation">,</span>
            <span class="token literal-property property">value</span><span class="token operator">:</span> item<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">text</span><span class="token operator">:</span> item<span class="token punctuation">.</span>label<span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//多选</span>
  <span class="token function-variable function">checkbox</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">options</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> checkList <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> selectList <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> descriptionItem <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> events <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token operator">=</span> options<span class="token punctuation">;</span>

    <span class="token comment">// selectList 为外部传入下拉选项，如果外部传入下拉选项，则使用外部传入，否则使用服务端返回的描述对象中 options 选项</span>
    <span class="token keyword">const</span> opt <span class="token operator">=</span> <span class="token function">isEmpty</span><span class="token punctuation">(</span>selectList<span class="token punctuation">)</span>
      <span class="token operator">?</span> selectList<span class="token punctuation">.</span>value<span class="token punctuation">[</span>descriptionItem<span class="token operator">?.</span>fieldName<span class="token punctuation">]</span>
      <span class="token operator">:</span> descriptionItem<span class="token operator">?.</span>options<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">comp</span><span class="token operator">:</span> <span class="token string">&quot;el-checkbox-group&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">attr</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token string">&quot;default&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">modelValue</span><span class="token operator">:</span> descriptionItem<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">children</span><span class="token operator">:</span> opt<span class="token operator">?.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">item</span><span class="token operator">:</span> Recordable</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">comp</span><span class="token operator">:</span> <span class="token string">&quot;el-checkbox&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">attr</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">key</span><span class="token operator">:</span> item<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
            <span class="token literal-property property">label</span><span class="token operator">:</span> item<span class="token punctuation">.</span>label<span class="token punctuation">,</span>
            <span class="token literal-property property">checked</span><span class="token operator">:</span> item<span class="token operator">?.</span>checked <span class="token operator">||</span> descriptionItem<span class="token operator">?.</span>value<span class="token operator">?.</span><span class="token function">includes</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>

          <span class="token literal-property property">event</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token function-variable function">change</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">$event</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
              <span class="token keyword">const</span> <span class="token function-variable function">defaultEvent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                item<span class="token punctuation">.</span>checked <span class="token operator">=</span> $event<span class="token punctuation">;</span>
                descriptionItem<span class="token punctuation">.</span>value <span class="token operator">=</span> opt<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">o</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> o<span class="token punctuation">.</span>checked<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">o</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> o<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">;</span>
              <span class="token keyword">const</span> e <span class="token operator">=</span> <span class="token function">isEmpty</span><span class="token punctuation">(</span>events<span class="token punctuation">)</span> <span class="token operator">?</span> events<span class="token punctuation">[</span>descriptionItem<span class="token operator">?.</span>fieldName<span class="token punctuation">]</span><span class="token operator">?.</span>change <span class="token operator">:</span> defaultEvent<span class="token punctuation">;</span>
              <span class="token keyword">return</span> e <span class="token operator">&amp;&amp;</span> <span class="token function">e</span><span class="token punctuation">(</span>$event<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">text</span><span class="token operator">:</span> item<span class="token punctuation">.</span>label<span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//开关</span>
  <span class="token function-variable function">switch</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">options</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> attr <span class="token operator">=</span> options<span class="token punctuation">.</span>descriptionItem<span class="token operator">?.</span>attr <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">comp</span><span class="token operator">:</span> <span class="token string">&quot;el-switch&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">attr</span><span class="token operator">:</span> attr<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//附件上传</span>
  <span class="token function-variable function">upload</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">options</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> descriptionItem <span class="token operator">=</span> options<span class="token operator">?.</span>descriptionItem <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> data <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> attr <span class="token operator">=</span> <span class="token keyword">null</span> <span class="token punctuation">}</span> <span class="token operator">=</span> options<span class="token operator">?.</span>params<span class="token operator">?.</span>upload <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> dataPrams <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> data <span class="token operator">===</span> <span class="token string">&quot;function&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      dataPrams <span class="token operator">=</span> <span class="token function">data</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      dataPrams <span class="token operator">=</span> data
        <span class="token operator">?</span> data
        <span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token operator">...</span>descriptionItem<span class="token punctuation">,</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> options<span class="token operator">?.</span>descriptionItem<span class="token operator">?.</span>modelName <span class="token operator">||</span> options<span class="token punctuation">.</span>listType<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">comp</span><span class="token operator">:</span> BasicUpload<span class="token punctuation">,</span>
      <span class="token literal-property property">attr</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token string">&quot;default&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">attr</span><span class="token operator">:</span> attr<span class="token punctuation">,</span>
          <span class="token literal-property property">data</span><span class="token operator">:</span> dataPrams<span class="token punctuation">,</span>
          <span class="token literal-property property">fileList</span><span class="token operator">:</span> descriptionItem<span class="token operator">?.</span>value <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//日期选择</span>
  <span class="token function-variable function">datePicker</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">options</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> attr <span class="token operator">=</span> options<span class="token punctuation">.</span>descriptionItem<span class="token operator">?.</span>attr <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">comp</span><span class="token operator">:</span> <span class="token string">&quot;el-date-picker&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">attr</span><span class="token operator">:</span> attr<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//时间范围选择器</span>
  <span class="token function-variable function">daterange</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">options</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> attr <span class="token operator">=</span> options<span class="token punctuation">.</span>descriptionItem<span class="token operator">?.</span>attr <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">comp</span><span class="token operator">:</span> <span class="token string">&quot;el-date-picker&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">attr</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;daterange&quot;</span><span class="token punctuation">,</span>
        <span class="token operator">...</span>attr<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//时间选择器</span>
  <span class="token function-variable function">timepicker</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">options</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> attr <span class="token operator">=</span> options<span class="token punctuation">.</span>descriptionItem<span class="token operator">?.</span>attr <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">comp</span><span class="token operator">:</span> <span class="token string">&quot;el-time-select&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">attr</span><span class="token operator">:</span> attr<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">renderFormComponent</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">type</span><span class="token operator">:</span> string<span class="token punctuation">,</span> params<span class="token operator">?</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> comp <span class="token operator">=</span> formComponents<span class="token punctuation">[</span>type<span class="token punctuation">]</span> <span class="token keyword">as</span> any<span class="token punctuation">;</span>
  <span class="token keyword">const</span> compConfig <span class="token operator">=</span> comp <span class="token operator">?</span> formComponents<span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">reactive</span><span class="token punctuation">(</span>compConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br><span class="line-number">216</span><br><span class="line-number">217</span><br><span class="line-number">218</span><br><span class="line-number">219</span><br><span class="line-number">220</span><br><span class="line-number">221</span><br><span class="line-number">222</span><br><span class="line-number">223</span><br><span class="line-number">224</span><br><span class="line-number">225</span><br><span class="line-number">226</span><br><span class="line-number">227</span><br><span class="line-number">228</span><br><span class="line-number">229</span><br><span class="line-number">230</span><br><span class="line-number">231</span><br><span class="line-number">232</span><br><span class="line-number">233</span><br><span class="line-number">234</span><br><span class="line-number">235</span><br><span class="line-number">236</span><br><span class="line-number">237</span><br><span class="line-number">238</span><br><span class="line-number">239</span><br><span class="line-number">240</span><br><span class="line-number">241</span><br><span class="line-number">242</span><br><span class="line-number">243</span><br><span class="line-number">244</span><br><span class="line-number">245</span><br><span class="line-number">246</span><br><span class="line-number">247</span><br><span class="line-number">248</span><br><span class="line-number">249</span><br><span class="line-number">250</span><br><span class="line-number">251</span><br><span class="line-number">252</span><br><span class="line-number">253</span><br><span class="line-number">254</span><br><span class="line-number">255</span><br><span class="line-number">256</span><br><span class="line-number">257</span><br><span class="line-number">258</span><br><span class="line-number">259</span><br><span class="line-number">260</span><br><span class="line-number">261</span><br><span class="line-number">262</span><br><span class="line-number">263</span><br><span class="line-number">264</span><br><span class="line-number">265</span><br><span class="line-number">266</span><br><span class="line-number">267</span><br><span class="line-number">268</span><br><span class="line-number">269</span><br><span class="line-number">270</span><br><span class="line-number">271</span><br><span class="line-number">272</span><br><span class="line-number">273</span><br><span class="line-number">274</span><br><span class="line-number">275</span><br><span class="line-number">276</span><br><span class="line-number">277</span><br><span class="line-number">278</span><br><span class="line-number">279</span><br><span class="line-number">280</span><br><span class="line-number">281</span><br><span class="line-number">282</span><br><span class="line-number">283</span><br><span class="line-number">284</span><br><span class="line-number">285</span><br><span class="line-number">286</span><br><span class="line-number">287</span><br><span class="line-number">288</span><br><span class="line-number">289</span><br><span class="line-number">290</span><br><span class="line-number">291</span><br><span class="line-number">292</span><br><span class="line-number">293</span><br><span class="line-number">294</span><br><span class="line-number">295</span><br><span class="line-number">296</span><br><span class="line-number">297</span><br><span class="line-number">298</span><br><span class="line-number">299</span><br><span class="line-number">300</span><br><span class="line-number">301</span><br><span class="line-number">302</span><br><span class="line-number">303</span><br></div></div></li> <li><p>组件使用示例：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>el<span class="token operator">-</span>breadcrumb <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;breadcrumb-style&quot;</span> <span class="token operator">:</span>separator<span class="token operator">=</span><span class="token string">&quot;''&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>breadcrumb<span class="token operator">-</span>item <span class="token operator">:</span>to<span class="token operator">=</span><span class="token string">&quot;{  name:MNTEnums[tableName.toUpperCase() as string].LIST}&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
      <span class="token function">s</span><span class="token punctuation">(</span><span class="token string">&quot;返回列表&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>breadcrumb<span class="token operator">-</span>item<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>breadcrumb<span class="token operator">-</span>item <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>breadcrumb<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>el<span class="token operator">-</span>card<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>BasicDescriptions
      v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;(item, index) of subDescriptions&quot;</span>
      <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;index&quot;</span>
      <span class="token operator">:</span>descriptions<span class="token operator">-</span>option<span class="token operator">=</span><span class="token string">&quot;item&quot;</span>
    <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>card<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> onBeforeMount<span class="token punctuation">,</span> shallowRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> s <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;$locale&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> BasicDescriptions <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/components/Descriptions&quot;</span><span class="token punctuation">;</span><span class="token comment">// 使用描述列表组件渲染</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> renderDescriptionEditArr <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/hooks/components/DescriptionAdd&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> detail<span class="token punctuation">,</span> add <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/api/admin/mnt&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> MNTEnums <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/router/routes/enums/routeName/mnt&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> listType <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/views/admin/mnt/enums/listType&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> handleDesData <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/utils/component&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ReqConfig <span class="token keyword">from</span> <span class="token string">&quot;@/settings/requestSetting&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> router <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/router&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">MNT_API_ENUMS</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/api/enums/mnt&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> tableName <span class="token operator">=</span> listType<span class="token punctuation">.</span>model <span class="token keyword">as</span> string<span class="token punctuation">;</span>
<span class="token comment">/**
 * 判断每一个描述列表是否开启编辑功能
 */</span>

<span class="token comment">// 描述列表信息</span>
<span class="token keyword">const</span> descriptionsInfo <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 子描述列表</span>
<span class="token keyword">const</span> subDescriptions <span class="token operator">=</span> <span class="token function">shallowRef</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">as</span> Array<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 上传文件列表</span>
<span class="token keyword">const</span> <span class="token literal-property property">fileList</span><span class="token operator">:</span> Object <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 上传文件字段</span>
<span class="token keyword">const</span> <span class="token literal-property property">fileNameList</span><span class="token operator">:</span> Array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * 新增表单提交事件
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">submit</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">params</span><span class="token operator">:</span> Object <span class="token operator">|</span> Array<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  fileNameList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">fileNames</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    params<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">item</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>fieldName <span class="token operator">==</span> fileNames<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        item<span class="token punctuation">.</span>value <span class="token operator">=</span> fileList<span class="token punctuation">[</span>fileNames<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> tableName<span class="token punctuation">,</span>
      <span class="token literal-property property">data</span><span class="token operator">:</span> params<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> MNTEnums<span class="token punctuation">.</span><span class="token constant">MODEL</span><span class="token punctuation">.</span><span class="token constant">LIST</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//图片上传成功回调函数</span>
<span class="token keyword">const</span> <span class="token function-variable function">onSuccess</span> <span class="token operator">=</span> <span class="token punctuation">(</span>
  <span class="token parameter"><span class="token literal-property property">response</span><span class="token operator">:</span> any<span class="token punctuation">,</span>
  <span class="token literal-property property">uploadFile</span><span class="token operator">:</span> UploadFile<span class="token punctuation">,</span>
  <span class="token literal-property property">uploadFiles</span><span class="token operator">:</span> UploadFiles<span class="token punctuation">,</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> any</span>
<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> fieldName <span class="token punctuation">}</span> <span class="token operator">=</span> data<span class="token punctuation">.</span>descriptionItem<span class="token punctuation">;</span>
  data<span class="token punctuation">.</span>descriptionItem<span class="token punctuation">.</span>value <span class="token operator">=</span> uploadFiles<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">f</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> f<span class="token punctuation">.</span>response<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//图片移除回调函数</span>
<span class="token keyword">const</span> <span class="token function-variable function">onRemove</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">uploadFile</span><span class="token operator">:</span> UploadFile<span class="token punctuation">,</span> <span class="token literal-property property">uploadFiles</span><span class="token operator">:</span> UploadFiles<span class="token punctuation">,</span> <span class="token literal-property property">data</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> fieldName <span class="token punctuation">}</span> <span class="token operator">=</span> data<span class="token punctuation">.</span>descriptionItem<span class="token punctuation">;</span>
  data<span class="token punctuation">.</span>descriptionItem<span class="token punctuation">.</span>value <span class="token operator">=</span> uploadFiles<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">f</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> f<span class="token punctuation">.</span>response<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//图片预览回调函数</span>
<span class="token keyword">const</span> <span class="token function-variable function">onPreview</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">uploadFile</span><span class="token operator">:</span> UploadFile</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> url <span class="token operator">=</span> uploadFile<span class="token operator">?.</span>response<span class="token operator">?.</span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>url<span class="token punctuation">;</span>
  url <span class="token operator">&amp;&amp;</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token string">&quot;_blank&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//描述对象</span>
<span class="token keyword">const</span> <span class="token function-variable function">getInformation</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">detail</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> tableName<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    descriptionsInfo<span class="token punctuation">.</span>value <span class="token operator">=</span> result<span class="token punctuation">;</span>
    <span class="token keyword">let</span> params <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">upload</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">attr</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          onSuccess<span class="token punctuation">,</span>
          onPreview<span class="token punctuation">,</span>
          onRemove<span class="token punctuation">,</span>
          <span class="token literal-property property">action</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ReqConfig<span class="token punctuation">.</span>MntBaseUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">MNT_API_ENUMS</span><span class="token punctuation">.</span>upload<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">data</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">opt</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> opt<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    subDescriptions<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token function">renderDescriptionEditArr</span><span class="token punctuation">(</span>
      <span class="token function">handleDesData</span><span class="token punctuation">(</span>descriptionsInfo<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">,</span>
      submit<span class="token punctuation">,</span>
      <span class="token keyword">null</span><span class="token punctuation">,</span>
      <span class="token keyword">null</span><span class="token punctuation">,</span>
      params
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">onBeforeMount</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">getInformation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style scoped lang<span class="token operator">=</span><span class="token string">&quot;less&quot;</span><span class="token operator">&gt;</span>
<span class="token punctuation">.</span>el<span class="token operator">-</span>descriptions <span class="token punctuation">{</span>
  margin<span class="token operator">-</span>bottom<span class="token operator">:</span> 20px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token punctuation">.</span>breadcrumb<span class="token operator">-</span>style <span class="token punctuation">{</span>
  margin<span class="token operator">-</span>bottom<span class="token operator">:</span> 10px<span class="token punctuation">;</span>
  <span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
  flex<span class="token operator">-</span>direction<span class="token operator">:</span> row<span class="token operator">-</span>reverse<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br></div></div></li></ul> <h4 id="第五步-使用组件"><a href="#第五步-使用组件" class="header-anchor">#</a> <strong>第五步：使用组件</strong></h4> <hr> <h2 id="参考资料"><a href="#参考资料" class="header-anchor">#</a> 参考资料</h2> <p><a href="https://github.com/baidu/amis" target="_blank" rel="noopener noreferrer">百度 amis <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <!----> <div class="content__content-bottom"></div> <footer class="page-meta"><!----> <div class="meta-item update-time"><span class="label">Last update:</span> <span class="info">January 22, 2024 14:49</span></div> <div class="meta-item contributors"><span class="label">Contributors: </span> <span class="info"><span title="email: 596777598@qq.com" class="contributor">
          sewar
        </span> <!----></span></div></footer> <!----> <!----> <!----> <div class="content__page-bottom"></div></main> <!----></div><div class="global-ui"><!----><div id="pwa-install"><!----> <div id="install-modal-wrapper" style="display:none;"><div class="background"></div> <div class="install-modal"><div class="header"><button aria-label="Close" class="close-button"><svg width="23" height="22" xmlns="http://www.w3.org/2000/svg" class="icon close-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.12.358a1.224 1.224 0 011.729 0l8.92 8.914L20.686.358a1.224 1.224 0 011.73 1.728L13.497 11l8.92 8.913a1.222 1.222 0 11-1.73 1.729l-8.919-8.913-8.92 8.913a1.224 1.224 0 01-1.729-1.729L10.04 11l-8.92-8.914a1.222 1.222 0 010-1.728z" fill="currentColor"></path></svg></button> <div class="logo"><!----> <div class="title"><h1></h1> <p class="desc">This app can be installed on your PC or mobile device.  This will allow this web app to look and behave like any other installed app.  You will find it in your app lists and be able to pin it to your home screen, start menus or task bars.  This installed web app will also be able to safely interact with other apps and your operating system. </p></div></div></div> <div class="content"><div class="highlight"><!----> <!----></div> <div class="description"><h3>Description</h3> <p></p></div></div> <div class="button-wrapper"><button class="install-button">
        Install <span></span></button> <button class="cancel-button">
        Cancel
      </button></div></div></div></div><!----><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button title="Close" aria-label="Close" class="pswp__button pswp__button--close"></button> <button title="Share" aria-label="Share" class="pswp__button pswp__button--share"></button> <button title="Switch to full screen" aria-label="Switch to full screen" class="pswp__button pswp__button--fs"></button> <button title="Zoom in/out" aria-label="Zoom in/out" class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button title="Prev (Arrow Left)" aria-label="Prev (Arrow Left)" class="pswp__button pswp__button--arrow--left"></button> <button title="Next (Arrow Right)" aria-label="Next (Arrow Right)" class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div></div>
    <script src="/myblog/assets/js/app.9d2b617a.js" defer></script><script src="/myblog/assets/js/layout-Layout.d2d4ce64.js" defer></script><script src="/myblog/assets/js/page-Elementui与Element-plusui二次封装.82f12a09.js" defer></script><script src="/myblog/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-components/Blog/BlogHome~layout-components/~2222f443.5835591a.js" defer></script>
  </body>
</html>
