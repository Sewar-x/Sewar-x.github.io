<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>性能优化指标和监控 | Sewen 博客</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="./mylogo.png">
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.min.js"></script>
    <link rel="manifest" href="/myblog/manifest.webmanifest" crossorigin="use-credentials">
    <link rel="alternate" type="application/atom+xml" href="https://sewar-x.github.io/myblog/atom.xml" title="Sewen 博客 Atom Feed">
    <link rel="alternate" type="application/json" href="https://sewar-x.github.io/myblog/rss.xml" title="Sewen 博客 JSON Feed">
    <link rel="alternate" type="application/rss+xml" href="https://sewar-x.github.io/myblog/rss.xml" title="Sewen 博客 RSS Feed">
    <meta name="description" content="sewen 的前端学习笔记、博客、前端基础总结、技术深度剖析、面试题总结、算法总结、项目过程总结">
    <meta property="og:url" content="https://sewar-x.github.io/myblog/performance/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%8C%87%E6%A0%87%E5%92%8C%E7%9B%91%E6%8E%A7.html">
    <meta property="og:site_name" content="Sewen 博客">
    <meta property="og:title" content="性能优化指标和监控">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="en-US">
    <meta name="theme-color" content="#46bd87">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <link rel="preload" href="/myblog/assets/css/0.styles.645fbc6f.css" as="style"><link rel="preload" href="/myblog/assets/js/app.9d2b617a.js" as="script"><link rel="preload" href="/myblog/assets/js/layout-Layout.d2d4ce64.js" as="script"><link rel="preload" href="/myblog/assets/js/page-性能优化指标和监控.f2175836.js" as="script"><link rel="preload" href="/myblog/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-components/Blog/BlogHome~layout-components/~2222f443.5835591a.js" as="script"><link rel="prefetch" href="/myblog/assets/js/199.a9216960.js"><link rel="prefetch" href="/myblog/assets/js/200.4c66fc79.js"><link rel="prefetch" href="/myblog/assets/js/layout-Blog.1fca7e90.js"><link rel="prefetch" href="/myblog/assets/js/layout-NotFound.3c74e8aa.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/AlgoliaSearch/Dropdown.70fcebe7.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Anchor.3235541c.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/ArticleInfo.7b815b20.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/ArticleItem.b0e177e1.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/ArticleList.d1cf1b24.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/ArticleType.b630b80e.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/BlogHero.621312ba.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/BlogHome.4fe44489.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/BlogInfo.b2a94760.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/BlogPage.e0fbe820.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/BloggerInfo.0df38355.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/CategoryList.ec1bcd96.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/ProjectList.8550a110.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/TagList.bcf7b782.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/Timeline.b6cf5471.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/TimelineList.3c6e08a6.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Clipboard.e940a903.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Common.820a8694.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Home.70383986.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/MyTransition.0de46069.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/DropdownLink.e3f6c118.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/NavLink.93b11770.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/NavLinks.8ba214e6.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/Navbar.b90a94f9.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/RepoLink.663a7f55.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/SidebarButton.76b0035a.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Page.98b5d09c.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/PageFooter.20bc9bd8.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/PageMeta.b7e6b12f.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/PageNav.8305dd1f.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Password.45e0e82a.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/DropdownTransition.068c5eea.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/Sidebar.f6f90d52.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/SidebarDropdownLink.505127a8.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/SidebarGroup.7eecf370.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/SidebarLink.6e39fe32.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/SidebarNavLinks.0f8566cb.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Theme/DarkmodeSwitch.20ac7b92.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Theme/ThemeColor.6086e4ed.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Theme/ThemeOptions.483238c9.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/ArticleIcon.0a22e2b1.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/AutoIcon.2ff1c790.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/BookIcon.419b49ba.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/DarkIcon.7d81873b.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/EditIcon.8ada485d.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/EmptyIcon.d704a5cf.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/I18nIcon.ffad8b3e.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/LightIcon.47d807da.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/LinkIcon.1a8a7826.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/LockIcon.a29a2b79.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/NextIcon.0214ee59.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/Page404Icon.8bc1ebbb.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/PresentationIcon.17500d9b.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/PrevIcon.2ae04a70.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/ProjectIcon.b336d567.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/StickyIcon.0f509b9d.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Baidu.244b9a41.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Bitbucket.11ba94e1.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Dingding.e8a3d90d.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Discord.3295a55b.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Dribbble.464dac3b.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Email.f9254caa.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Evernote.991472fb.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Facebook.08e78e47.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Flipboard.a1124d0f.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Gitee.c44bc20a.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Github.5667e5ae.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Gitlab.ad95c7a7.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Gmail.b5acc6bc.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Instagram.56be85f2.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Lines.d9db3dce.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Linkedin.b82d8d8b.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Pinterest.0f3ffe71.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Pocket.41ef3c92.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/QQ.7558f4ba.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Qzone.bf658fae.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Reddit.9c4c95ee.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Rss.9780139e.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Steam.06abbae2.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Twitter.26fa5bda.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Wechat.9cac8c4c.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Weibo.5206a632.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Whatsapp.0738f1e3.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Youtube.f41fd7f2.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Zhihu.4d851d2f.js"><link rel="prefetch" href="/myblog/assets/js/page--0abc50bf.0d6f1484.js"><link rel="prefetch" href="/myblog/assets/js/page--1cd40f4c.dd76c7b3.js"><link rel="prefetch" href="/myblog/assets/js/page--53f93199.e80bdec8.js"><link rel="prefetch" href="/myblog/assets/js/page--5afd2fd0.adea4e92.js"><link rel="prefetch" href="/myblog/assets/js/page--67c584d3.0a3f3cd9.js"><link rel="prefetch" href="/myblog/assets/js/page--776a8506.cdf48aac.js"><link rel="prefetch" href="/myblog/assets/js/page-CSS.eb94b29f.js"><link rel="prefetch" href="/myblog/assets/js/page-Chrome开发工具使用指南.a2675120.js"><link rel="prefetch" href="/myblog/assets/js/page-DevServer.0281863d.js"><link rel="prefetch" href="/myblog/assets/js/page-Echarts二次封装.4387b8ad.js"><link rel="prefetch" href="/myblog/assets/js/page-Elementui与Element-plusui二次封装.82f12a09.js"><link rel="prefetch" href="/myblog/assets/js/page-Git基础.03c616ad.js"><link rel="prefetch" href="/myblog/assets/js/page-Git规范.e2fdc38a.js"><link rel="prefetch" href="/myblog/assets/js/page-HTML.1e3c14b9.js"><link rel="prefetch" href="/myblog/assets/js/page-Home.f0b7e772.js"><link rel="prefetch" href="/myblog/assets/js/page-JSON配置化组件二次封装.12060fd9.js"><link rel="prefetch" href="/myblog/assets/js/page-JS原理实现.3c427e19.js"><link rel="prefetch" href="/myblog/assets/js/page-JS应用题.3d313b34.js"><link rel="prefetch" href="/myblog/assets/js/page-JavaScript基础.551be887.js"><link rel="prefetch" href="/myblog/assets/js/page-Linux.c6159ebd.js"><link rel="prefetch" href="/myblog/assets/js/page-Loader和Plugin原理.b2971b76.js"><link rel="prefetch" href="/myblog/assets/js/page-MySQL.0b1d704a.js"><link rel="prefetch" href="/myblog/assets/js/page-NPM.a55851b2.js"><link rel="prefetch" href="/myblog/assets/js/page-Node.ec405a21.js"><link rel="prefetch" href="/myblog/assets/js/page-Nodejs常见问题集合.12844e69.js"><link rel="prefetch" href="/myblog/assets/js/page-Node性能优化.b4ea1c34.js"><link rel="prefetch" href="/myblog/assets/js/page-Promise专题.7869a31b.js"><link rel="prefetch" href="/myblog/assets/js/page-React.d76cf0ac.js"><link rel="prefetch" href="/myblog/assets/js/page-SSG移动端项目实践.2122615b.js"><link rel="prefetch" href="/myblog/assets/js/page-TypeScript.4f597fda.js"><link rel="prefetch" href="/myblog/assets/js/page-Vite.637881bf.js"><link rel="prefetch" href="/myblog/assets/js/page-Vite原理解析.6677fdb4.js"><link rel="prefetch" href="/myblog/assets/js/page-Vue25项目webpack构建分析.7bbea0fa.js"><link rel="prefetch" href="/myblog/assets/js/page-Vue2VsVue3.10be4140.js"><link rel="prefetch" href="/myblog/assets/js/page-Vue2x原理源码分析.e9e753b6.js"><link rel="prefetch" href="/myblog/assets/js/page-Vue3基础.210247ff.js"><link rel="prefetch" href="/myblog/assets/js/page-Vue3源码分析.17379e04.js"><link rel="prefetch" href="/myblog/assets/js/page-VueCli源码分析.afc3c83f.js"><link rel="prefetch" href="/myblog/assets/js/page-VueRouter原理分析.0a092eb6.js"><link rel="prefetch" href="/myblog/assets/js/page-VueSSR原理分析.63006040.js"><link rel="prefetch" href="/myblog/assets/js/page-VueVsReact.2156be28.js"><link rel="prefetch" href="/myblog/assets/js/page-Vuex原理分析.5ba3e6e4.js"><link rel="prefetch" href="/myblog/assets/js/page-WEB安全.5aa0eeef.js"><link rel="prefetch" href="/myblog/assets/js/page-WebPack构建原理.9c29703e.js"><link rel="prefetch" href="/myblog/assets/js/page-webpackAPI分析.4c8b152b.js"><link rel="prefetch" href="/myblog/assets/js/page-webpack优化.dcc6c3bc.js"><link rel="prefetch" href="/myblog/assets/js/page-webpack基础.3820ee6c.js"><link rel="prefetch" href="/myblog/assets/js/page-webpack项目实践.77e22417.js"><link rel="prefetch" href="/myblog/assets/js/page-一次后台管理系统的性能优化.7c2d8712.js"><link rel="prefetch" href="/myblog/assets/js/page-从零到一搭建SSR项目.855376fc.js"><link rel="prefetch" href="/myblog/assets/js/page-从零到一搭建Vue2项目和规范设计.93017fd2.js"><link rel="prefetch" href="/myblog/assets/js/page-从零到一搭建Vue3单页面应用.de152d54.js"><link rel="prefetch" href="/myblog/assets/js/page-从零到一搭建公共组件库.93278073.js"><link rel="prefetch" href="/myblog/assets/js/page-从零到一搭建移动端SSG项目.9c113d06.js"><link rel="prefetch" href="/myblog/assets/js/page-使用docker部署Node服务.5cf328fd.js"><link rel="prefetch" href="/myblog/assets/js/page-分治.e3dfc22d.js"><link rel="prefetch" href="/myblog/assets/js/page-前端发版静态资源404问题.9eb1ca89.js"><link rel="prefetch" href="/myblog/assets/js/page-前端存储.cd82cf54.js"><link rel="prefetch" href="/myblog/assets/js/page-前端工程化.1e6e58d0.js"><link rel="prefetch" href="/myblog/assets/js/page-前端性能优化方案.83718d22.js"><link rel="prefetch" href="/myblog/assets/js/page-前端架构实践.171dbc0f.js"><link rel="prefetch" href="/myblog/assets/js/page-前端渲染架构.3b783de8.js"><link rel="prefetch" href="/myblog/assets/js/page-前端自动部署.5076846c.js"><link rel="prefetch" href="/myblog/assets/js/page-前端部署原理.82ecd8a7.js"><link rel="prefetch" href="/myblog/assets/js/page-动态规划.a3af92f1.js"><link rel="prefetch" href="/myblog/assets/js/page-哈希表.c76000e8.js"><link rel="prefetch" href="/myblog/assets/js/page-回溯算法.cd914c32.js"><link rel="prefetch" href="/myblog/assets/js/page-图.dfd9828a.js"><link rel="prefetch" href="/myblog/assets/js/page-基础.7bf5a37b.js"><link rel="prefetch" href="/myblog/assets/js/page-堆.4657e538.js"><link rel="prefetch" href="/myblog/assets/js/page-字符串.252f2a08.js"><link rel="prefetch" href="/myblog/assets/js/page-异步编程.904f4c65.js"><link rel="prefetch" href="/myblog/assets/js/page-排序算法.c7a51b99.js"><link rel="prefetch" href="/myblog/assets/js/page-搭建低代码平台.19eaf5ec.js"><link rel="prefetch" href="/myblog/assets/js/page-操作系统.473c4281.js"><link rel="prefetch" href="/myblog/assets/js/page-数学运算.c82748fb.js"><link rel="prefetch" href="/myblog/assets/js/page-数据结构算法.84480586.js"><link rel="prefetch" href="/myblog/assets/js/page-数组.692b0d0a.js"><link rel="prefetch" href="/myblog/assets/js/page-权限管理.c7e10db0.js"><link rel="prefetch" href="/myblog/assets/js/page-查找.790e52df.js"><link rel="prefetch" href="/myblog/assets/js/page-栈和队列.8dbc3586.js"><link rel="prefetch" href="/myblog/assets/js/page-树.24efdeaa.js"><link rel="prefetch" href="/myblog/assets/js/page-浏览器.bee9ec04.js"><link rel="prefetch" href="/myblog/assets/js/page-混合桌面应用开发.9e10d1c3.js"><link rel="prefetch" href="/myblog/assets/js/page-登录.bb830451.js"><link rel="prefetch" href="/myblog/assets/js/page-目录.c85b4d0b.js"><link rel="prefetch" href="/myblog/assets/js/page-移动端开发.56ac22ec.js"><link rel="prefetch" href="/myblog/assets/js/page-组件和组件封装.b5e86da2.js"><link rel="prefetch" href="/myblog/assets/js/page-计算机网络基础.0a106662.js"><link rel="prefetch" href="/myblog/assets/js/page-设计模式.ffdc7cfd.js"><link rel="prefetch" href="/myblog/assets/js/page-调试技巧.485ae36e.js"><link rel="prefetch" href="/myblog/assets/js/page-贪心算法.0f417640.js"><link rel="prefetch" href="/myblog/assets/js/page-输入url到页面展示全过程.510aef2e.js"><link rel="prefetch" href="/myblog/assets/js/page-递归.5e55e552.js"><link rel="prefetch" href="/myblog/assets/js/page-链表.1cf6927f.js"><link rel="prefetch" href="/myblog/assets/js/page-项目总结.ffcd2a4b.js"><link rel="prefetch" href="/myblog/assets/js/vendors~docsearch.f3877d0d.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-components/Blog/BlogHome~layout-components/~5d377965.d9712593.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-Blog~layout-Layout~layout-components/Blog/ArticleItem~layout-components/Blog/ArticleL~b56f3aac.47bb5cb5.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-NotFound~layout-components/Common~layout-components/Page.57d58db9.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-Slide.81546b3b.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-components/AlgoliaSearch/Full.b30f067a.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-components/Blog/BlogPage.bcccbd38.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-components/Navbar/Navbar.e2a7361e.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-components/Page.6c65077c.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-components/Sidebar/Sidebar.34cd9cf7.js"><link rel="prefetch" href="/myblog/assets/js/vendors~photo-swipe.428df1da.js">
    <link rel="stylesheet" href="/myblog/assets/css/0.styles.645fbc6f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container has-navbar has-anchor"><header class="navbar"><!----> <div class="content__navbar-start"></div> <button title="Sidebar Button" class="sidebar-button"><span class="icon"></span></button> <a href="/myblog/" class="home-link router-link-active"><img src="./mylogo.png" alt="Sewen 博客" class="logo"> <!----> <span class="site-name can-hide">Sewen 博客</span></a> <!----> <div class="content__navbar-center"></div> <div class="links"><button tabindex="-1" aria-hidden="true" class="color-button"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="skin-icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4
        38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32
        51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0
        102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2
        6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4
        0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2
        9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224
        419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4
        470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0
        22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6
        12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128
        505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2
        16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8
        86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4
        80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6
        6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg> <div class="color-picker-menu" style="display:none;"><div class="theme-options"><ul class="themecolor-select"><label for="themecolor-select">Theme Color:</label> <li><span class="default-theme"></span></li> </ul> <div class="darkmode-toggle"><label for="darkmode-toggle" class="desc">Theme Mode:</label> <div class="darkmode-switch"><div class="item day"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon light-icon"><path d="M512 256a42.667 42.667 0 0 0 42.667-42.667V128a42.667 42.667 0 0 0-85.334 0v85.333A42.667 42.667 0 0 0 512 256zm384 213.333h-85.333a42.667 42.667 0 0 0 0 85.334H896a42.667 42.667 0 0 0 0-85.334zM256 512a42.667 42.667 0 0 0-42.667-42.667H128a42.667 42.667 0 0 0 0 85.334h85.333A42.667 42.667 0 0 0 256 512zm9.387-298.667a42.667 42.667 0 0 0-59.307 62.72l61.44 59.307a42.667 42.667 0 0 0 31.147 11.947 42.667 42.667 0 0 0 30.72-13.227 42.667 42.667 0 0 0 0-60.16zm459.946 133.974a42.667 42.667 0 0 0 29.44-11.947l61.44-59.307a42.667 42.667 0 0 0-57.6-62.72l-61.44 60.587a42.667 42.667 0 0 0 0 60.16 42.667 42.667 0 0 0 28.16 13.227zM512 768a42.667 42.667 0 0 0-42.667 42.667V896a42.667 42.667 0 0 0 85.334 0v-85.333A42.667 42.667 0 0 0 512 768zm244.48-79.36a42.667 42.667 0 0 0-59.307 61.44l61.44 60.587a42.667 42.667 0 0 0 29.44 11.946 42.667 42.667 0 0 0 30.72-12.8 42.667 42.667 0 0 0 0-60.586zm-488.96 0-61.44 59.307a42.667 42.667 0 0 0 0 60.586 42.667 42.667 0 0 0 30.72 12.8 42.667 42.667 0 0 0 28.587-10.666l61.44-59.307a42.667 42.667 0 0 0-59.307-61.44zM512 341.333A170.667 170.667 0 1 0 682.667 512 170.667 170.667 0 0 0 512 341.333z" fill="currentColor"></path></svg></div> <div class="item auto active"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon auto-icon"><path d="M460.864 539.072H564.8L510.592 376l-49.728 163.072zM872 362.368V149.504H659.648L510.528 0l-149.12 149.504H149.12v212.928L0 511.872l149.12 149.504v212.928h212.352l149.12 149.504 149.12-149.504h212.352V661.376l149.12-149.504L872 362.368zM614.464 693.12l-31.616-90.624H438.272l-31.616 90.624h-85.888l144.576-407.68h90.368l144.576 407.68h-85.824zm0 0" fill="currentColor"></path></svg></div> <div class="item night"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon dark-icon"><path d="M935.539 630.402c-11.43-11.432-28.674-14.739-43.531-8.354-46.734 20.103-96.363 30.297-147.508 30.297-99.59 0-193.221-38.784-263.64-109.203-108.637-108.637-139.61-270.022-78.908-411.148a39.497 39.497 0 0 0-51.886-51.887c-52.637 22.64-100.017 54.81-140.826 95.616-85.346 85.346-132.346 198.821-132.346 319.52 0 120.7 47.001 234.172 132.347 319.519S408.063 947.11 528.76 947.11c120.7 0 234.172-47.003 319.52-132.351 40.809-40.81 72.978-88.19 95.616-140.826a39.497 39.497 0 0 0-8.356-43.532z" fill="currentColor"></path></svg></div></div> <!----></div></div></div></button> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/myblog/" class="nav-link router-link-active"><!---->
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Front-end Basics" class="dropdown-title"><span class="title"><!---->
        前端基础
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/performance/html/" class="nav-link"><!---->
  HTML
</a></li><li class="dropdown-item"><a href="/myblog/performance/css/" class="nav-link"><!---->
  Css
</a></li><li class="dropdown-item"><a href="/myblog/performance/javascript/" class="nav-link"><!---->
  JavaScript
</a></li><li class="dropdown-item"><a href="/myblog/performance/typescript/" class="nav-link"><!---->
  TypeScript
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><span class="title"><!---->
        计算机基础
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/performance/algorithms/" class="nav-link"><!---->
  数据结构和算法
</a></li><li class="dropdown-item"><a href="/myblog/performance/network/" class="nav-link"><!---->
  计算机网络/HTTP
</a></li><li class="dropdown-item"><a href="/myblog/performance/network/输入url到页面展示全过程/" class="nav-link"><!---->
  输入url到页面展示全过程
</a></li><li class="dropdown-item"><a href="/myblog/performance/operating-system/" class="nav-link"><!---->
  操作系统
</a></li><li class="dropdown-item"><a href="/myblog/performance/design-model/" class="nav-link"><!---->
  设计模式
</a></li><li class="dropdown-item"><a href="/myblog/performance/Web-Security/" class="nav-link"><!---->
  Web安全
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架和源码分析" class="dropdown-title"><span class="title"><!---->
        框架和源码分析
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/performance/vue/Vue2原理和源码分析.html" class="nav-link"><!---->
  Vue 专题
</a></li><li class="dropdown-item"><a href="/myblog/performance/React/" class="nav-link"><!---->
  React 专题
</a></li><li class="dropdown-item"><a href="/myblog/performance/webpack/webpack构建原理.html" class="nav-link"><!---->
  webpack 专题
</a></li><li class="dropdown-item"><a href="/myblog/performance/vite/" class="nav-link"><!---->
  vite 专题
</a></li><li class="dropdown-item"><a href="/myblog/performance/axios/" class="nav-link"><!---->
  Axios 专题
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="浏览器" class="dropdown-title"><span class="title"><!---->
        浏览器
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/performance/browser/浏览器原理/" class="nav-link"><!---->
  浏览器原理
</a></li><li class="dropdown-item"><a href="/myblog/performance/browser/前端缓存和存储/" class="nav-link"><!---->
  前端缓存和存储
</a></li><li class="dropdown-item"><a href="/myblog/performance/performance/前端调试技巧/" class="nav-link"><!---->
  前端调试技巧
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="node.js" class="dropdown-title"><span class="title"><!---->
        服务器
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/performance/node/" class="nav-link"><!---->
  Node.js
</a></li><li class="dropdown-item"><a href="/myblog/performance/linux/" class="nav-link"><!---->
  Linux
</a></li><li class="dropdown-item"><a href="/myblog/performance/mysql/" class="nav-link"><!---->
  MySQL
</a></li><li class="dropdown-item"><a href="/myblog/performance/nginx/" class="nav-link"><!---->
  Nginx
</a></li><li class="dropdown-item"><a href="/myblog/performance/docker/" class="nav-link"><!---->
  Docker
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="浏览器和性能优化" class="dropdown-title"><span class="title"><!---->
        性能优化
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/performance/performance/性能优化指标和监控/" class="nav-link"><!---->
  性能优化指标和监控
</a></li><li class="dropdown-item"><a href="/myblog/performance/performance/前端性能优化方案/" class="nav-link"><!---->
  前端性能优化方案
</a></li><li class="dropdown-item"><a href="/myblog/performance/performance/一次管理后台的渲染优化/" class="nav-link"><!---->
  一次管理后台的渲染优化
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端工程" class="dropdown-title"><span class="title"><!---->
        前端工程
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/performance/Front-end-Engineering/前端工程化/" class="nav-link"><!---->
  前端工程化
</a></li><li class="dropdown-item"><a href="/myblog/performance/Front-end-Engineering/前端渲染架构/" class="nav-link"><!---->
  前端渲染架构
</a></li><li class="dropdown-item"><a href="/myblog/performance/Front-end-Engineering/前端架构实践/" class="nav-link"><!---->
  前端架构实践
</a></li><li class="dropdown-item"><a href="/myblog/performance/Front-end-Engineering/npm/" class="nav-link"><!---->
  npm
</a></li><li class="dropdown-item"><a href="/myblog/performance/git/" class="nav-link"><!---->
  Git
</a></li><li class="dropdown-item"><a href="/myblog/performance/projectDeploy/自动构建和部署/" class="nav-link"><!---->
  自动构建和部署
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目实践" class="dropdown-title"><span class="title"><!---->
        项目实践
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/performance/projectDeploy/" class="nav-link"><!---->
  前端部署
</a></li><li class="dropdown-item"><a href="/myblog/performance/componentsEncapsulation/组件和组件封装实践.html" class="nav-link"><!---->
  组件和组件封装实践
</a></li><li class="dropdown-item"><a href="/myblog/performance/projectsSummary/登录与单点登录/" class="nav-link"><!---->
  登录与单点登录
</a></li><li class="dropdown-item"><a href="/myblog/performance/projectsSummary/权限管理方案实践/" class="nav-link"><!---->
  权限管理方案实践
</a></li><li class="dropdown-item"><a href="/myblog/performance/projectsSummary/Echarts二次封装实践/" class="nav-link"><!---->
  Echarts二次封装实践
</a></li><li class="dropdown-item"><a href="/myblog/performance/projectsSummary/文档在线预览和编辑方案/" class="nav-link"><!---->
  文档在线预览和编辑方案
</a></li><li class="dropdown-item"><a href="/myblog/performance/projectsSummary/移动端开发实践/" class="nav-link"><!---->
  移动端开发实践
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目搭建到原理分析" class="dropdown-title"><span class="title"><!---->
        项目搭建
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/performance/projectsSummary/从零到一搭建SSR项目/" class="nav-link"><!---->
  从零到一搭建SSR项目
</a></li><li class="dropdown-item"><a href="/myblog/performance/projectsSummary/从零到一搭建移动端SSG项目/" class="nav-link"><!---->
  从零到一搭建移动端SSG项目
</a></li><li class="dropdown-item"><a href="/myblog/performance/projectsSummary/移动端SSG项目实践/" class="nav-link"><!---->
  移动端SSG项目实践
</a></li><li class="dropdown-item"><a href="/myblog/performance/projectsSummary/从零到一搭建Vue2工程化项目/" class="nav-link"><!---->
  从零到一搭建Vue2工程化项目
</a></li><li class="dropdown-item"><a href="/myblog/performance/projectsSummary/从零到一搭建Vue3工程化项目/" class="nav-link"><!---->
  从零到一搭建Vue3工程化项目
</a></li><li class="dropdown-item"><a href="/myblog/performance/projectsSummary/搭建低代码平台/" class="nav-link"><!---->
  搭建低代码平台
</a></li><li class="dropdown-item"><a href="/myblog/performance/projectsSummary/混合桌面应用开发实践/" class="nav-link"><!---->
  混合桌面应用开发实践
</a></li></ul></div></div></nav> <!----> <!----> <!----> <div class="content__navbar-end"></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><div vocab="https://schema.org/" typeof="Person" class="blogger-info mobile"><div data-balloon-pos="down" role="navigation" class="blogger hasIntro"><img property="image" alt="Blogger Avatar" src="./mylogo.png" class="avatar round"> <div property="name" class="name">Sewen 博客</div> <meta property="url" content="../outline.md"></div> <div class="num-wrapper"><div><div class="num">91</div> <div>Articles</div></div> <div><div class="num">0</div> <div>Category</div></div> <div><div class="num">0</div> <div>Tags</div></div> <div><div class="num">91</div> <div>Timeline</div></div></div> <div class="media-links-wrapper"><a href="https://github.com/Sewar-x/myblog" rel="noopener noreferrer" target="_blank" aria-label="Github" data-balloon-pos="up" class="media-link"><span class="sr-only">Github</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-github"><circle cx="512" cy="512" r="512" fill="#171515"></circle> <path d="M509.423 146.442c-200.317 0-362.756 162.42-362.756 362.8 0 160.266 103.936 296.24 248.109 344.217 18.139 3.327 24.76-7.872 24.76-17.486 0-8.613-.313-31.427-.49-61.702-100.912 21.923-122.205-48.63-122.205-48.63-16.495-41.91-40.28-53.067-40.28-53.067-32.937-22.51 2.492-22.053 2.492-22.053 36.407 2.566 55.568 37.386 55.568 37.386 32.362 55.438 84.907 39.43 105.58 30.143 3.296-23.444 12.667-39.43 23.032-48.498-80.557-9.156-165.246-40.28-165.246-179.297 0-39.604 14.135-71.988 37.342-97.348-3.731-9.178-16.18-46.063 3.556-96.009 0 0 30.46-9.754 99.76 37.19 28.937-8.048 59.97-12.071 90.823-12.211 30.807.14 61.843 4.165 90.822 12.21 69.26-46.944 99.663-37.189 99.663-37.189 19.792 49.946 7.34 86.831 3.61 96.01 23.25 25.359 37.29 57.742 37.29 97.347 0 139.366-84.82 170.033-165.637 179.013 13.026 11.2 24.628 33.342 24.628 67.182 0 48.498-.445 87.627-.445 99.521 0 9.702 6.535 20.988 24.945 17.444 144.03-48.067 247.881-183.95 247.881-344.175 0-200.378-162.442-362.798-362.802-362.798z" fill="#FFF"></path></svg></a><a href="1567910907" rel="noopener noreferrer" target="_blank" aria-label="Wechat" data-balloon-pos="up" class="media-link"><span class="sr-only">Wechat</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-wechat"><circle cx="512" cy="512" r="512" fill="#1AC88E"></circle> <path d="M827.551 578.742a176.583 176.583 0 0 0-185.685-158.379 172.942 172.942 0 0 0-186.3 158.379 172.942 172.942 0 0 0 185.686 158.379 282.169 282.169 0 0 0 65.536-10.923l60.689 32.768-16.384-54.613a166.275 166.275 0 0 0 76.458-125.611zm-245.76-27.307a21.845 21.845 0 1 1 0-43.69 24.872 24.872 0 0 1 27.307 21.845 24.872 24.872 0 0 1-27.921 21.845h.614zm121.356 0a21.845 21.845 0 1 1 0-43.69 24.872 24.872 0 0 1 27.306 21.845 24.872 24.872 0 0 1-28.512 21.845h1.206z" fill="#FFF"></path> <path d="M623.662 400.953h21.23A222.709 222.709 0 0 0 419.772 245.6a208.145 208.145 0 0 0-223.323 189.94 182.044 182.044 0 0 0 89.201 150.483l-22.436 67.356 78.279-39.435a389.575 389.575 0 0 0 78.279 10.923h20.616a163.226 163.226 0 0 1-6.667-46.718 182.044 182.044 0 0 1 189.94-177.197zm-121.379-60.69a27.921 27.921 0 1 1 0 55.843 31.562 31.562 0 0 1-33.36-27.921 31.562 31.562 0 0 1 34.59-27.921h-1.23zM346.34 396.107a31.562 31.562 0 0 1-33.383-27.921 31.562 31.562 0 0 1 33.383-27.921 27.921 27.921 0 1 1 0 55.842z" fill="#FFF"></path></svg></a></div></div> <hr> <!----> <div class="content__sidebar-top"></div> <nav class="sidebar-nav-links"><div class="nav-item"><a href="/myblog/" class="nav-link router-link-active"><!---->
  首页
</a></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="Front-end Basics" class="dropdown-title"><span class="title"><!---->
      前端基础
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/performance/html/" class="nav-link"><!---->
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/myblog/performance/css/" class="nav-link"><!---->
  Css
</a></li><li class="dropdown-item"><!----> <a href="/myblog/performance/javascript/" class="nav-link"><!---->
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/myblog/performance/typescript/" class="nav-link"><!---->
  TypeScript
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><span class="title"><!---->
      计算机基础
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/performance/algorithms/" class="nav-link"><!---->
  数据结构和算法
</a></li><li class="dropdown-item"><!----> <a href="/myblog/performance/network/" class="nav-link"><!---->
  计算机网络/HTTP
</a></li><li class="dropdown-item"><!----> <a href="/myblog/performance/network/输入url到页面展示全过程/" class="nav-link"><!---->
  输入url到页面展示全过程
</a></li><li class="dropdown-item"><!----> <a href="/myblog/performance/operating-system/" class="nav-link"><!---->
  操作系统
</a></li><li class="dropdown-item"><!----> <a href="/myblog/performance/design-model/" class="nav-link"><!---->
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/myblog/performance/Web-Security/" class="nav-link"><!---->
  Web安全
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="框架和源码分析" class="dropdown-title"><span class="title"><!---->
      框架和源码分析
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/performance/vue/Vue2原理和源码分析.html" class="nav-link"><!---->
  Vue 专题
</a></li><li class="dropdown-item"><!----> <a href="/myblog/performance/React/" class="nav-link"><!---->
  React 专题
</a></li><li class="dropdown-item"><!----> <a href="/myblog/performance/webpack/webpack构建原理.html" class="nav-link"><!---->
  webpack 专题
</a></li><li class="dropdown-item"><!----> <a href="/myblog/performance/vite/" class="nav-link"><!---->
  vite 专题
</a></li><li class="dropdown-item"><!----> <a href="/myblog/performance/axios/" class="nav-link"><!---->
  Axios 专题
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="浏览器" class="dropdown-title"><span class="title"><!---->
      浏览器
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/performance/browser/浏览器原理/" class="nav-link"><!---->
  浏览器原理
</a></li><li class="dropdown-item"><!----> <a href="/myblog/performance/browser/前端缓存和存储/" class="nav-link"><!---->
  前端缓存和存储
</a></li><li class="dropdown-item"><!----> <a href="/myblog/performance/performance/前端调试技巧/" class="nav-link"><!---->
  前端调试技巧
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="node.js" class="dropdown-title"><span class="title"><!---->
      服务器
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/performance/node/" class="nav-link"><!---->
  Node.js
</a></li><li class="dropdown-item"><!----> <a href="/myblog/performance/linux/" class="nav-link"><!---->
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/myblog/performance/mysql/" class="nav-link"><!---->
  MySQL
</a></li><li class="dropdown-item"><!----> <a href="/myblog/performance/nginx/" class="nav-link"><!---->
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/myblog/performance/docker/" class="nav-link"><!---->
  Docker
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="浏览器和性能优化" class="dropdown-title"><span class="title"><!---->
      性能优化
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/performance/performance/性能优化指标和监控/" class="nav-link"><!---->
  性能优化指标和监控
</a></li><li class="dropdown-item"><!----> <a href="/myblog/performance/performance/前端性能优化方案/" class="nav-link"><!---->
  前端性能优化方案
</a></li><li class="dropdown-item"><!----> <a href="/myblog/performance/performance/一次管理后台的渲染优化/" class="nav-link"><!---->
  一次管理后台的渲染优化
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="前端工程" class="dropdown-title"><span class="title"><!---->
      前端工程
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/performance/Front-end-Engineering/前端工程化/" class="nav-link"><!---->
  前端工程化
</a></li><li class="dropdown-item"><!----> <a href="/myblog/performance/Front-end-Engineering/前端渲染架构/" class="nav-link"><!---->
  前端渲染架构
</a></li><li class="dropdown-item"><!----> <a href="/myblog/performance/Front-end-Engineering/前端架构实践/" class="nav-link"><!---->
  前端架构实践
</a></li><li class="dropdown-item"><!----> <a href="/myblog/performance/Front-end-Engineering/npm/" class="nav-link"><!---->
  npm
</a></li><li class="dropdown-item"><!----> <a href="/myblog/performance/git/" class="nav-link"><!---->
  Git
</a></li><li class="dropdown-item"><!----> <a href="/myblog/performance/projectDeploy/自动构建和部署/" class="nav-link"><!---->
  自动构建和部署
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="项目实践" class="dropdown-title"><span class="title"><!---->
      项目实践
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/performance/projectDeploy/" class="nav-link"><!---->
  前端部署
</a></li><li class="dropdown-item"><!----> <a href="/myblog/performance/componentsEncapsulation/组件和组件封装实践.html" class="nav-link"><!---->
  组件和组件封装实践
</a></li><li class="dropdown-item"><!----> <a href="/myblog/performance/projectsSummary/登录与单点登录/" class="nav-link"><!---->
  登录与单点登录
</a></li><li class="dropdown-item"><!----> <a href="/myblog/performance/projectsSummary/权限管理方案实践/" class="nav-link"><!---->
  权限管理方案实践
</a></li><li class="dropdown-item"><!----> <a href="/myblog/performance/projectsSummary/Echarts二次封装实践/" class="nav-link"><!---->
  Echarts二次封装实践
</a></li><li class="dropdown-item"><!----> <a href="/myblog/performance/projectsSummary/文档在线预览和编辑方案/" class="nav-link"><!---->
  文档在线预览和编辑方案
</a></li><li class="dropdown-item"><!----> <a href="/myblog/performance/projectsSummary/移动端开发实践/" class="nav-link"><!---->
  移动端开发实践
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="项目搭建到原理分析" class="dropdown-title"><span class="title"><!---->
      项目搭建
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/performance/projectsSummary/从零到一搭建SSR项目/" class="nav-link"><!---->
  从零到一搭建SSR项目
</a></li><li class="dropdown-item"><!----> <a href="/myblog/performance/projectsSummary/从零到一搭建移动端SSG项目/" class="nav-link"><!---->
  从零到一搭建移动端SSG项目
</a></li><li class="dropdown-item"><!----> <a href="/myblog/performance/projectsSummary/移动端SSG项目实践/" class="nav-link"><!---->
  移动端SSG项目实践
</a></li><li class="dropdown-item"><!----> <a href="/myblog/performance/projectsSummary/从零到一搭建Vue2工程化项目/" class="nav-link"><!---->
  从零到一搭建Vue2工程化项目
</a></li><li class="dropdown-item"><!----> <a href="/myblog/performance/projectsSummary/从零到一搭建Vue3工程化项目/" class="nav-link"><!---->
  从零到一搭建Vue3工程化项目
</a></li><li class="dropdown-item"><!----> <a href="/myblog/performance/projectsSummary/搭建低代码平台/" class="nav-link"><!---->
  搭建低代码平台
</a></li><li class="dropdown-item"><!----> <a href="/myblog/performance/projectsSummary/混合桌面应用开发实践/" class="nav-link"><!---->
  混合桌面应用开发实践
</a></li></ul></div></div> <!----></nav> <!----> <div class="content__sidebar-center"></div> <!----> <!----> <div class="content__sidebar-bottom"></div> <!----></aside> <main class="page"><nav class="breadcrumb disable"><!----></nav> <!----> <div class="content__page-top"></div> <div vocab="https://schema.org/" typeof="Article" class="page-title"><h1><!----> <span property="headline">性能优化指标和监控</span></h1> <div class="page-info"><!----> <true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info></div> <!----> <hr></div> <div class="anchor-place-holder"><aside id="anchor"><div class="anchor-wrapper"><ul class="anchor-list"><li class="anchor"><a href="/myblog/performance/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%8C%87%E6%A0%87%E5%92%8C%E7%9B%91%E6%8E%A7/#rail-性能模型" class="anchor-link heading2"><div>RAIL 性能模型</div></a></li><li class="anchor"><a href="/myblog/performance/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%8C%87%E6%A0%87%E5%92%8C%E7%9B%91%E6%8E%A7/#优化指标" class="anchor-link heading2"><div>优化指标</div></a></li><li class="anchor"><a href="/myblog/performance/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%8C%87%E6%A0%87%E5%92%8C%E7%9B%91%E6%8E%A7/#lighthouse-性能指标" class="anchor-link heading3"><div>LightHouse 性能指标</div></a></li><li class="anchor"><a href="/myblog/performance/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%8C%87%E6%A0%87%E5%92%8C%E7%9B%91%E6%8E%A7/#关键指标" class="anchor-link heading3"><div>关键指标</div></a></li><li class="anchor"><a href="/myblog/performance/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%8C%87%E6%A0%87%E5%92%8C%E7%9B%91%E6%8E%A7/#性能监控" class="anchor-link heading2"><div>性能监控</div></a></li><li class="anchor"><a href="/myblog/performance/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%8C%87%E6%A0%87%E5%92%8C%E7%9B%91%E6%8E%A7/#代码监控" class="anchor-link heading3"><div>代码监控</div></a></li><li class="anchor"><a href="/myblog/performance/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%8C%87%E6%A0%87%E5%92%8C%E7%9B%91%E6%8E%A7/#performance-api" class="anchor-link heading3"><div>Performance API</div></a></li><li class="anchor"><a href="/myblog/performance/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%8C%87%E6%A0%87%E5%92%8C%E7%9B%91%E6%8E%A7/#resource-timing-api" class="anchor-link heading3"><div>Resource Timing API</div></a></li><li class="anchor"><a href="/myblog/performance/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%8C%87%E6%A0%87%E5%92%8C%E7%9B%91%E6%8E%A7/#工具监控" class="anchor-link heading3"><div>工具监控</div></a></li><li class="anchor"><a href="/myblog/performance/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%8C%87%E6%A0%87%E5%92%8C%E7%9B%91%E6%8E%A7/#lighthouse" class="anchor-link heading3"><div>LightHouse</div></a></li><li class="anchor"><a href="/myblog/performance/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%8C%87%E6%A0%87%E5%92%8C%E7%9B%91%E6%8E%A7/#参考资料" class="anchor-link heading2"><div>参考资料</div></a></li></ul></div></aside></div> <!----> <div class="content__content-top"></div> <div class="theme-default-content content__default"><h1 id="性能优化指标和监控"><a href="#性能优化指标和监控" class="header-anchor">#</a> 性能优化指标和监控</h1> <h2 id="rail-性能模型"><a href="#rail-性能模型" class="header-anchor">#</a> RAIL 性能模型</h2> <ul><li><p><strong>RAIL</strong>是一种以<strong>用户为中心的</strong>性能模型，它提供了一种考虑性能的结构。该模型将用户体验分解为关键操作（例如，点击、滚动、加载），并帮助您为每个操作定义性能目标。</p></li> <li><p>关键操作：<img src="/myblog/assets/img/rail.ba7f4a98.png" alt=""></p></li> <li><p>聚焦用户：</p> <ul><li>以下是用户对性能延迟的感知：</li></ul> <table><thead><tr><th>延迟时间</th> <th>用户感知</th></tr></thead> <tbody><tr><td>0-16ms</td> <td>很流畅</td></tr> <tr><td>0-100ms</td> <td>基本流畅</td></tr> <tr><td>100-1000ms</td> <td>感觉到网站上有一些加载任务</td></tr> <tr><td>1000ms or more</td> <td>失去耐心了</td></tr> <tr><td>10000ms or more</td> <td>直接离开，不会再访问了</td></tr></tbody></table></li> <li><p><strong>Response：</strong> 事件处理最好在50ms内完成。</p> <ul><li>目标：用户的输入到响应的时间不超过100ms，给用户的感受是瞬间就完成了。</li> <li>优化方案：
<ul><li>事件处理函数在50ms内完成，考虑到idle task的情况，事件会排队，等待时间大概在50ms。适用于click，toggle，starting animations等，不适用于drag和scroll。</li> <li>复杂的js计算尽可能放在后台，如web worker，避免对用户输入造成阻塞</li> <li>超过50ms的响应，一定要提供反馈，比如倒计时，进度百分比等。</li></ul></li> <li>idle task：除了要处理输入事件，浏览器还有其它任务要做，这些任务会占用部分时间，一般情况会花费50ms的时间，输入事件的响应则排在其后。
<ul><li>idle task 对 input response 的影响：<img src="/myblog/assets/img/idle-task.317e8a84.png" alt=""></li></ul></li></ul></li> <li><p><strong>Animation：</strong>  在10ms内产生一帧。</p> <ul><li><p>目标：产生每一帧的时间不要超过10ms，为了保证浏览器60帧，每一帧的时间在16ms左右，但浏览器需要用6ms来渲染每一帧。旨在视觉上的平滑。用户对帧率变化感知很敏感。一般情况下，每一帧都必须完成下面的所有：</p> <p><img src="/myblog/assets/img/渲染流程.ab67e831.png" alt=""></p> <ul><li>16秒的时间中包含浏览器将新帧绘制到屏幕上的时间，所以留给上述5步的时间几乎之后10ms。</li></ul></li> <li><p>优化方案：</p> <ul><li>在一些高压点上，比如动画，不要使用 cpu，如：取offset，设置style等操作。尽可能地保证60帧的体验。</li> <li>在渲染性能上，针对不同的动画做一些特定优化</li></ul></li> <li><p>动画不只是UI的视觉效果，以下行为都属于</p> <ul><li>视觉动画，如渐隐渐显，tweens，loading等</li> <li>滚动，包含弹性滚动，松开手指后，滚动会持续一段距离</li> <li>拖拽，缩放，经常伴随着用户行为</li></ul></li></ul></li> <li><p><strong>Idle：</strong>  最大化空闲时间</p> <ul><li><p>目标：最大化空闲时间，以增大50ms内响应用户输入的几率</p></li> <li><p>优化方案：</p> <ul><li>用空闲时间来完成一些延后的工作，如先加载页面可见的部分，然后利用空闲时间加载剩余部分，此处可以使用 ；<a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/requestIdleCallback" target="_blank" rel="noopener noreferrer">requestIdleCallback API<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>在空闲时间内执行的任务尽量控制在50ms以内，如果更长的话，会影响input handle的pending时间；</li> <li>如果用户在空闲时间任务进行时进行交互，必须以此为最高优先级，并暂停空闲时间的任务；</li></ul></li></ul></li> <li><p><strong>Load:</strong>  传输内容到页面可交互的时间不超过5秒</p> <ul><li><p>如果页面加载比较慢，用户的交点可能会离开。加载很快的页面，用户平均停留时间会变长，跳出率会更低，也就有更高的广告查看率</p></li> <li><p>目标:</p> <ul><li>优化加载速度，可以根据设备、网络等条件。目前，比较好的一个方式是，让你的页面在一个中配的3G网络手机上打开时间不超过5秒</li> <li>对于第二次打开，尽量不超过2秒</li></ul></li> <li><p>优化方案</p> <ul><li>在手机设备上测试加载性能，选用中配的3G网络（400kb/s，400ms RTT），可以使用 <a href="https://www.webpagetest.org/easy" target="_blank" rel="noopener noreferrer">WebPageTest<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 来测试</li> <li>要注意的是，即使用户的网络是4G，但因为丢包或者网络波动，可能会比预期的更慢</li> <li><a href="https://web.dev/render-blocking-resources/" target="_blank" rel="noopener noreferrer">禁用渲染阻塞的资源，延后加载<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>可以采用 <a href="https://web.dev/native-lazy-loading/" target="_blank" rel="noopener noreferrer">lazy load<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，<a href="https://web.dev/reduce-javascript-payloads-with-code-splitting/" target="_blank" rel="noopener noreferrer">code-splitting<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 等 <a href="https://web.dev/fast/" target="_blank" rel="noopener noreferrer">其他优化<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 手段，让第一次加载的资源更少</li></ul></li></ul></li> <li><p>分析RAIL用的工具</p> <ul><li><a href="https://developers.google.com/web/tools/chrome-devtools" target="_blank" rel="noopener noreferrer">Chrome DevTools<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://web.dev/measure/" target="_blank" rel="noopener noreferrer">Lighthouse<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://webpagetest.org/easy" target="_blank" rel="noopener noreferrer">WebPageTest<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul> <p><strong>参考资料</strong></p> <p><a href="https://developers.google.com/web/tools/chrome-devtools/profile/evaluate-performance/rail?hl=en" target="_blank" rel="noopener noreferrer">The RAIL Performance Model<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="优化指标"><a href="#优化指标" class="header-anchor">#</a> 优化指标</h2> <p><img src="/myblog/assets/img/性能优化指标.1a3df876.png" alt=""></p> <h3 id="lighthouse-性能指标"><a href="#lighthouse-性能指标" class="header-anchor">#</a> <strong>LightHouse 性能指标</strong></h3> <p>Lighthouse 中指标 (Metric) 包括以下内容：</p> <ul><li><p><a href="https://web.dev/first-contentful-paint/" target="_blank" rel="noopener noreferrer">First Contentful Paint<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：FCP 测量在用户导航到您的页面后浏览器呈现第一段 DOM 内容所需的时间。页面上的图像、非白色<code>&lt;canvas&gt;</code>元素和 SVG 被视为 DOM 内容；不包括iframe 内的任何内容。</p></li> <li><p><a href="https://web.dev/first-meaningful-paint/" target="_blank" rel="noopener noreferrer">First Meaningful Paint<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：(FMP)</p> <ul><li>概念：FMP度量用户何时可以看到页面的主要内容。FMP的原始分数是用户初始化页面加载到页面呈现主要折叠内容之间的时间(以秒为单位)。FMP本质上显示了在最大的折叠上的布局变化发生之后的显示时间。</li> <li>在 Lighthouse 6.0 中已不推荐使用 FMP，建议使用 <a href="https://web.dev/largest-contentful-paint/" target="_blank" rel="noopener noreferrer">Largest Contentful Paint<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 代替。</li></ul></li> <li><p><a href="https://web.dev/speed-index/" target="_blank" rel="noopener noreferrer">Speed Index<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：（SI）Speed Index度量页面加载过程中内容可视化显示的速度。Lighthouse首先在浏览器中捕捉页面加载的视频，并计算帧间的视觉进程。然后Lighthouse使用Speedline Node.js模块生成速度指数分数。</p></li> <li><p><a href="https://web.dev/first-cpu-idle/" target="_blank" rel="noopener noreferrer">First CPU Idle<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：页面第一次可以响应用户输入的时间。</p> <ul><li>在 Lighthouse 6.0 中，已不推荐使用 FCI，原因是虽然 FCI 提供了比 TTI 更有意义的度量，但这种差异还不足以证明维护两个类似度量的合理性。建议考虑使用 <a href="https://web.dev/lighthouse-total-blocking-time/" target="_blank" rel="noopener noreferrer">Total Blocking Time<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 和 TTI。</li></ul></li> <li><p><a href="https://web.dev/interactive/" target="_blank" rel="noopener noreferrer">Time to Interactive<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：（TTI）表示网页第一次 <strong>完全达到可交互状态</strong> 的时间点，浏览器已经可以持续性的响应用户的输入。完全达到可交互状态的时间点是在最后一个长任务（Long Task）完成的时间, 并且在随后的 5 秒内网络和主线程是空闲的。</p> <ul><li><p><img src="/myblog/assets/img/tti.fba00e83.png" alt=""></p></li> <li><p>长任务是需要 50 毫秒以上才能完成的任务</p></li> <li><p>测量方式：TTI 的计算依赖于对 Long Task 和主线程是否空闲的观察，目前并不在 Web 性能标准规范中，但在一些性能监视工具中实现了。Google 提供了采集 TTI 的 API：<a href="https://github.com/GoogleChromeLabs/tti-polyfill" target="_blank" rel="noopener noreferrer">tti-polyfill<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> ttiPolyfill <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'tti-polyfill'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ttiPolyfill<span class="token punctuation">.</span><span class="token function">getFirstConsistentlyInteractive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">tti</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  window<span class="token punctuation">.</span>perfData<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token string-property property">'tti'</span><span class="token operator">:</span> tti
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li></ul></li> <li><p><a href="https://web.dev/lighthouse-max-potential-fid/" target="_blank" rel="noopener noreferrer">Max Potential First Input Delay<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：（FID）</p> <ul><li>从用户第一次与页面交互（例如单击链接、点击按钮等）到浏览器实际能够响应该交互的时间。</li> <li>输入延迟是因为浏览器的主线程正忙于做其他事情，所以不能响应用户。发生这种情况的一个常见原因是浏览器正忙于解析和执行应用程序加载的大型 JavaScript 文件。</li> <li>第一次输入延迟通常发生在第一次内容绘制（FCP）和可持续交互时间（TTI）之间，因为页面已经呈现了一些内容，但还不能可靠地交互。</li> <li>如果用户刚好在主线程最忙时与页面交互，延迟响应的时间就会较长，如果与页面交互是在主线程空闲期间，浏览器可能会立即响应。所以对于 FID 这个指标，我们需要关注的是整体的 FID 值分布，而不是单一值。</li> <li><img src="/myblog/assets/img/FID.3ef434ad.png" alt=""></li> <li>测量方式：Google 提供了一个 JS 库 <a href="https://github.com/GoogleChromeLabs/first-input-delay" target="_blank" rel="noopener noreferrer">github.com/GoogleChrom…<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 用于测量 FID</li></ul></li> <li><p><a href="https://web.dev/lighthouse-total-blocking-time/" target="_blank" rel="noopener noreferrer">Total Blocking Time<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：TBT测量页面被阻止响应用户输入(如鼠标点击、屏幕点击或键盘按下)的总时间。该总和是通过添加所有长任务的阻塞部分之间的第一次有内容的绘制和时间到交互式。任何执行时间超过50毫秒的任务都是长任务。50ms后的时间量为阻塞部分。例如，如果Lighthouse检测到一个70毫秒长的任务，那么阻塞部分将是20毫秒</p></li> <li><p><a href="https://web.dev/lighthouse-largest-contentful-paint/" target="_blank" rel="noopener noreferrer">Largest Contentful Paint<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：（LCP）</p> <ul><li><p>可视区域中最大的内容元素呈现到屏幕上的时间，用以估算页面的主要内容对用户可见时间。</p></li> <li><p>测量方法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">try</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> po <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PerformanceObserver</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">entryList</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> entries <span class="token operator">=</span> entryList<span class="token punctuation">.</span><span class="token function">getEntries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> lastEntry <span class="token operator">=</span> entries<span class="token punctuation">[</span>entries<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token comment">// 优先取 renderTime，如果没有则取 loadTime</span>
    <span class="token keyword">let</span> lcp <span class="token operator">=</span> lastEntry<span class="token punctuation">.</span>renderTime <span class="token operator">||</span> lastEntry<span class="token punctuation">.</span>loadTime<span class="token punctuation">;</span>
    window<span class="token punctuation">.</span>perfData<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token string">'LCP'</span><span class="token punctuation">,</span> lcp
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  po<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'largest-contentful-paint'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Do nothing </span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></li></ul></li></ul> <h3 id="关键指标"><a href="#关键指标" class="header-anchor">#</a> <strong>关键指标</strong></h3> <ul><li><p>当从浏览器打开一个页面，经历：白屏 → 背景图 → 出现部分内容 → 首屏内容全部出现，但图片还在加载中 → 首屏内容全部出现，图片也已经加载完成。</p> <p><img src="/myblog/assets/img/首屏过程.44d2f013.png" alt=""></p></li> <li><p>在此过程中的关键指标：</p> <table><thead><tr><th>用户体验核心指标</th> <th>定义</th> <th>衡量指标</th></tr></thead> <tbody><tr><td><strong>白屏时间</strong></td> <td>页面开始有内容的时间，在没有内容之前是白屏</td> <td>FP</td></tr> <tr><td><strong>首次渲染内容</strong></td> <td>浏览器首次绘制来自 DOM 的内容的时间</td> <td>FCP</td></tr> <tr><td><strong>重要内容渲染时间</strong></td> <td>主要内容绘制到屏幕上的时间</td> <td>FMP</td></tr> <tr><td><strong>首屏时间</strong></td> <td>可视区域内容已完全呈现的时间</td> <td>FSP</td></tr> <tr><td><strong>可交互时间</strong></td> <td>用户第一次可以与页面交互的时间</td> <td>FCI</td></tr> <tr><td><strong>可流畅交互时间</strong></td> <td>用户第一次可以持续与页面交互的时间</td> <td>TTI</td></tr></tbody></table></li></ul> <p><strong>白屏时间（FP或FCP）：</strong></p> <ul><li><p>概念：</p> <ul><li>从开始加载到浏览器<strong>首次绘制像素</strong>到屏幕上的时间，也就是页面在屏幕上首次发生视觉变化的时间。</li> <li>变化可能是简单的背景色更新或不引人注意的内容</li> <li>First Paint 不包括默认的背景绘制，但包括非默认的背景绘制。</li> <li>通常认为浏览器开始渲染 <code>&lt;body&gt;</code> 标签或者解析完 <code>&lt;head&gt;</code>标签的时刻就是页面白屏结束的时间点</li></ul></li> <li><p><img src="/myblog/assets/img/白屏.1d01fd57.png" alt=""></p></li> <li><p>计算白屏时间:</p> <ul><li><p>可使用 Performance API 时：白屏时间 = firstPaint - performance.timing.navigationStart</p></li> <li><p>不可使用 Performance API 时：白屏时间 = firstPaint - performance.timing.navigationStart</p> <p><img src="/myblog/assets/img/白屏测量.7f8adbd5.png" alt=""></p></li></ul></li></ul> <p><strong>首屏时间（FSP）：</strong></p> <ul><li><p>概念：页面从开始加载到首屏内容全部绘制完成的时间，用户可以看到首屏的全部内容。</p> <p><img src="data:image/png;base64,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" alt=""></p></li> <li><p>计算首屏时间方法：</p> <ul><li>首屏模块标签标记法：	一种传统的采集方式，通常适用于首屏内容不需要通过拉取数据才能生存以及页面不考虑图片等资源加载的情况。
<ul><li>首屏时间= firstScreen - performance.timing.navigationStart;</li> <li><img src="/myblog/assets/img/首屏模块标签标记法.e384bfd7.png" alt=""></li></ul></li> <li>统计首屏内加载最慢的图片的时间：通常首屏内容加载最慢的就是图片资源,因此会把首屏内加载最慢的图片的时间当做首屏的时间。
<ul><li>方法：首屏时间=加载最慢的图片的时间点 - performance.timing.navigationStart</li> <li>由于浏览器对每个页面的 TCP 连接数有限制，使得并不是所有图片都能立刻开始下载和显示，因此在 DOM树 构建完成后将会去遍历首屏内的所有图片标签，并且监听所有图片标签 onload 事件，最终遍历图片标签的加载时间的最大值，并用这个最大值减去 navigationStart 即可获得近似的首屏时间</li></ul></li> <li>自定义首屏内容计算法：由于统计首屏内图片完成加载的时间比较复杂。因此我们在业务中通常会通过自定义模块内容，来简化计算首屏时间。
<ul><li>方法：忽略图片等资源加载情况，只考虑页面主要 DOM，只考虑首屏的主要模块，而不是严格意义首屏线以上的所有内容。</li></ul></li></ul></li> <li><p>现代浏览器问题：不会等待CSS树（所有CSS文件下载和解析完成）和DOM树（整个body标签解析完成）构建完成而是马上开始显示中间结果，所以经常在低网速的环境中，观察到页面由上至下缓慢显示完，或者先显示文本内容后再重绘成带有格式的页面内容</p></li> <li><p>影响首屏内容完整绘制：避免横向屏幕外和纵向屏幕外元素的绘制阻塞首屏内容的渲染。</p> <ul><li>如在开发过程中，把内容列表代码放在导航代码前面，浏览器会先渲染完列表内容再渲染导航，如果超过屏幕外的列表内容很长，会严重影响首屏内导航显示到屏幕的时间。</li></ul></li></ul> <h2 id="性能监控"><a href="#性能监控" class="header-anchor">#</a> 性能监控</h2> <p><img src="/myblog/assets/img/性能监控.ee454445.png" alt=""></p> <ul><li>前端性能监控：代码监控、工具监控、插件分析工具。
<ul><li>**代码监控：**依托于js代码并部署到需监控的页面，手动计算时间差或者使用浏览器的的API进行数据统计。
<ul><li>影响代码监控数据的因素：
<ul><li>浏览器渲染机制；</li> <li>浏览器对API的实现程度，如：<code>performance API</code>；</li></ul></li></ul></li> <li>**工具监控：**不用将统计代码部署到页面中，输入需统计的url并且选择运行次url的浏览器版本，通过工具对 url 进行请求分析后便可以给出各种性能指标，比如瀑布流、静态文件数量、首屏渲染时间等。</li> <li><strong>插件分析工具：</strong> 通过插件分析开发时各依赖包的大小，通过减少主要包体积优化。</li></ul></li></ul> <h3 id="代码监控"><a href="#代码监控" class="header-anchor">#</a> 代码监控</h3> <ul><li>代码监控主要使用<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Navigation_timing_API" target="_blank" rel="noopener noreferrer"><strong>Navigation Timing API</strong><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 提供的可用于衡量一个网站性能的数据。主要提供以下两个接口：
<ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Performance" target="_blank" rel="noopener noreferrer"><code>Performance</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：获取到当前页面中与性能相关的信息。它是 High Resolution Time API 的一部分，同时也融合了 Performance Timeline API、<a href="https://developer.mozilla.org/en-US/docs/Web/API/Navigation_timing_API" target="_blank" rel="noopener noreferrer">Navigation Timing API<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>、 <a href="https://developer.mozilla.org/en-US/docs/Web/API/User_Timing_API" target="_blank" rel="noopener noreferrer">User Timing API<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 和 <a href="https://developer.mozilla.org/en-US/docs/Web/API/Resource_Timing_API" target="_blank" rel="noopener noreferrer">Resource Timing API<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</li> <li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceNavigationTiming" target="_blank" rel="noopener noreferrer"><code>PerformanceNavigationTiming</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：提供了方法和属性来存取关于游览器文档navigation事件的相关数据。如文档实际加载/卸载的时间。</li></ul></li></ul> <h3 id="performance-api"><a href="#performance-api" class="header-anchor">#</a> Performance API</h3> <ul><li><p><a href="https://www.w3.org/TR/2014/WD-navigation-timing-2-20140325/" target="_blank" rel="noopener noreferrer"><code>window.performance</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 是W3C性能小组引入的新的API，目前IE9以上的浏览器都支持。</p></li> <li><p>Performance API 用于精确度量、控制、增强浏览器的性能表现。这个 API 为测量网站性能， 提供以前没有办法做到的精度。</p></li> <li><p>结构：<img src="/myblog/assets/img/perfomance.8228f1ea.png" alt=""></p> <ul><li><p>​	<code>memory</code>：JavaScript 占用的内存。</p></li> <li><p><code>navigation</code>：统计网页导航相关的数据：</p> <ol><li><code>redirectCount</code>:重定向的数量（只读），但是这个接口有同源策略限制，即仅能检测同源的重定向；</li> <li>type 返回值：
<ul><li>0 : TYPE_NAVIGATE (用户通过常规导航方式访问页面，比如点一个链接，或者一般的get方式)</li> <li>1 : TYPE_RELOAD (用户通过刷新，包括JS调用刷新接口等方式访问页面)</li> <li>2 : TYPE_BACK_FORWARD (用户通过后退按钮访问本页面)</li></ul></li></ol></li> <li><p><code>timing</code>：统计数据 网络、解析等时间数据。</p> <p><img src="/myblog/assets/img/timing-api.26e7ceef.png" alt=""></p> <ul><li><blockquote><ul><li><p><code>startTime</code>：有些浏览器实现为<a href="https://msdn.microsoft.com/en-us/library/ff974724(v=vs.85).aspx" target="_blank" rel="noopener noreferrer"><code>navigationStart</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，代表浏览器开始unload前一个页面文档的开始时间节点。比如我们当前正在浏览 baidu.com，在地址栏输入google.com并回车，浏览器的执行动作依次为：<strong>unload当前文档（即baidu.com）-&gt;请求下一文档（即google.com）</strong>。navigationStart的值便是触发unload当前文档的时间节点。</p> <blockquote><p>如果当前文档为空，则navigationStart的值等于fetchStart。</p></blockquote></li> <li><p><code>redirectStart</code>和<code>redirectEnd</code>：如果页面是由redirect而来，则redirectStart和redirectEnd分别代表redirect开始和结束的时间节点；</p></li> <li><p><code>unloadEventStart</code>和<code>unloadEventEnd</code>：如果前一个文档和请求的文档是同一个域的，则<code>unloadEventStart</code>和<code>unloadEventEnd</code>分别代表浏览器unload前一个文档的开始和结束时间节点。否则两者都等于0；</p></li> <li><p><code>fetchStart</code>是指在浏览器发起任何请求之前的时间值。在fetchStart和<code>domainLookupStart</code>之间，浏览器会检查当前文档的缓存；</p></li> <li><p><code>domainLookupStart</code>和<code>domainLookupEnd</code>分别代表DNS查询的开始和结束时间节点。如果浏览器没有进行DNS查询（比如使用了cache），则两者的值都等于<code>fetchStart</code>；</p></li> <li><p><code>connectStart</code>和<code>connectEnd</code>分别代表TCP建立连接和连接成功的时间节点。如果浏览器没有进行TCP连接（比如使用持久化连接webscoket），则两者都等于<code>domainLookupEnd</code>；</p></li> <li><p><code>secureConnectionStart</code>：可选。如果页面使用HTTPS，它的值是安全连接握手之前的时刻。如果该属性不可用，则返回undefined。如果该属性可用，但没有使用HTTPS，则返回0；</p></li> <li><p><code>requestStart</code>代表浏览器发起请求的时间节点，请求的方式可以是请求服务器、缓存、本地资源等；</p></li> <li><p><code>responseStart</code>和<code>responseEnd</code>分别代表浏览器收到从服务器端（或缓存、本地资源）响应回的第一个字节和最后一个字节数据的时刻；</p></li> <li><p><code>domLoading</code>代表浏览器开始解析html文档的时间节点。我们知道IE浏览器下的document有<code>readyState</code>属性，<code>domLoading</code>的值就等于<code>readyState</code>改变为<code>loading</code>的时间节点；</p></li> <li><p><code>domInteractive</code>代表浏览器解析html文档的状态为<code>interactive</code>时的时间节点。<code>domInteractive</code>并非DOMReady，它早于DOMReady触发，代表html文档解析完毕（即dom tree创建完成）但是内嵌资源（比如外链css、js等）还未加载的时间点；</p></li> <li><p><code>domContentLoadedEventStart</code>：代表<code>DOMContentLoaded</code>事件触发的时间节点：</p> <blockquote><p>页面文档完全加载并解析完毕之后,会触发DOMContentLoaded事件，HTML文档不会等待样式文件,图片文件,子框架页面的加载(load事件可以用来检测HTML页面是否完全加载完毕(fully-loaded))。</p></blockquote></li> <li><p><code>domContentLoadedEventEnd</code>：代表<code>DOMContentLoaded</code>事件完成的时间节点，此刻用户可以对页面进行操作，也就是jQuery中的domready时间；</p></li> <li><p><code>domComplete</code>：html文档完全解析完毕的时间节点；</p></li> <li><p><code>loadEventStart</code>和<code>loadEventEnd</code>分别代表onload事件触发和结束的时间节点</p></li></ul></blockquote></li></ul></li> <li><p><strong>计算性能指标：</strong></p> <ul><li>DNS查询耗时 = domainLookupEnd - domainLookupStart</li> <li>TCP链接耗时 = connectEnd - connectStart</li> <li>request 请求耗时 = responseEnd - responseStart</li> <li>解析 dom 树耗时 = domComplete - domInteractive</li> <li>白屏时间 = domloadng - fetchStart</li> <li>domready 时间 = domContentLoadedEventEnd - fetchStart</li> <li>onload 时间 = loadEventEnd - fetchStart</li></ul></li></ul></li> <li><p>使用 getTime 来计算脚本耗时:</p> <ul><li>缺点:</li> <li>getTime 方法（以及 Date 对象的其他方法） 都只能精确到毫秒级别（一秒的千分之一），无法计算更小的时间差。
<ul><li>这种写法只能获取代码运行过程中的时间进度，无法知道一些后台事件的时间进度，比如浏览器用 了多少时间从服务器加载网页。</li></ul></li> <li>实现:</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 计算加载时间</span>
<span class="token keyword">function</span> <span class="token function">getPerformanceTiming</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token keyword">var</span> performance <span class="token operator">=</span> window<span class="token punctuation">.</span>performance<span class="token punctuation">;</span>
  
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>performance<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 当前浏览器不支持</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'你的浏览器不支持 performance 接口'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  
    <span class="token keyword">var</span> t <span class="token operator">=</span> performance<span class="token punctuation">.</span>timing<span class="token punctuation">;</span>
    <span class="token keyword">var</span> times <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  
    <span class="token comment">//【重要】页面加载完成的时间</span>
    <span class="token comment">//【原因】这几乎代表了用户等待页面可用的时间</span>
    times<span class="token punctuation">.</span>loadPage <span class="token operator">=</span> t<span class="token punctuation">.</span>loadEventEnd <span class="token operator">-</span> t<span class="token punctuation">.</span>navigationStart<span class="token punctuation">;</span>
  
    <span class="token comment">//【重要】解析 DOM 树结构的时间</span>
    <span class="token comment">//【原因】反省下你的 DOM 树嵌套是不是太多了！</span>
    times<span class="token punctuation">.</span>domReady <span class="token operator">=</span> t<span class="token punctuation">.</span>domComplete <span class="token operator">-</span> t<span class="token punctuation">.</span>responseEnd<span class="token punctuation">;</span>
  
    <span class="token comment">//【重要】重定向的时间</span>
    <span class="token comment">//【原因】拒绝重定向！比如，http://example.com/ 就不该写成 http://example.com</span>
    times<span class="token punctuation">.</span>redirect <span class="token operator">=</span> t<span class="token punctuation">.</span>redirectEnd <span class="token operator">-</span> t<span class="token punctuation">.</span>redirectStart<span class="token punctuation">;</span>
  
    <span class="token comment">//【重要】DNS 查询时间</span>
    <span class="token comment">//【原因】DNS 预加载做了么？页面内是不是使用了太多不同的域名导致域名查询的时间太长？</span>
    <span class="token comment">// 可使用 HTML5 Prefetch 预查询 DNS ，见：[HTML5 prefetch](http://segmentfault.com/a/1190000000633364)           </span>
    times<span class="token punctuation">.</span>lookupDomain <span class="token operator">=</span> t<span class="token punctuation">.</span>domainLookupEnd <span class="token operator">-</span> t<span class="token punctuation">.</span>domainLookupStart<span class="token punctuation">;</span>
  
    <span class="token comment">//【重要】读取页面第一个字节的时间</span>
    <span class="token comment">//【原因】这可以理解为用户拿到你的资源占用的时间，加异地机房了么，加CDN 处理了么？加带宽了么？加 CPU 运算速度了么？</span>
    <span class="token comment">// TTFB 即 Time To First Byte 的意思</span>
    <span class="token comment">// 维基百科：https://en.wikipedia.org/wiki/Time_To_First_Byte</span>
    times<span class="token punctuation">.</span>ttfb <span class="token operator">=</span> t<span class="token punctuation">.</span>responseStart <span class="token operator">-</span> t<span class="token punctuation">.</span>navigationStart<span class="token punctuation">;</span>
  
    <span class="token comment">//【重要】内容加载完成的时间</span>
    <span class="token comment">//【原因】页面内容经过 gzip 压缩了么，静态资源 css/js 等压缩了么？</span>
    times<span class="token punctuation">.</span>request <span class="token operator">=</span> t<span class="token punctuation">.</span>responseEnd <span class="token operator">-</span> t<span class="token punctuation">.</span>requestStart<span class="token punctuation">;</span>
  
    <span class="token comment">//【重要】执行 onload 回调函数的时间</span>
    <span class="token comment">//【原因】是否太多不必要的操作都放到 onload 回调函数里执行了，考虑过延迟加载、按需加载的策略么？</span>
    times<span class="token punctuation">.</span>loadEvent <span class="token operator">=</span> t<span class="token punctuation">.</span>loadEventEnd <span class="token operator">-</span> t<span class="token punctuation">.</span>loadEventStart<span class="token punctuation">;</span>
  
    <span class="token comment">// DNS 缓存时间</span>
    times<span class="token punctuation">.</span>appcache <span class="token operator">=</span> t<span class="token punctuation">.</span>domainLookupStart <span class="token operator">-</span> t<span class="token punctuation">.</span>fetchStart<span class="token punctuation">;</span>
  
    <span class="token comment">// 卸载页面的时间</span>
    times<span class="token punctuation">.</span>unloadEvent <span class="token operator">=</span> t<span class="token punctuation">.</span>unloadEventEnd <span class="token operator">-</span> t<span class="token punctuation">.</span>unloadEventStart<span class="token punctuation">;</span>
  
    <span class="token comment">// TCP 建立连接完成握手的时间</span>
    times<span class="token punctuation">.</span>connect <span class="token operator">=</span> t<span class="token punctuation">.</span>connectEnd <span class="token operator">-</span> t<span class="token punctuation">.</span>connectStart<span class="token punctuation">;</span>
  
    <span class="token keyword">return</span> times<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br></div></div></li> <li><p>获取首次渲染、首次有内容的渲染
<img src="data:image/png;base64,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" alt=""></p></li></ul> <h3 id="resource-timing-api"><a href="#resource-timing-api" class="header-anchor">#</a> Resource Timing API</h3> <ul><li><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Resource_Timing_API" target="_blank" rel="noopener noreferrer"><code>Resource Timing API</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 为网络事件(如重定向的开始和结束事件, DNS查找的开始和结束事件, 请求开始, 响应开始和结束时间等)生成有高分辨率时间戳( <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/DOMHighResTimeStamp" target="_blank" rel="noopener noreferrer">high-resolution timestamps<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> )的资源加载时间线, 并提供了资源大小和资源类型.</p></li> <li><p>PerformanceResourceTiming 接口在 Performance Timeline 面板上有展现，并且其扩展 PerformanceEntry 接口。</p></li> <li><p>使用 <strong>performance.getEntries()方法</strong>  数组形式，返回一个 PerformanceEntry 列表，这些请求的时间统计信息，有多少个请求，返回数组就会有多少个成员。有以下属性：</p> <ul><li><p>name：这个属性必须返回请求资源的解析URL。如果重定向到其他URL，此属性也不更改。</p></li> <li><p>entryType：entryType属性返回 DOMString “resource”。entryType 类型不同数组中的对象结构也不同。initiatorType 表：</p></li> <li><table><thead><tr><th>**值 **</th> <th>**描述 **</th></tr></thead> <tbody><tr><td>mark</td> <td>通过 mark() 方法添加到数组中的对象</td></tr> <tr><td>paint</td> <td>通过 measure() 方法添加到数组中的对象</td></tr> <tr><td>measure</td> <td>first-contentful-paint 首次内容绘制</td></tr> <tr><td>resource</td> <td>所有资源加载时间，用处最多</td></tr></tbody></table></li> <li><p>startTime：startTime属性返回一个 DOMHighResTimeStamp [ HR-TIME-2 ]，表示用户代理获取资源开始排队等待之前的时间。如果在获取资源时存在 HTTP 重定向或类同情况，并且所有重定向或类同情况都来自与当前文档同源，或者通过了timing  allow check 算法，则此属性返回 redirectStart 的值。否则，此属性返回 fetchStart 的值。</p></li> <li><p>duration：该duration属性返回一个 DOMHighResTimeStamp，等于 responseEnd 和 startTime 之间的差。</p></li></ul></li></ul> <h3 id="工具监控"><a href="#工具监控" class="header-anchor">#</a> 工具监控</h3> <h3 id="lighthouse"><a href="#lighthouse" class="header-anchor">#</a> LightHouse</h3> <h4 id="安装-使用"><a href="#安装-使用" class="header-anchor">#</a> 安装/使用</h4> <p>针对不同的适用场景，我们可以通过多种方式来安装并使用 Lighthouse：</p> <ul><li>浏览器插件。Chrome 插件的形式提供了更加友好的用户界面，方便读取报告。</li> <li>Chrome DevTools。该工具集成在最新版本的 Chrome 浏览器中，无需安装即可使用。</li> <li>Lighthouse CLI 命令行工具。方便将 Lighthouse 集成到持续集成系统中。</li> <li>编程的方式。我们也能通过 Node.js 模块引入 Lighthouse 工具包，以编程的形式来使用它。</li></ul> <p>具体安装方式查看 <a href="https://lavas-project.github.io/pwa-book/appendix01/1-lighthouse.html#%E4%BD%BF%E7%94%A8-lighthouse-%E6%B5%8B%E8%AF%84-pwa" target="_blank" rel="noopener noreferrer">使用 Lighthouse<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="测评报告"><a href="#测评报告" class="header-anchor">#</a> 测评报告</h4> <ul><li><p>使用 Lighthouse 对网站进行测评后，我们会得到一份评分报告，它包含了：</p> <ul><li>性能（Performance）</li> <li>访问无障碍（Accessibility）</li> <li>最佳实践（Best Practice）</li> <li>搜索引擎优化（SEO）</li> <li>PWA（Progressive Web App）</li></ul> <p><img src="/myblog/assets/img/lighthouse1.2f6ac158.png" alt=""></p></li> <li><p>报告中带有相关优化建议：</p> <ul><li>性能（Performance）结果:<img src="/myblog/assets/img/lighthouse2.24f683fd.png" alt=""> <ul><li>性能评分分为了三部分：
<ul><li><a href="https://web.dev/lighthouse-performance/#metrics" target="_blank" rel="noopener noreferrer">Metrics<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 部分的指标项会直接影响分数，可以作为我们的主要参考点。</li> <li><a href="https://web.dev/lighthouse-performance/#opportunities" target="_blank" rel="noopener noreferrer">Opportunities<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 提供了详细的建议和文档，来解释低分的原因，帮助我们具体进行实现和改进。</li> <li><a href="https://web.dev/lighthouse-performance/#diagnostics" target="_blank" rel="noopener noreferrer">Diagnostics<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 部分的列表项则为进一步改善性能的实验和调整，给出了指导。</li></ul></li></ul></li> <li>访问无障碍（Accessibility）测试结果：<img src="/myblog/assets/img/lighthouse3.902ac703.png" alt=""></li> <li>最佳实践（Best Practice）测试结果：<img src="/myblog/assets/img/lighthouse4.7cb39a07.png" alt=""></li> <li>SEO 测试结果：<img src="/myblog/assets/img/lighthouse5.189b5b55.png" alt=""></li> <li>PWA 测试结果：<img src="/myblog/assets/img/lighthouse6.4700339c.png" alt=""></li></ul></li></ul> <h4 id="performance-评分"><a href="#performance-评分" class="header-anchor">#</a> Performance 评分</h4> <ul><li><p>性能评分的分值区间是：0到100。</p> <ul><li>如果出现0分，通常是在运行 Lighthouse 时发生了错误，满分100分代表了站点已经达到了98分位值的数据，而50分则是75分位值的数据。</li> <li>分值区间和颜色的对应关系如下：
<ul><li>0 - 49（慢）：红色</li> <li>50 - 89（平均值）： 橙色</li> <li>90 - 100（快）： 绿色</li></ul></li></ul></li> <li><p>性能指标评分的计算方式：每一项性能指标对评分的贡献都有其计算逻辑，Lighthouse 会将原始的性能值映射成为 0-100 之间的数字。评分使用 HTTPArchive 上的真实站点性能数据作为样本，统计出对数正态分布。</p> <ul><li>例如，您的 FCP 分数是基于<a href="https://httparchive.org/reports/loading-speed#fcp" target="_blank" rel="noopener noreferrer">HTTP 存档中的数据<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，您的页面的 FCP 时间与真实网站的 FCP 时间的比较。例如，在 99% 中执行的站点在大约 1.2 秒内呈现 FCP。如果您网站的 FCP 为 1.2 秒，则您的 FCP 分数为 99。请参阅<a href="https://web.dev/performance-scoring/#metric-scores" target="_blank" rel="noopener noreferrer">如何确定指标分数<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>以了解如何设置 Lighthouse 分数阈值。参考<a href="https://web.dev/first-contentful-paint/#how-lighthouse-determines-your-fcp-score" target="_blank" rel="noopener noreferrer">Lighthouse 如何确定分数<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li> <li><p>性能评分的分配权重：各个指标对性能评分的贡献并不相同，Lighthouse 提供了<a href="https://docs.google.com/spreadsheets/d/1Cxzhy5ecqJCucdf1M0iOzM8mIxNc7mmx107o5nj38Eo/edit#gid=0" target="_blank" rel="noopener noreferrer">评分详情表<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，形式如下图，来查阅具体权重分配情况。权重较大的指标，对性能评分的影响更大一些，最终的总体性能评分是这些性能指标分数的加权平均值。我们可以用这个分数计算的<a href="https://docs.google.com/spreadsheets/d/1dXH-bXX3gxqqpD1f7rp6ImSOhobsT1gn_GQ2fGZp8UU/edit?ts=59fb61d2#gid=283330180" target="_blank" rel="noopener noreferrer">表格<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>作为参考，以了解不同的指标是如何影响最终评分的。<img src="/myblog/assets/img/性能评分权重表.1a63804c.png" alt=""></p> <p>从表中可以看出，性能的指标项权重分配如下：</p> <ul><li>3X - 首次内容绘制</li> <li>1X - 首次有效绘制</li> <li>2X - 首次 CPU 空闲</li> <li>5X - 可交互时间</li> <li>4X - 速度指标</li> <li>0X - 输入延迟估值</li></ul></li> <li><p>不同 Lighthouse 版本对权重不同：</p> <ul><li><a href="https://web.dev/performance-scoring/#lighthouse-8" target="_blank" rel="noopener noreferrer">Lighthouse 8 <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <table><thead><tr><th style="text-align:left;">Audit</th> <th style="text-align:left;">Weight</th></tr></thead> <tbody><tr><td style="text-align:left;"><a href="https://web.dev/first-contentful-paint/" target="_blank" rel="noopener noreferrer">First Contentful Paint<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td style="text-align:left;">10%</td></tr> <tr><td style="text-align:left;"><a href="https://web.dev/speed-index/" target="_blank" rel="noopener noreferrer">Speed Index<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td style="text-align:left;">10%</td></tr> <tr><td style="text-align:left;"><a href="https://web.dev/lcp/" target="_blank" rel="noopener noreferrer">Largest Contentful Paint<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td style="text-align:left;">25%</td></tr> <tr><td style="text-align:left;"><a href="https://web.dev/interactive/" target="_blank" rel="noopener noreferrer">Time to Interactive<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td style="text-align:left;">10%</td></tr> <tr><td style="text-align:left;"><a href="https://web.dev/lighthouse-total-blocking-time/" target="_blank" rel="noopener noreferrer">Total Blocking Time<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td style="text-align:left;">30%</td></tr> <tr><td style="text-align:left;"><a href="https://web.dev/cls/" target="_blank" rel="noopener noreferrer">Cumulative Layout Shift<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td style="text-align:left;">15%</td></tr></tbody></table> <ul><li><a href="https://web.dev/performance-scoring/#lighthouse-6" target="_blank" rel="noopener noreferrer">Lighthouse 6 <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <table><thead><tr><th style="text-align:left;">Audit</th> <th style="text-align:left;">Weight</th></tr></thead> <tbody><tr><td style="text-align:left;"><a href="https://web.dev/first-contentful-paint/" target="_blank" rel="noopener noreferrer">First Contentful Paint<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td style="text-align:left;">15%</td></tr> <tr><td style="text-align:left;"><a href="https://web.dev/speed-index/" target="_blank" rel="noopener noreferrer">Speed Index<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td style="text-align:left;">15%</td></tr> <tr><td style="text-align:left;"><a href="https://web.dev/lcp/" target="_blank" rel="noopener noreferrer">Largest Contentful Paint<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td style="text-align:left;">25%</td></tr> <tr><td style="text-align:left;"><a href="https://web.dev/interactive/" target="_blank" rel="noopener noreferrer">Time to Interactive<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td style="text-align:left;">15%</td></tr> <tr><td style="text-align:left;"><a href="https://web.dev/lighthouse-total-blocking-time/" target="_blank" rel="noopener noreferrer">Total Blocking Time<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td style="text-align:left;">25%</td></tr> <tr><td style="text-align:left;"><a href="https://web.dev/cls/" target="_blank" rel="noopener noreferrer">Cumulative Layout Shift<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td style="text-align:left;">5%</td></tr></tbody></table> <ul><li>Lighthouse 5</li></ul> <table><thead><tr><th style="text-align:left;">Audit</th> <th style="text-align:left;">Weight</th></tr></thead> <tbody><tr><td style="text-align:left;"><a href="https://web.dev/first-contentful-paint/" target="_blank" rel="noopener noreferrer">First Contentful Paint<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td style="text-align:left;">20%</td></tr> <tr><td style="text-align:left;"><a href="https://web.dev/speed-index/" target="_blank" rel="noopener noreferrer">Speed Index<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td style="text-align:left;">27%</td></tr> <tr><td style="text-align:left;"><a href="https://web.dev/first-meaningful-paint/" target="_blank" rel="noopener noreferrer">First Meaningful Paint<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td style="text-align:left;">7%</td></tr> <tr><td style="text-align:left;"><a href="https://web.dev/interactive/" target="_blank" rel="noopener noreferrer">Time to Interactive<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td style="text-align:left;">33%</td></tr> <tr><td style="text-align:left;"><a href="https://web.dev/first-cpu-idle/" target="_blank" rel="noopener noreferrer">First CPU Idle<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td style="text-align:left;">13%</td></tr></tbody></table></li> <li><p>使用<a href="https://googlechrome.github.io/lighthouse/scorecalc/" target="_blank" rel="noopener noreferrer">Lighthouse 评分计算器<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>来帮助了解您应该为达到某个 Lighthouse 性能分数而设定的阈值。</p></li></ul> <h2 id="参考资料"><a href="#参考资料" class="header-anchor">#</a> <strong>参考资料</strong></h2> <p><a href="https://web.dev/lighthouse-performance/" target="_blank" rel="noopener noreferrer">Lighthoust Performance audits<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://web.dev/articles/vitals?hl=zh-cn" target="_blank" rel="noopener noreferrer">Web Vitals  | Articles  | web.dev<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <!----> <div class="content__content-bottom"></div> <footer class="page-meta"><!----> <div class="meta-item update-time"><span class="label">Last update:</span> <span class="info">February 1, 2024 20:17</span></div> <div class="meta-item contributors"><span class="label">Contributors: </span> <span class="info"><span title="email: 596777598@qq.com" class="contributor">
          sewar
        </span> <!----></span></div></footer> <!----> <!----> <!----> <div class="content__page-bottom"></div></main> <!----></div><div class="global-ui"><!----><div id="pwa-install"><!----> <div id="install-modal-wrapper" style="display:none;"><div class="background"></div> <div class="install-modal"><div class="header"><button aria-label="Close" class="close-button"><svg width="23" height="22" xmlns="http://www.w3.org/2000/svg" class="icon close-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.12.358a1.224 1.224 0 011.729 0l8.92 8.914L20.686.358a1.224 1.224 0 011.73 1.728L13.497 11l8.92 8.913a1.222 1.222 0 11-1.73 1.729l-8.919-8.913-8.92 8.913a1.224 1.224 0 01-1.729-1.729L10.04 11l-8.92-8.914a1.222 1.222 0 010-1.728z" fill="currentColor"></path></svg></button> <div class="logo"><!----> <div class="title"><h1></h1> <p class="desc">This app can be installed on your PC or mobile device.  This will allow this web app to look and behave like any other installed app.  You will find it in your app lists and be able to pin it to your home screen, start menus or task bars.  This installed web app will also be able to safely interact with other apps and your operating system. </p></div></div></div> <div class="content"><div class="highlight"><!----> <!----></div> <div class="description"><h3>Description</h3> <p></p></div></div> <div class="button-wrapper"><button class="install-button">
        Install <span></span></button> <button class="cancel-button">
        Cancel
      </button></div></div></div></div><!----><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button title="Close" aria-label="Close" class="pswp__button pswp__button--close"></button> <button title="Share" aria-label="Share" class="pswp__button pswp__button--share"></button> <button title="Switch to full screen" aria-label="Switch to full screen" class="pswp__button pswp__button--fs"></button> <button title="Zoom in/out" aria-label="Zoom in/out" class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button title="Prev (Arrow Left)" aria-label="Prev (Arrow Left)" class="pswp__button pswp__button--arrow--left"></button> <button title="Next (Arrow Right)" aria-label="Next (Arrow Right)" class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div></div>
    <script src="/myblog/assets/js/app.9d2b617a.js" defer></script><script src="/myblog/assets/js/layout-Layout.d2d4ce64.js" defer></script><script src="/myblog/assets/js/page-性能优化指标和监控.f2175836.js" defer></script><script src="/myblog/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-components/Blog/BlogHome~layout-components/~2222f443.5835591a.js" defer></script>
  </body>
</html>
