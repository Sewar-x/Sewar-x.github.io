<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>VueRouter原理分析 | Sewen 博客</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="./mylogo.png">
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.min.js"></script>
    <link rel="manifest" href="/myblog/manifest.webmanifest" crossorigin="use-credentials">
    <link rel="alternate" type="application/atom+xml" href="https://sewar-x.github.io/myblog/atom.xml" title="Sewen 博客 Atom Feed">
    <link rel="alternate" type="application/json" href="https://sewar-x.github.io/myblog/rss.xml" title="Sewen 博客 JSON Feed">
    <link rel="alternate" type="application/rss+xml" href="https://sewar-x.github.io/myblog/rss.xml" title="Sewen 博客 RSS Feed">
    <meta name="description" content="sewen 的前端学习笔记、博客、前端基础总结、技术深度剖析、面试题总结、算法总结、项目过程总结">
    <meta property="og:url" content="https://sewar-x.github.io/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90.html">
    <meta property="og:site_name" content="Sewen 博客">
    <meta property="og:title" content="VueRouter原理分析">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="en-US">
    <meta name="theme-color" content="#46bd87">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <link rel="preload" href="/myblog/assets/css/0.styles.645fbc6f.css" as="style"><link rel="preload" href="/myblog/assets/js/app.9d2b617a.js" as="script"><link rel="preload" href="/myblog/assets/js/layout-Layout.d2d4ce64.js" as="script"><link rel="preload" href="/myblog/assets/js/page-VueRouter原理分析.0a092eb6.js" as="script"><link rel="preload" href="/myblog/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-components/Blog/BlogHome~layout-components/~2222f443.5835591a.js" as="script"><link rel="prefetch" href="/myblog/assets/js/199.a9216960.js"><link rel="prefetch" href="/myblog/assets/js/200.4c66fc79.js"><link rel="prefetch" href="/myblog/assets/js/layout-Blog.1fca7e90.js"><link rel="prefetch" href="/myblog/assets/js/layout-NotFound.3c74e8aa.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/AlgoliaSearch/Dropdown.70fcebe7.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Anchor.3235541c.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/ArticleInfo.7b815b20.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/ArticleItem.b0e177e1.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/ArticleList.d1cf1b24.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/ArticleType.b630b80e.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/BlogHero.621312ba.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/BlogHome.4fe44489.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/BlogInfo.b2a94760.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/BlogPage.e0fbe820.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/BloggerInfo.0df38355.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/CategoryList.ec1bcd96.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/ProjectList.8550a110.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/TagList.bcf7b782.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/Timeline.b6cf5471.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/TimelineList.3c6e08a6.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Clipboard.e940a903.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Common.820a8694.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Home.70383986.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/MyTransition.0de46069.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/DropdownLink.e3f6c118.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/NavLink.93b11770.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/NavLinks.8ba214e6.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/Navbar.b90a94f9.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/RepoLink.663a7f55.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/SidebarButton.76b0035a.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Page.98b5d09c.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/PageFooter.20bc9bd8.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/PageMeta.b7e6b12f.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/PageNav.8305dd1f.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Password.45e0e82a.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/DropdownTransition.068c5eea.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/Sidebar.f6f90d52.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/SidebarDropdownLink.505127a8.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/SidebarGroup.7eecf370.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/SidebarLink.6e39fe32.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/SidebarNavLinks.0f8566cb.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Theme/DarkmodeSwitch.20ac7b92.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Theme/ThemeColor.6086e4ed.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Theme/ThemeOptions.483238c9.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/ArticleIcon.0a22e2b1.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/AutoIcon.2ff1c790.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/BookIcon.419b49ba.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/DarkIcon.7d81873b.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/EditIcon.8ada485d.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/EmptyIcon.d704a5cf.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/I18nIcon.ffad8b3e.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/LightIcon.47d807da.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/LinkIcon.1a8a7826.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/LockIcon.a29a2b79.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/NextIcon.0214ee59.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/Page404Icon.8bc1ebbb.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/PresentationIcon.17500d9b.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/PrevIcon.2ae04a70.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/ProjectIcon.b336d567.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/StickyIcon.0f509b9d.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Baidu.244b9a41.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Bitbucket.11ba94e1.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Dingding.e8a3d90d.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Discord.3295a55b.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Dribbble.464dac3b.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Email.f9254caa.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Evernote.991472fb.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Facebook.08e78e47.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Flipboard.a1124d0f.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Gitee.c44bc20a.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Github.5667e5ae.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Gitlab.ad95c7a7.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Gmail.b5acc6bc.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Instagram.56be85f2.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Lines.d9db3dce.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Linkedin.b82d8d8b.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Pinterest.0f3ffe71.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Pocket.41ef3c92.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/QQ.7558f4ba.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Qzone.bf658fae.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Reddit.9c4c95ee.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Rss.9780139e.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Steam.06abbae2.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Twitter.26fa5bda.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Wechat.9cac8c4c.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Weibo.5206a632.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Whatsapp.0738f1e3.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Youtube.f41fd7f2.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Zhihu.4d851d2f.js"><link rel="prefetch" href="/myblog/assets/js/page--0abc50bf.0d6f1484.js"><link rel="prefetch" href="/myblog/assets/js/page--1cd40f4c.dd76c7b3.js"><link rel="prefetch" href="/myblog/assets/js/page--53f93199.e80bdec8.js"><link rel="prefetch" href="/myblog/assets/js/page--5afd2fd0.adea4e92.js"><link rel="prefetch" href="/myblog/assets/js/page--67c584d3.0a3f3cd9.js"><link rel="prefetch" href="/myblog/assets/js/page--776a8506.cdf48aac.js"><link rel="prefetch" href="/myblog/assets/js/page-CSS.eb94b29f.js"><link rel="prefetch" href="/myblog/assets/js/page-Chrome开发工具使用指南.a2675120.js"><link rel="prefetch" href="/myblog/assets/js/page-DevServer.0281863d.js"><link rel="prefetch" href="/myblog/assets/js/page-Echarts二次封装.4387b8ad.js"><link rel="prefetch" href="/myblog/assets/js/page-Elementui与Element-plusui二次封装.82f12a09.js"><link rel="prefetch" href="/myblog/assets/js/page-Git基础.03c616ad.js"><link rel="prefetch" href="/myblog/assets/js/page-Git规范.e2fdc38a.js"><link rel="prefetch" href="/myblog/assets/js/page-HTML.1e3c14b9.js"><link rel="prefetch" href="/myblog/assets/js/page-Home.f0b7e772.js"><link rel="prefetch" href="/myblog/assets/js/page-JSON配置化组件二次封装.12060fd9.js"><link rel="prefetch" href="/myblog/assets/js/page-JS原理实现.3c427e19.js"><link rel="prefetch" href="/myblog/assets/js/page-JS应用题.3d313b34.js"><link rel="prefetch" href="/myblog/assets/js/page-JavaScript基础.551be887.js"><link rel="prefetch" href="/myblog/assets/js/page-Linux.c6159ebd.js"><link rel="prefetch" href="/myblog/assets/js/page-Loader和Plugin原理.b2971b76.js"><link rel="prefetch" href="/myblog/assets/js/page-MySQL.0b1d704a.js"><link rel="prefetch" href="/myblog/assets/js/page-NPM.a55851b2.js"><link rel="prefetch" href="/myblog/assets/js/page-Node.ec405a21.js"><link rel="prefetch" href="/myblog/assets/js/page-Nodejs常见问题集合.12844e69.js"><link rel="prefetch" href="/myblog/assets/js/page-Node性能优化.b4ea1c34.js"><link rel="prefetch" href="/myblog/assets/js/page-Promise专题.7869a31b.js"><link rel="prefetch" href="/myblog/assets/js/page-React.d76cf0ac.js"><link rel="prefetch" href="/myblog/assets/js/page-SSG移动端项目实践.2122615b.js"><link rel="prefetch" href="/myblog/assets/js/page-TypeScript.4f597fda.js"><link rel="prefetch" href="/myblog/assets/js/page-Vite.637881bf.js"><link rel="prefetch" href="/myblog/assets/js/page-Vite原理解析.6677fdb4.js"><link rel="prefetch" href="/myblog/assets/js/page-Vue25项目webpack构建分析.7bbea0fa.js"><link rel="prefetch" href="/myblog/assets/js/page-Vue2VsVue3.10be4140.js"><link rel="prefetch" href="/myblog/assets/js/page-Vue2x原理源码分析.e9e753b6.js"><link rel="prefetch" href="/myblog/assets/js/page-Vue3基础.210247ff.js"><link rel="prefetch" href="/myblog/assets/js/page-Vue3源码分析.17379e04.js"><link rel="prefetch" href="/myblog/assets/js/page-VueCli源码分析.afc3c83f.js"><link rel="prefetch" href="/myblog/assets/js/page-VueSSR原理分析.63006040.js"><link rel="prefetch" href="/myblog/assets/js/page-VueVsReact.2156be28.js"><link rel="prefetch" href="/myblog/assets/js/page-Vuex原理分析.5ba3e6e4.js"><link rel="prefetch" href="/myblog/assets/js/page-WEB安全.5aa0eeef.js"><link rel="prefetch" href="/myblog/assets/js/page-WebPack构建原理.9c29703e.js"><link rel="prefetch" href="/myblog/assets/js/page-webpackAPI分析.4c8b152b.js"><link rel="prefetch" href="/myblog/assets/js/page-webpack优化.dcc6c3bc.js"><link rel="prefetch" href="/myblog/assets/js/page-webpack基础.3820ee6c.js"><link rel="prefetch" href="/myblog/assets/js/page-webpack项目实践.77e22417.js"><link rel="prefetch" href="/myblog/assets/js/page-一次后台管理系统的性能优化.7c2d8712.js"><link rel="prefetch" href="/myblog/assets/js/page-从零到一搭建SSR项目.855376fc.js"><link rel="prefetch" href="/myblog/assets/js/page-从零到一搭建Vue2项目和规范设计.93017fd2.js"><link rel="prefetch" href="/myblog/assets/js/page-从零到一搭建Vue3单页面应用.de152d54.js"><link rel="prefetch" href="/myblog/assets/js/page-从零到一搭建公共组件库.93278073.js"><link rel="prefetch" href="/myblog/assets/js/page-从零到一搭建移动端SSG项目.9c113d06.js"><link rel="prefetch" href="/myblog/assets/js/page-使用docker部署Node服务.5cf328fd.js"><link rel="prefetch" href="/myblog/assets/js/page-分治.e3dfc22d.js"><link rel="prefetch" href="/myblog/assets/js/page-前端发版静态资源404问题.9eb1ca89.js"><link rel="prefetch" href="/myblog/assets/js/page-前端存储.cd82cf54.js"><link rel="prefetch" href="/myblog/assets/js/page-前端工程化.1e6e58d0.js"><link rel="prefetch" href="/myblog/assets/js/page-前端性能优化方案.83718d22.js"><link rel="prefetch" href="/myblog/assets/js/page-前端架构实践.171dbc0f.js"><link rel="prefetch" href="/myblog/assets/js/page-前端渲染架构.3b783de8.js"><link rel="prefetch" href="/myblog/assets/js/page-前端自动部署.5076846c.js"><link rel="prefetch" href="/myblog/assets/js/page-前端部署原理.82ecd8a7.js"><link rel="prefetch" href="/myblog/assets/js/page-动态规划.a3af92f1.js"><link rel="prefetch" href="/myblog/assets/js/page-哈希表.c76000e8.js"><link rel="prefetch" href="/myblog/assets/js/page-回溯算法.cd914c32.js"><link rel="prefetch" href="/myblog/assets/js/page-图.dfd9828a.js"><link rel="prefetch" href="/myblog/assets/js/page-基础.7bf5a37b.js"><link rel="prefetch" href="/myblog/assets/js/page-堆.4657e538.js"><link rel="prefetch" href="/myblog/assets/js/page-字符串.252f2a08.js"><link rel="prefetch" href="/myblog/assets/js/page-异步编程.904f4c65.js"><link rel="prefetch" href="/myblog/assets/js/page-性能优化指标和监控.f2175836.js"><link rel="prefetch" href="/myblog/assets/js/page-排序算法.c7a51b99.js"><link rel="prefetch" href="/myblog/assets/js/page-搭建低代码平台.19eaf5ec.js"><link rel="prefetch" href="/myblog/assets/js/page-操作系统.473c4281.js"><link rel="prefetch" href="/myblog/assets/js/page-数学运算.c82748fb.js"><link rel="prefetch" href="/myblog/assets/js/page-数据结构算法.84480586.js"><link rel="prefetch" href="/myblog/assets/js/page-数组.692b0d0a.js"><link rel="prefetch" href="/myblog/assets/js/page-权限管理.c7e10db0.js"><link rel="prefetch" href="/myblog/assets/js/page-查找.790e52df.js"><link rel="prefetch" href="/myblog/assets/js/page-栈和队列.8dbc3586.js"><link rel="prefetch" href="/myblog/assets/js/page-树.24efdeaa.js"><link rel="prefetch" href="/myblog/assets/js/page-浏览器.bee9ec04.js"><link rel="prefetch" href="/myblog/assets/js/page-混合桌面应用开发.9e10d1c3.js"><link rel="prefetch" href="/myblog/assets/js/page-登录.bb830451.js"><link rel="prefetch" href="/myblog/assets/js/page-目录.c85b4d0b.js"><link rel="prefetch" href="/myblog/assets/js/page-移动端开发.56ac22ec.js"><link rel="prefetch" href="/myblog/assets/js/page-组件和组件封装.b5e86da2.js"><link rel="prefetch" href="/myblog/assets/js/page-计算机网络基础.0a106662.js"><link rel="prefetch" href="/myblog/assets/js/page-设计模式.ffdc7cfd.js"><link rel="prefetch" href="/myblog/assets/js/page-调试技巧.485ae36e.js"><link rel="prefetch" href="/myblog/assets/js/page-贪心算法.0f417640.js"><link rel="prefetch" href="/myblog/assets/js/page-输入url到页面展示全过程.510aef2e.js"><link rel="prefetch" href="/myblog/assets/js/page-递归.5e55e552.js"><link rel="prefetch" href="/myblog/assets/js/page-链表.1cf6927f.js"><link rel="prefetch" href="/myblog/assets/js/page-项目总结.ffcd2a4b.js"><link rel="prefetch" href="/myblog/assets/js/vendors~docsearch.f3877d0d.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-components/Blog/BlogHome~layout-components/~5d377965.d9712593.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-Blog~layout-Layout~layout-components/Blog/ArticleItem~layout-components/Blog/ArticleL~b56f3aac.47bb5cb5.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-NotFound~layout-components/Common~layout-components/Page.57d58db9.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-Slide.81546b3b.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-components/AlgoliaSearch/Full.b30f067a.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-components/Blog/BlogPage.bcccbd38.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-components/Navbar/Navbar.e2a7361e.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-components/Page.6c65077c.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-components/Sidebar/Sidebar.34cd9cf7.js"><link rel="prefetch" href="/myblog/assets/js/vendors~photo-swipe.428df1da.js">
    <link rel="stylesheet" href="/myblog/assets/css/0.styles.645fbc6f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container has-navbar has-sidebar has-anchor"><header class="navbar"><!----> <div class="content__navbar-start"></div> <button title="Sidebar Button" class="sidebar-button"><span class="icon"></span></button> <a href="/myblog/" class="home-link router-link-active"><img src="./mylogo.png" alt="Sewen 博客" class="logo"> <!----> <span class="site-name can-hide">Sewen 博客</span></a> <!----> <div class="content__navbar-center"></div> <div class="links"><button tabindex="-1" aria-hidden="true" class="color-button"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="skin-icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4
        38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32
        51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0
        102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2
        6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4
        0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2
        9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224
        419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4
        470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0
        22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6
        12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128
        505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2
        16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8
        86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4
        80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6
        6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg> <div class="color-picker-menu" style="display:none;"><div class="theme-options"><ul class="themecolor-select"><label for="themecolor-select">Theme Color:</label> <li><span class="default-theme"></span></li> </ul> <div class="darkmode-toggle"><label for="darkmode-toggle" class="desc">Theme Mode:</label> <div class="darkmode-switch"><div class="item day"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon light-icon"><path d="M512 256a42.667 42.667 0 0 0 42.667-42.667V128a42.667 42.667 0 0 0-85.334 0v85.333A42.667 42.667 0 0 0 512 256zm384 213.333h-85.333a42.667 42.667 0 0 0 0 85.334H896a42.667 42.667 0 0 0 0-85.334zM256 512a42.667 42.667 0 0 0-42.667-42.667H128a42.667 42.667 0 0 0 0 85.334h85.333A42.667 42.667 0 0 0 256 512zm9.387-298.667a42.667 42.667 0 0 0-59.307 62.72l61.44 59.307a42.667 42.667 0 0 0 31.147 11.947 42.667 42.667 0 0 0 30.72-13.227 42.667 42.667 0 0 0 0-60.16zm459.946 133.974a42.667 42.667 0 0 0 29.44-11.947l61.44-59.307a42.667 42.667 0 0 0-57.6-62.72l-61.44 60.587a42.667 42.667 0 0 0 0 60.16 42.667 42.667 0 0 0 28.16 13.227zM512 768a42.667 42.667 0 0 0-42.667 42.667V896a42.667 42.667 0 0 0 85.334 0v-85.333A42.667 42.667 0 0 0 512 768zm244.48-79.36a42.667 42.667 0 0 0-59.307 61.44l61.44 60.587a42.667 42.667 0 0 0 29.44 11.946 42.667 42.667 0 0 0 30.72-12.8 42.667 42.667 0 0 0 0-60.586zm-488.96 0-61.44 59.307a42.667 42.667 0 0 0 0 60.586 42.667 42.667 0 0 0 30.72 12.8 42.667 42.667 0 0 0 28.587-10.666l61.44-59.307a42.667 42.667 0 0 0-59.307-61.44zM512 341.333A170.667 170.667 0 1 0 682.667 512 170.667 170.667 0 0 0 512 341.333z" fill="currentColor"></path></svg></div> <div class="item auto active"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon auto-icon"><path d="M460.864 539.072H564.8L510.592 376l-49.728 163.072zM872 362.368V149.504H659.648L510.528 0l-149.12 149.504H149.12v212.928L0 511.872l149.12 149.504v212.928h212.352l149.12 149.504 149.12-149.504h212.352V661.376l149.12-149.504L872 362.368zM614.464 693.12l-31.616-90.624H438.272l-31.616 90.624h-85.888l144.576-407.68h90.368l144.576 407.68h-85.824zm0 0" fill="currentColor"></path></svg></div> <div class="item night"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon dark-icon"><path d="M935.539 630.402c-11.43-11.432-28.674-14.739-43.531-8.354-46.734 20.103-96.363 30.297-147.508 30.297-99.59 0-193.221-38.784-263.64-109.203-108.637-108.637-139.61-270.022-78.908-411.148a39.497 39.497 0 0 0-51.886-51.887c-52.637 22.64-100.017 54.81-140.826 95.616-85.346 85.346-132.346 198.821-132.346 319.52 0 120.7 47.001 234.172 132.347 319.519S408.063 947.11 528.76 947.11c120.7 0 234.172-47.003 319.52-132.351 40.809-40.81 72.978-88.19 95.616-140.826a39.497 39.497 0 0 0-8.356-43.532z" fill="currentColor"></path></svg></div></div> <!----></div></div></div></button> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/myblog/" class="nav-link router-link-active"><!---->
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Front-end Basics" class="dropdown-title"><span class="title"><!---->
        前端基础
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/vue/html/" class="nav-link"><!---->
  HTML
</a></li><li class="dropdown-item"><a href="/myblog/vue/css/" class="nav-link"><!---->
  Css
</a></li><li class="dropdown-item"><a href="/myblog/vue/javascript/" class="nav-link"><!---->
  JavaScript
</a></li><li class="dropdown-item"><a href="/myblog/vue/typescript/" class="nav-link"><!---->
  TypeScript
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><span class="title"><!---->
        计算机基础
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/vue/algorithms/" class="nav-link"><!---->
  数据结构和算法
</a></li><li class="dropdown-item"><a href="/myblog/vue/network/" class="nav-link"><!---->
  计算机网络/HTTP
</a></li><li class="dropdown-item"><a href="/myblog/vue/network/输入url到页面展示全过程/" class="nav-link"><!---->
  输入url到页面展示全过程
</a></li><li class="dropdown-item"><a href="/myblog/vue/operating-system/" class="nav-link"><!---->
  操作系统
</a></li><li class="dropdown-item"><a href="/myblog/vue/design-model/" class="nav-link"><!---->
  设计模式
</a></li><li class="dropdown-item"><a href="/myblog/vue/Web-Security/" class="nav-link"><!---->
  Web安全
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架和源码分析" class="dropdown-title"><span class="title"><!---->
        框架和源码分析
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/vue/vue/Vue2原理和源码分析.html" class="nav-link"><!---->
  Vue 专题
</a></li><li class="dropdown-item"><a href="/myblog/vue/React/" class="nav-link"><!---->
  React 专题
</a></li><li class="dropdown-item"><a href="/myblog/vue/webpack/webpack构建原理.html" class="nav-link"><!---->
  webpack 专题
</a></li><li class="dropdown-item"><a href="/myblog/vue/vite/" class="nav-link"><!---->
  vite 专题
</a></li><li class="dropdown-item"><a href="/myblog/vue/axios/" class="nav-link"><!---->
  Axios 专题
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="浏览器" class="dropdown-title"><span class="title"><!---->
        浏览器
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/vue/browser/浏览器原理/" class="nav-link"><!---->
  浏览器原理
</a></li><li class="dropdown-item"><a href="/myblog/vue/browser/前端缓存和存储/" class="nav-link"><!---->
  前端缓存和存储
</a></li><li class="dropdown-item"><a href="/myblog/vue/performance/前端调试技巧/" class="nav-link"><!---->
  前端调试技巧
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="node.js" class="dropdown-title"><span class="title"><!---->
        服务器
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/vue/node/" class="nav-link"><!---->
  Node.js
</a></li><li class="dropdown-item"><a href="/myblog/vue/linux/" class="nav-link"><!---->
  Linux
</a></li><li class="dropdown-item"><a href="/myblog/vue/mysql/" class="nav-link"><!---->
  MySQL
</a></li><li class="dropdown-item"><a href="/myblog/vue/nginx/" class="nav-link"><!---->
  Nginx
</a></li><li class="dropdown-item"><a href="/myblog/vue/docker/" class="nav-link"><!---->
  Docker
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="浏览器和性能优化" class="dropdown-title"><span class="title"><!---->
        性能优化
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/vue/performance/性能优化指标和监控/" class="nav-link"><!---->
  性能优化指标和监控
</a></li><li class="dropdown-item"><a href="/myblog/vue/performance/前端性能优化方案/" class="nav-link"><!---->
  前端性能优化方案
</a></li><li class="dropdown-item"><a href="/myblog/vue/performance/一次管理后台的渲染优化/" class="nav-link"><!---->
  一次管理后台的渲染优化
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端工程" class="dropdown-title"><span class="title"><!---->
        前端工程
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/vue/Front-end-Engineering/前端工程化/" class="nav-link"><!---->
  前端工程化
</a></li><li class="dropdown-item"><a href="/myblog/vue/Front-end-Engineering/前端渲染架构/" class="nav-link"><!---->
  前端渲染架构
</a></li><li class="dropdown-item"><a href="/myblog/vue/Front-end-Engineering/前端架构实践/" class="nav-link"><!---->
  前端架构实践
</a></li><li class="dropdown-item"><a href="/myblog/vue/Front-end-Engineering/npm/" class="nav-link"><!---->
  npm
</a></li><li class="dropdown-item"><a href="/myblog/vue/git/" class="nav-link"><!---->
  Git
</a></li><li class="dropdown-item"><a href="/myblog/vue/projectDeploy/自动构建和部署/" class="nav-link"><!---->
  自动构建和部署
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目实践" class="dropdown-title"><span class="title"><!---->
        项目实践
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/vue/projectDeploy/" class="nav-link"><!---->
  前端部署
</a></li><li class="dropdown-item"><a href="/myblog/vue/componentsEncapsulation/组件和组件封装实践.html" class="nav-link"><!---->
  组件和组件封装实践
</a></li><li class="dropdown-item"><a href="/myblog/vue/projectsSummary/登录与单点登录/" class="nav-link"><!---->
  登录与单点登录
</a></li><li class="dropdown-item"><a href="/myblog/vue/projectsSummary/权限管理方案实践/" class="nav-link"><!---->
  权限管理方案实践
</a></li><li class="dropdown-item"><a href="/myblog/vue/projectsSummary/Echarts二次封装实践/" class="nav-link"><!---->
  Echarts二次封装实践
</a></li><li class="dropdown-item"><a href="/myblog/vue/projectsSummary/文档在线预览和编辑方案/" class="nav-link"><!---->
  文档在线预览和编辑方案
</a></li><li class="dropdown-item"><a href="/myblog/vue/projectsSummary/移动端开发实践/" class="nav-link"><!---->
  移动端开发实践
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目搭建到原理分析" class="dropdown-title"><span class="title"><!---->
        项目搭建
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/vue/projectsSummary/从零到一搭建SSR项目/" class="nav-link"><!---->
  从零到一搭建SSR项目
</a></li><li class="dropdown-item"><a href="/myblog/vue/projectsSummary/从零到一搭建移动端SSG项目/" class="nav-link"><!---->
  从零到一搭建移动端SSG项目
</a></li><li class="dropdown-item"><a href="/myblog/vue/projectsSummary/移动端SSG项目实践/" class="nav-link"><!---->
  移动端SSG项目实践
</a></li><li class="dropdown-item"><a href="/myblog/vue/projectsSummary/从零到一搭建Vue2工程化项目/" class="nav-link"><!---->
  从零到一搭建Vue2工程化项目
</a></li><li class="dropdown-item"><a href="/myblog/vue/projectsSummary/从零到一搭建Vue3工程化项目/" class="nav-link"><!---->
  从零到一搭建Vue3工程化项目
</a></li><li class="dropdown-item"><a href="/myblog/vue/projectsSummary/搭建低代码平台/" class="nav-link"><!---->
  搭建低代码平台
</a></li><li class="dropdown-item"><a href="/myblog/vue/projectsSummary/混合桌面应用开发实践/" class="nav-link"><!---->
  混合桌面应用开发实践
</a></li></ul></div></div></nav> <!----> <!----> <!----> <div class="content__navbar-end"></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><div vocab="https://schema.org/" typeof="Person" class="blogger-info mobile"><div data-balloon-pos="down" role="navigation" class="blogger hasIntro"><img property="image" alt="Blogger Avatar" src="./mylogo.png" class="avatar round"> <div property="name" class="name">Sewen 博客</div> <meta property="url" content="../outline.md"></div> <div class="num-wrapper"><div><div class="num">91</div> <div>Articles</div></div> <div><div class="num">0</div> <div>Category</div></div> <div><div class="num">0</div> <div>Tags</div></div> <div><div class="num">91</div> <div>Timeline</div></div></div> <div class="media-links-wrapper"><a href="https://github.com/Sewar-x/myblog" rel="noopener noreferrer" target="_blank" aria-label="Github" data-balloon-pos="up" class="media-link"><span class="sr-only">Github</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-github"><circle cx="512" cy="512" r="512" fill="#171515"></circle> <path d="M509.423 146.442c-200.317 0-362.756 162.42-362.756 362.8 0 160.266 103.936 296.24 248.109 344.217 18.139 3.327 24.76-7.872 24.76-17.486 0-8.613-.313-31.427-.49-61.702-100.912 21.923-122.205-48.63-122.205-48.63-16.495-41.91-40.28-53.067-40.28-53.067-32.937-22.51 2.492-22.053 2.492-22.053 36.407 2.566 55.568 37.386 55.568 37.386 32.362 55.438 84.907 39.43 105.58 30.143 3.296-23.444 12.667-39.43 23.032-48.498-80.557-9.156-165.246-40.28-165.246-179.297 0-39.604 14.135-71.988 37.342-97.348-3.731-9.178-16.18-46.063 3.556-96.009 0 0 30.46-9.754 99.76 37.19 28.937-8.048 59.97-12.071 90.823-12.211 30.807.14 61.843 4.165 90.822 12.21 69.26-46.944 99.663-37.189 99.663-37.189 19.792 49.946 7.34 86.831 3.61 96.01 23.25 25.359 37.29 57.742 37.29 97.347 0 139.366-84.82 170.033-165.637 179.013 13.026 11.2 24.628 33.342 24.628 67.182 0 48.498-.445 87.627-.445 99.521 0 9.702 6.535 20.988 24.945 17.444 144.03-48.067 247.881-183.95 247.881-344.175 0-200.378-162.442-362.798-362.802-362.798z" fill="#FFF"></path></svg></a><a href="1567910907" rel="noopener noreferrer" target="_blank" aria-label="Wechat" data-balloon-pos="up" class="media-link"><span class="sr-only">Wechat</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-wechat"><circle cx="512" cy="512" r="512" fill="#1AC88E"></circle> <path d="M827.551 578.742a176.583 176.583 0 0 0-185.685-158.379 172.942 172.942 0 0 0-186.3 158.379 172.942 172.942 0 0 0 185.686 158.379 282.169 282.169 0 0 0 65.536-10.923l60.689 32.768-16.384-54.613a166.275 166.275 0 0 0 76.458-125.611zm-245.76-27.307a21.845 21.845 0 1 1 0-43.69 24.872 24.872 0 0 1 27.307 21.845 24.872 24.872 0 0 1-27.921 21.845h.614zm121.356 0a21.845 21.845 0 1 1 0-43.69 24.872 24.872 0 0 1 27.306 21.845 24.872 24.872 0 0 1-28.512 21.845h1.206z" fill="#FFF"></path> <path d="M623.662 400.953h21.23A222.709 222.709 0 0 0 419.772 245.6a208.145 208.145 0 0 0-223.323 189.94 182.044 182.044 0 0 0 89.201 150.483l-22.436 67.356 78.279-39.435a389.575 389.575 0 0 0 78.279 10.923h20.616a163.226 163.226 0 0 1-6.667-46.718 182.044 182.044 0 0 1 189.94-177.197zm-121.379-60.69a27.921 27.921 0 1 1 0 55.843 31.562 31.562 0 0 1-33.36-27.921 31.562 31.562 0 0 1 34.59-27.921h-1.23zM346.34 396.107a31.562 31.562 0 0 1-33.383-27.921 31.562 31.562 0 0 1 33.383-27.921 27.921 27.921 0 1 1 0 55.842z" fill="#FFF"></path></svg></a></div></div> <hr> <!----> <div class="content__sidebar-top"></div> <nav class="sidebar-nav-links"><div class="nav-item"><a href="/myblog/" class="nav-link router-link-active"><!---->
  首页
</a></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="Front-end Basics" class="dropdown-title"><span class="title"><!---->
      前端基础
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/vue/html/" class="nav-link"><!---->
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/css/" class="nav-link"><!---->
  Css
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/javascript/" class="nav-link"><!---->
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/typescript/" class="nav-link"><!---->
  TypeScript
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><span class="title"><!---->
      计算机基础
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/vue/algorithms/" class="nav-link"><!---->
  数据结构和算法
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/network/" class="nav-link"><!---->
  计算机网络/HTTP
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/network/输入url到页面展示全过程/" class="nav-link"><!---->
  输入url到页面展示全过程
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/operating-system/" class="nav-link"><!---->
  操作系统
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/design-model/" class="nav-link"><!---->
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/Web-Security/" class="nav-link"><!---->
  Web安全
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="框架和源码分析" class="dropdown-title"><span class="title"><!---->
      框架和源码分析
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/vue/vue/Vue2原理和源码分析.html" class="nav-link"><!---->
  Vue 专题
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/React/" class="nav-link"><!---->
  React 专题
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/webpack/webpack构建原理.html" class="nav-link"><!---->
  webpack 专题
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/vite/" class="nav-link"><!---->
  vite 专题
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/axios/" class="nav-link"><!---->
  Axios 专题
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="浏览器" class="dropdown-title"><span class="title"><!---->
      浏览器
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/vue/browser/浏览器原理/" class="nav-link"><!---->
  浏览器原理
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/browser/前端缓存和存储/" class="nav-link"><!---->
  前端缓存和存储
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/performance/前端调试技巧/" class="nav-link"><!---->
  前端调试技巧
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="node.js" class="dropdown-title"><span class="title"><!---->
      服务器
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/vue/node/" class="nav-link"><!---->
  Node.js
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/linux/" class="nav-link"><!---->
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/mysql/" class="nav-link"><!---->
  MySQL
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/nginx/" class="nav-link"><!---->
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/docker/" class="nav-link"><!---->
  Docker
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="浏览器和性能优化" class="dropdown-title"><span class="title"><!---->
      性能优化
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/vue/performance/性能优化指标和监控/" class="nav-link"><!---->
  性能优化指标和监控
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/performance/前端性能优化方案/" class="nav-link"><!---->
  前端性能优化方案
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/performance/一次管理后台的渲染优化/" class="nav-link"><!---->
  一次管理后台的渲染优化
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="前端工程" class="dropdown-title"><span class="title"><!---->
      前端工程
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/vue/Front-end-Engineering/前端工程化/" class="nav-link"><!---->
  前端工程化
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/Front-end-Engineering/前端渲染架构/" class="nav-link"><!---->
  前端渲染架构
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/Front-end-Engineering/前端架构实践/" class="nav-link"><!---->
  前端架构实践
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/Front-end-Engineering/npm/" class="nav-link"><!---->
  npm
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/git/" class="nav-link"><!---->
  Git
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/projectDeploy/自动构建和部署/" class="nav-link"><!---->
  自动构建和部署
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="项目实践" class="dropdown-title"><span class="title"><!---->
      项目实践
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/vue/projectDeploy/" class="nav-link"><!---->
  前端部署
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/componentsEncapsulation/组件和组件封装实践.html" class="nav-link"><!---->
  组件和组件封装实践
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/projectsSummary/登录与单点登录/" class="nav-link"><!---->
  登录与单点登录
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/projectsSummary/权限管理方案实践/" class="nav-link"><!---->
  权限管理方案实践
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/projectsSummary/Echarts二次封装实践/" class="nav-link"><!---->
  Echarts二次封装实践
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/projectsSummary/文档在线预览和编辑方案/" class="nav-link"><!---->
  文档在线预览和编辑方案
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/projectsSummary/移动端开发实践/" class="nav-link"><!---->
  移动端开发实践
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="项目搭建到原理分析" class="dropdown-title"><span class="title"><!---->
      项目搭建
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/vue/projectsSummary/从零到一搭建SSR项目/" class="nav-link"><!---->
  从零到一搭建SSR项目
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/projectsSummary/从零到一搭建移动端SSG项目/" class="nav-link"><!---->
  从零到一搭建移动端SSG项目
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/projectsSummary/移动端SSG项目实践/" class="nav-link"><!---->
  移动端SSG项目实践
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/projectsSummary/从零到一搭建Vue2工程化项目/" class="nav-link"><!---->
  从零到一搭建Vue2工程化项目
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/projectsSummary/从零到一搭建Vue3工程化项目/" class="nav-link"><!---->
  从零到一搭建Vue3工程化项目
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/projectsSummary/搭建低代码平台/" class="nav-link"><!---->
  搭建低代码平台
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/projectsSummary/混合桌面应用开发实践/" class="nav-link"><!---->
  混合桌面应用开发实践
</a></li></ul></div></div> <!----></nav> <!----> <div class="content__sidebar-center"></div> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><!----> <span class="title">Vue2</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/" class="sidebar-link">Vue2.x 原理源码分析</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#框架设计" class="sidebar-link">框架设计</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#mvc-mvvm" class="sidebar-link heading3">MVC &amp; MVVM</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#单页面-多页面应用" class="sidebar-link heading3">单页面 &amp; 多页面应用</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#原理分析" class="sidebar-link">原理分析</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#构建流程" class="sidebar-link heading3">构建流程</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#执行流程" class="sidebar-link heading3">执行流程</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#生命周期" class="sidebar-link heading3">生命周期</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#初始化" class="sidebar-link heading3">初始化</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#响应式" class="sidebar-link heading3">响应式</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#挂载组件" class="sidebar-link heading3">挂载组件</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#模板编译" class="sidebar-link heading3">模板编译</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#首次渲染" class="sidebar-link heading3">首次渲染</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#virtual-dom" class="sidebar-link heading3">Virtual DOM</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#diff-算法" class="sidebar-link heading3">diff 算法</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#派发更新" class="sidebar-link heading3">派发更新</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#销毁实例" class="sidebar-link heading3">销毁实例</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#手写响应式原理" class="sidebar-link">手写响应式原理</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#组件" class="sidebar-link">组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#组件基础" class="sidebar-link heading3">组件基础</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#组件注册" class="sidebar-link heading3">组件注册</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#组件生命周期" class="sidebar-link heading3">组件生命周期</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#组件分类" class="sidebar-link heading3">组件分类</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#组件通信" class="sidebar-link heading3">组件通信</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#扩展组件方式" class="sidebar-link heading3">扩展组件方式</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#高阶组件" class="sidebar-link heading3">高阶组件</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#内置组件" class="sidebar-link heading3">内置组件</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#全局api" class="sidebar-link">全局API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#vue-extend-options" class="sidebar-link heading3">Vue.extend(options)</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#vue-nexttick" class="sidebar-link heading3">Vue.nextTick</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#vue-set" class="sidebar-link heading3">Vue.set</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#vue-use-plugin" class="sidebar-link heading3">Vue.use( plugin )</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#vue-mixin-mixin" class="sidebar-link heading3">Vue.mixin( mixin )</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#选项合并策略" class="sidebar-link heading3">选项合并策略</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#选项-数据" class="sidebar-link">选项/数据</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#data" class="sidebar-link heading3">data</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#computed-计算属性" class="sidebar-link heading3">computed 计算属性</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#watch-侦听器" class="sidebar-link heading3">watch 侦听器</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#this-options-data-和-this-data" class="sidebar-link heading3">this.$options.data() 和 this.$data</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#指令" class="sidebar-link">指令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#v-if-v-show" class="sidebar-link heading3">v-if &amp; v-show</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#v-model-双向绑定" class="sidebar-link heading3">v-model 双向绑定</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#实例方法-事件" class="sidebar-link">实例方法 / 事件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#vue-事件机制" class="sidebar-link heading3">VUE 事件机制</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#修饰符" class="sidebar-link heading3">修饰符</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#手写-on-off-emit-once" class="sidebar-link heading3">手写$on,$off,$emit,$once</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#特殊属性" class="sidebar-link">特殊属性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#key" class="sidebar-link heading3">key</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#vue-2-x-缺陷" class="sidebar-link">VUE 2.X 缺陷</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#数组和对象的检测缺陷" class="sidebar-link heading3">数组和对象的检测缺陷</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#为什么-vue2-无法检测到-data-对象属性的新增或删除" class="sidebar-link heading3">为什么 Vue2 无法检测到 data 对象属性的新增或删除？</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#vue2-x数组变更方法" class="sidebar-link">Vue2.x数组变更方法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#vue-不能检测到数组的变动" class="sidebar-link heading3">Vue 不能检测到数组的变动</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#数组变更方法实现" class="sidebar-link heading3">数组变更方法实现</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#数组方法包裹实现原理" class="sidebar-link heading3">数组方法包裹实现原理</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#vue2-x-问答题" class="sidebar-link">VUE2.x 问答题</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#vue2-x源码问答题" class="sidebar-link">VUE2.x源码问答题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#初始化过程相关问题" class="sidebar-link heading3">初始化过程相关问题</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#全局api-问答" class="sidebar-link heading3">全局API 问答</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#响应式原理相关问题" class="sidebar-link heading3">响应式原理相关问题</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#数据更新相关问题" class="sidebar-link heading3">数据更新相关问题</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#参考资料" class="sidebar-link">参考资料</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#源码相关" class="sidebar-link heading3">源码相关</a></li></ul></li></ul></li><li><a href="/myblog/vue/Vuex%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/" class="sidebar-link">Vuex原理分析</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vuex%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#vuex-基础" class="sidebar-link">VUEX 基础</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vuex%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#初始化" class="sidebar-link">初始化</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vuex%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#实例化" class="sidebar-link">实例化</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vuex%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#相关问题" class="sidebar-link">相关问题</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vuex%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#应用" class="sidebar-link">应用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vuex%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#vuex和localstorage-比较" class="sidebar-link heading3">Vuex和localStorage 比较</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vuex%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#vuex数据持久化" class="sidebar-link heading3">Vuex数据持久化</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vuex%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#参考资料" class="sidebar-link">参考资料</a></li></ul></li><li><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/" aria-current="page" class="active sidebar-link">VueRouter原理分析</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#路由基础" class="sidebar-link">路由基础</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#总体流程" class="sidebar-link">总体流程</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#路由对象" class="sidebar-link">路由对象</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#路由模式" class="sidebar-link">路由模式</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#路由安装" class="sidebar-link">路由安装</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#路由匹配" class="sidebar-link">路由匹配</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#路由切换" class="sidebar-link">路由切换</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#内置组件" class="sidebar-link">内置组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#router-link" class="sidebar-link heading3">&lt;router-link&gt;</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#router-view" class="sidebar-link heading3">&lt;router-view&gt;</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#相关问题" class="sidebar-link">相关问题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#路由匹配过程" class="sidebar-link heading3">路由匹配过程</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#响应路由参数的变化" class="sidebar-link heading3">响应路由参数的变化</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#对同一个组件中参数的变化做出响应" class="sidebar-link heading3">对同一个组件中参数的变化做出响应</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#beforerouteenter-能否拿到组件实例-this-为什么" class="sidebar-link heading3">beforeRouteEnter 能否拿到组件实例 this? 为什么?</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#如何在路由守卫进行管道中的下一个钩子" class="sidebar-link heading3">如何在路由守卫进行管道中的下一个钩子？</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#为什么路由路由守卫中必须调用-next-才会前进到下一个导航守卫钩子函数中" class="sidebar-link heading3">为什么路由路由守卫中必须调用 next()，才会前进到下一个导航守卫钩子函数中？</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#切换路由时需要保存草稿的功能-怎么实现" class="sidebar-link heading3">切换路由时需要保存草稿的功能，怎么实现？</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#刷新无法触发-router-beforeeach-守卫问题" class="sidebar-link heading3">刷新无法触发 router.beforeEach 守卫问题</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#参考资料" class="sidebar-link">参考资料</a></li></ul></li><li><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/" class="sidebar-link">VueSSR原理分析</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#ssr是什么" class="sidebar-link">SSR是什么？</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#为什么要用-ssr" class="sidebar-link">为什么要用 SSR？</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#前端渲染架构类型" class="sidebar-link">前端渲染架构类型</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#同构应用原理" class="sidebar-link">同构应用原理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#组件基于-vnode-渲染" class="sidebar-link heading3">组件基于 VNode 渲染</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#vnode" class="sidebar-link heading3">VNode</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#ssr架构" class="sidebar-link">SSR架构</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#项目源码" class="sidebar-link">项目源码</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#源码分析" class="sidebar-link">源码分析</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#项目目录" class="sidebar-link heading3">项目目录</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#app-js" class="sidebar-link heading3">app.js</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#entry-client-js" class="sidebar-link heading3">entry-client.js</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#entry-server-js" class="sidebar-link heading3">entry-server.js</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#server-js" class="sidebar-link heading3">server.js</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#编译流程" class="sidebar-link">编译流程</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#webpack-构建" class="sidebar-link">Webpack 构建</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#服务端构建流程" class="sidebar-link heading3">服务端构建流程</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#客户端构建流程" class="sidebar-link heading3">客户端构建流程</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#编译产物分析" class="sidebar-link heading3">编译产物分析</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#webpack-配置" class="sidebar-link">Webpack 配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#webpack-base-config" class="sidebar-link heading3">`webpack.base.config`</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#webpack-server-config" class="sidebar-link heading3">`webpack.server.config`</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#webpack-client-config" class="sidebar-link heading3">`webpack.client.config`</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#setup-dev-server" class="sidebar-link heading3">`setup-dev-server`</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#vue-server-renderer-分析" class="sidebar-link">`vue-server-renderer` 分析</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#vue-server-renderer-使用" class="sidebar-link heading3">`vue-server-renderer`  使用</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#vue-server-renderer-源码分析" class="sidebar-link heading3">`vue-server-renderer`  源码分析</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#注意事项" class="sidebar-link">注意事项</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#参考资料" class="sidebar-link">参考资料</a></li></ul></li><li><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/" class="sidebar-link">VueCli源码分析</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#是什么" class="sidebar-link">是什么</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#为什么" class="sidebar-link">为什么</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#vue-cli-集成插件-库" class="sidebar-link">Vue-cli 集成插件/库</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#功能" class="sidebar-link">功能</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#创建项目过程分析" class="sidebar-link">创建项目过程分析</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#安装-vue-cli" class="sidebar-link heading3">安装 Vue-Cli</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#命令解析" class="sidebar-link heading3">命令解析</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#vue-create-命令执行过程" class="sidebar-link heading3">`vue create` 命令执行过程</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#vue-create-命令解析" class="sidebar-link heading3">`vue create` 命令解析</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#creator-创建项目" class="sidebar-link heading3">Creator 创建项目</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#generator-生成项目文件" class="sidebar-link heading3">Generator 生成项目文件</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#初始化插件" class="sidebar-link heading3">初始化插件</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#cli-服务分析" class="sidebar-link">CLI 服务分析</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#使用" class="sidebar-link heading3">使用</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#shell-命令解析" class="sidebar-link heading3">Shell 命令解析</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#service-对象初始化" class="sidebar-link heading3">Service 对象初始化</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#service-run-启动构建" class="sidebar-link heading3">`Service.run ` 启动构建</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#解析插件" class="sidebar-link heading3">解析插件</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#serve-命令解析" class="sidebar-link heading3">serve 命令解析</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#build-命令解析" class="sidebar-link heading3">`build` 命令解析</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#webpack-配置原理" class="sidebar-link">WebPack 配置原理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#配置方式" class="sidebar-link heading3">配置方式</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#链式操作-高级" class="sidebar-link heading3">链式操作 (高级)</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#模式和环境变量" class="sidebar-link">模式和环境变量</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#模式" class="sidebar-link heading3">模式</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#环境变量" class="sidebar-link heading3">环境变量</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#源码分析-3" class="sidebar-link heading3">源码分析</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#参考资料" class="sidebar-link">参考资料</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><!----> <span class="title">Vue3</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/myblog/vue/Vue3%E5%9F%BA%E7%A1%80/" class="sidebar-link">Vue3基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vue3%E5%9F%BA%E7%A1%80/#ref-原理" class="sidebar-link">ref 原理</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue3%E5%9F%BA%E7%A1%80/#reactive-原理" class="sidebar-link">reactive 原理</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue3%E5%9F%BA%E7%A1%80/#参考资料" class="sidebar-link">参考资料</a></li></ul></li><li><a href="/myblog/vue/Vue3%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/" class="sidebar-link">Vue3源码分析</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><!----> <span class="title">框架对比</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/myblog/vue/Vue2VsVue3/" class="sidebar-link">Vue2 Vs Vue3</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#对比总览" class="sidebar-link">对比总览</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#源码管理" class="sidebar-link">源码管理</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#typescript-支持" class="sidebar-link">TypeScript 支持</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#响应式系统" class="sidebar-link">响应式系统</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#object-defineproperty缺陷" class="sidebar-link heading3">`Object.defineProperty`缺陷</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#proxy-优势" class="sidebar-link heading3">Proxy 优势</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#体积优化" class="sidebar-link">体积优化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#tree-shaking-支持" class="sidebar-link heading3">Tree-shaking 支持</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#更小的包体积" class="sidebar-link heading3">更小的包体积</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#编译优化" class="sidebar-link">编译优化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#diff-算法优化" class="sidebar-link heading3">diff 算法优化</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#静态提升" class="sidebar-link heading3">静态提升</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#事件监听缓存" class="sidebar-link heading3">事件监听缓存</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#ssr优化" class="sidebar-link heading3">SSR优化</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#composition-vs-options" class="sidebar-link">Composition VS Options</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#options-api" class="sidebar-link heading3">Options API</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#composition-api" class="sidebar-link heading3">Composition Api</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#优化逻辑组织" class="sidebar-link heading3">优化逻辑组织</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#优化逻辑复用" class="sidebar-link heading3">优化逻辑复用</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#hooks-vs-mixins" class="sidebar-link">Hooks VS Mixins</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#语法差异" class="sidebar-link">语法差异</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#创建实例方式" class="sidebar-link">创建实例方式</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#生命周期钩子" class="sidebar-link">生命周期钩子</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#内置组件" class="sidebar-link">内置组件</a></li></ul></li><li><a href="/myblog/vue/VueVsReact/" class="sidebar-link">Vue Vs React</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/VueVsReact/#vue-vs-react" class="sidebar-link">Vue Vs React</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/VueVsReact/#总览" class="sidebar-link heading3">总览</a></li></ul></li></ul></li></ul></section></li></ul> <!----> <div class="content__sidebar-bottom"></div> <!----></aside> <main class="page"><nav class="breadcrumb disable"><!----></nav> <!----> <div class="content__page-top"></div> <div vocab="https://schema.org/" typeof="Article" class="page-title"><h1><!----> <span property="headline">VueRouter原理分析</span></h1> <div class="page-info"><!----> <true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info></div> <!----> <hr></div> <div class="anchor-place-holder"><aside id="anchor"><div class="anchor-wrapper"><ul class="anchor-list"><li class="anchor"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#路由基础" class="anchor-link heading2"><div>路由基础</div></a></li><li class="anchor"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#总体流程" class="anchor-link heading2"><div>总体流程</div></a></li><li class="anchor"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#路由对象" class="anchor-link heading2"><div>路由对象</div></a></li><li class="anchor"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#路由模式" class="anchor-link heading2"><div>路由模式</div></a></li><li class="anchor"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#路由安装" class="anchor-link heading2"><div>路由安装</div></a></li><li class="anchor"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#路由匹配" class="anchor-link heading2"><div>路由匹配</div></a></li><li class="anchor"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#路由切换" class="anchor-link heading2"><div>路由切换</div></a></li><li class="anchor"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#内置组件" class="anchor-link heading2"><div>内置组件</div></a></li><li class="anchor"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#router-link" class="anchor-link heading3"><div>&lt;router-link&gt;</div></a></li><li class="anchor"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#router-view" class="anchor-link heading3"><div>&lt;router-view&gt;</div></a></li><li class="anchor"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#相关问题" class="anchor-link heading2"><div>相关问题</div></a></li><li class="anchor"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#路由匹配过程" class="anchor-link heading3"><div>路由匹配过程</div></a></li><li class="anchor"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#响应路由参数的变化" class="anchor-link heading3"><div>响应路由参数的变化</div></a></li><li class="anchor"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#对同一个组件中参数的变化做出响应" class="anchor-link heading3"><div>对同一个组件中参数的变化做出响应</div></a></li><li class="anchor"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#beforerouteenter-能否拿到组件实例-this-为什么" class="anchor-link heading3"><div>beforeRouteEnter 能否拿到组件实例 this? 为什么?</div></a></li><li class="anchor"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#如何在路由守卫进行管道中的下一个钩子" class="anchor-link heading3"><div>如何在路由守卫进行管道中的下一个钩子？</div></a></li><li class="anchor"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#为什么路由路由守卫中必须调用-next-才会前进到下一个导航守卫钩子函数中" class="anchor-link heading3"><div>为什么路由路由守卫中必须调用 next()，才会前进到下一个导航守卫钩子函数中？</div></a></li><li class="anchor"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#切换路由时需要保存草稿的功能-怎么实现" class="anchor-link heading3"><div>切换路由时需要保存草稿的功能，怎么实现？</div></a></li><li class="anchor"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#刷新无法触发-router-beforeeach-守卫问题" class="anchor-link heading3"><div>刷新无法触发 router.beforeEach 守卫问题</div></a></li><li class="anchor"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#参考资料" class="anchor-link heading2"><div>参考资料</div></a></li></ul></div></aside></div> <!----> <div class="content__content-top"></div> <div class="theme-default-content content__default"><h1 id="vuerouter原理分析"><a href="#vuerouter原理分析" class="header-anchor">#</a> VueRouter原理分析</h1> <h1 id="vue-router-3-x"><a href="#vue-router-3-x" class="header-anchor">#</a> Vue-Router 3.x</h1> <h2 id="路由基础"><a href="#路由基础" class="header-anchor">#</a> 路由基础</h2> <ul><li><p>路由作用：根据不同的路径映射到不同的视图。</p></li> <li><p>监听<a href="https://router.vuejs.org/zh/guide/essentials/dynamic-matching.html#%E5%93%8D%E5%BA%94%E8%B7%AF%E7%94%B1%E5%8F%82%E6%95%B0%E7%9A%84%E5%8F%98%E5%8C%96" target="_blank" rel="noopener noreferrer">复用组件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 路由参数变化：watch (监测变化) <code>$route</code> 对象。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> User <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">'...'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">$route</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 对路由变化作出响应...</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li> <li><p>配置 <code>routes</code> 常用参数：</p> <ul><li>路由路径：<code>path</code> 参数。</li> <li><a href="https://router.vuejs.org/zh/guide/essentials/dynamic-matching.html#%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1%E5%8C%B9%E9%85%8D" target="_blank" rel="noopener noreferrer">动态路由匹配<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>： 一个“路径参数”使用冒号 <code>:</code> 标记。 如：<code>{ path: '/user/:id', component: User }</code></li> <li><a href="https://router.vuejs.org/zh/guide/essentials/passing-props.html#%E8%B7%AF%E7%94%B1%E7%BB%84%E4%BB%B6%E4%BC%A0%E5%8F%82" target="_blank" rel="noopener noreferrer">路由组件传参<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：使用 <code>props</code> 将组件和路由解耦。</li> <li><a href="https://router.vuejs.org/zh/guide/essentials/named-routes.html#%E5%91%BD%E5%90%8D%E8%B7%AF%E7%94%B1" target="_blank" rel="noopener noreferrer">路由命名<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>： <code>name</code> 参数。</li> <li>组件： <code>component</code> 参数。</li> <li><a href="https://router.vuejs.org/zh/guide/essentials/named-views.html#%E5%B5%8C%E5%A5%97%E5%91%BD%E5%90%8D%E8%A7%86%E5%9B%BE" target="_blank" rel="noopener noreferrer">嵌套组件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：<code>children</code> 参数。</li> <li><a href="https://router.vuejs.org/zh/guide/essentials/redirect-and-alias.html#%E9%87%8D%E5%AE%9A%E5%90%91" target="_blank" rel="noopener noreferrer">重定向<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：<code>redirect</code> 参数。</li> <li><a href="https://router.vuejs.org/zh/guide/essentials/redirect-and-alias.html#%E9%87%8D%E5%AE%9A%E5%90%91" target="_blank" rel="noopener noreferrer">别名<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：<code>alias</code> 参数。</li> <li><a href="https://router.vuejs.org/zh/guide/advanced/meta.html" target="_blank" rel="noopener noreferrer">元信息<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：<code>meta</code> 参数。</li></ul></li> <li><p>内置组件：</p> <ul><li>视图切换：<a href="https://router.vuejs.org/zh/api/#router-link" target="_blank" rel="noopener noreferrer"><code>&lt;router-link&gt;</code> 组件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>视图渲染：<a href="https://router.vuejs.org/zh/api/#aria-current-value" target="_blank" rel="noopener noreferrer"><code>&lt;router-view&gt;</code> 组件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li> <li><p><a href="https://router.vuejs.org/zh/guide/advanced/navigation-guards.html#%E5%85%A8%E5%B1%80%E5%89%8D%E7%BD%AE%E5%AE%88%E5%8D%AB" target="_blank" rel="noopener noreferrer">导航守卫<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：</p> <ul><li>全局守卫：
<ul><li>全局前置守卫：<code>router.beforeEach</code>，导航触发时，全局前置守卫按照创建顺序调用。</li> <li>全局解析守卫：<code>router.beforeResolve</code>，导航被确认之前，同时在所有组件内守卫和异步路由组件被解析之后，解析守卫就被调用。</li> <li>全局后置守卫：<code>router.afterEach</code>。</li></ul></li> <li>路由独享守卫：<code>beforeEnter</code>。单个路由独享的钩子函数，它是在路由配置上直接进行定义的。</li> <li>组件内守卫：它们是直接在路由组 件内部直接进行定义的。
<ul><li><code>beforeRouteEnter</code></li> <li><code>beforeRouteUpdate</code></li> <li><code>beforeRouteLeave</code></li></ul></li></ul></li> <li><p>导航解析流程</p> <ul><li>导航被触发。</li> <li>在失活的组件里调用 <code>beforeRouteLeave</code> 守卫。</li> <li>调用全局的 <code>beforeEach</code> 守卫。</li> <li>在重用的组件里调用 <code>beforeRouteUpdate</code> 守卫 (2.2+)。</li> <li>在路由配置里调用 <code>beforeEnter</code>。</li> <li>解析异步路由组件。</li> <li>在被激活的组件里调用 <code>beforeRouteEnter</code>。</li> <li>调用全局的 <code>beforeResolve</code> 守卫 (2.5+)。</li> <li>导航被确认。</li> <li>调用全局的 <code>afterEach</code> 钩子。</li> <li>触发 DOM 更新。</li> <li>调用 <code>beforeRouteEnter</code> 守卫中传给 <code>next</code> 的回调函数，创建好的组件实例会作为回调函数的参数传入。</li></ul></li> <li><p>路由对象：</p> <ul><li><a href="https://router.vuejs.org/zh/api/#router-%E5%AE%9E%E4%BE%8B%E5%B1%9E%E6%80%A7" target="_blank" rel="noopener noreferrer"><strong>this.$router</strong><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：<code>router</code> 的 Vue 根实例。是一个全局路由对象，包含了路由跳转的方法、钩子函数等。</li> <li><a href="https://router.vuejs.org/zh/api/#%E8%B7%AF%E7%94%B1%E5%AF%B9%E8%B1%A1" target="_blank" rel="noopener noreferrer"><strong>this.$route</strong><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：当前激活的<a href="https://router.vuejs.org/zh/api/#%E8%B7%AF%E7%94%B1%E5%AF%B9%E8%B1%A1" target="_blank" rel="noopener noreferrer">路由信息对象<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。  每一个路由都会有一个 route 对象，是一个局部对象，包含path,params,hash,query,fullPath,matched,name等路由信息参数。
<ul><li>里面的属性是 immutable (不可变) 的，通过 watch 监测变化</li> <li>它包含了当前 URL 解析得到的信息，还有 URL 匹配到的<strong>路由记录 (route records)</strong>。</li> <li>每次成功的导航后都会产生一个新的对象。</li> <li>路由对象出现在多个地方:
<ul><li>在组件内，即 <code>this.$route</code></li> <li>在 <code>$route</code> 观察者回调内</li> <li><code>router.match(location)</code> 的返回值</li></ul></li></ul></li></ul></li> <li><p><a href="https://router.vuejs.org/zh/guide/advanced/lazy-loading.html#%E8%B7%AF%E7%94%B1%E6%87%92%E5%8A%A0%E8%BD%BD" target="_blank" rel="noopener noreferrer">路由懒加载<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：</p> <ul><li>将异步组件定义为返回一个 Promise 的工厂函数</li> <li>在 Webpack 2 中，我们可以使用<a href="https://github.com/tc39/proposal-dynamic-import" target="_blank" rel="noopener noreferrer">动态 import (opens new window)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>语法来定义代码分块点</li> <li>注释语法来提供 chunk name : <code>webpackChunkName</code></li></ul></li> <li><p>路由传参：使用 <code>router.push()</code>切换路由。</p> <ul><li><p><code>params</code> 传参：</p> <ul><li><p>只能使用 <code>name</code>，不能使用 <code>path</code>；如果提供了 <code>path</code>，<code>params</code> 会被忽略</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 这里的 params 不生效</span>
router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/user'</span><span class="token punctuation">,</span> <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span> userId <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// -&gt; /user</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>参数不会显示在路径上</p></li> <li><p>浏览器强制刷新参数会被清空</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 传递参数</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> Home<span class="token punctuation">,</span>
  <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token string">'hello'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'user'</span><span class="token punctuation">,</span> <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">userId</span><span class="token operator">:</span><span class="token number">123</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// -&gt; /user/123</span>
<span class="token comment">// 接收参数</span>
<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>params
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li></ul></li> <li><p><code>query</code> 传参：带查询参数。</p> <ul><li><p>参数会显示在路径上，刷新不会被清空</p></li> <li><p><code>name</code> 可以使用 <code>path</code> 路径</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 传递参数</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  	<span class="token literal-property property">name</span><span class="token operator">:</span> Home<span class="token punctuation">,</span>
  	<span class="token literal-property property">query</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">test</span><span class="token operator">:</span><span class="token string">&quot;hello&quot;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 带查询参数，变成 /register?plan=private</span>
router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'register'</span><span class="token punctuation">,</span> <span class="token literal-property property">query</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">plan</span><span class="token operator">:</span> <span class="token string">'private'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 接收参数</span>
<span class="token keyword">const</span> q <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>query
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li></ul></li></ul></li></ul> <h2 id="总体流程"><a href="#总体流程" class="header-anchor">#</a> 总体流程</h2> <p><img src="/myblog/assets/img/路由原理.bd316460.png" alt=""></p> <h2 id="路由对象"><a href="#路由对象" class="header-anchor">#</a> 路由对象</h2> <p>VueRouter 的实现是一个类，它的定义在 <a href="https://github.com/vuejs/vue-router/blob/v3.0.1/src/index.js" target="_blank" rel="noopener noreferrer">src/index.js<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>中：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">VueRouter</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token function-variable function">install</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
  <span class="token keyword">static</span> <span class="token literal-property property">version</span><span class="token operator">:</span> string<span class="token punctuation">;</span>

  <span class="token literal-property property">app</span><span class="token operator">:</span> any<span class="token punctuation">;</span>
  <span class="token literal-property property">apps</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>any<span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token literal-property property">ready</span><span class="token operator">:</span> boolean<span class="token punctuation">;</span>
  <span class="token literal-property property">readyCbs</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>Function<span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token literal-property property">options</span><span class="token operator">:</span> RouterOptions<span class="token punctuation">;</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
  <span class="token literal-property property">history</span><span class="token operator">:</span> HashHistory <span class="token operator">|</span> HTML5History <span class="token operator">|</span> AbstractHistory<span class="token punctuation">;</span>
  <span class="token literal-property property">matcher</span><span class="token operator">:</span> Matcher<span class="token punctuation">;</span>
  <span class="token literal-property property">fallback</span><span class="token operator">:</span> boolean<span class="token punctuation">;</span>
  <span class="token literal-property property">beforeHooks</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span><span class="token operator">?</span>NavigationGuard<span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token literal-property property">resolveHooks</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span><span class="token operator">?</span>NavigationGuard<span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token literal-property property">afterHooks</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span><span class="token operator">?</span>AfterNavigationHook<span class="token operator">&gt;</span><span class="token punctuation">;</span>

  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">options</span><span class="token operator">:</span> RouterOptions <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>app <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>apps <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>options <span class="token operator">=</span> options
    <span class="token keyword">this</span><span class="token punctuation">.</span>beforeHooks <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>resolveHooks <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>afterHooks <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>matcher <span class="token operator">=</span> <span class="token function">createMatcher</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>routes <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span>

    <span class="token keyword">let</span> mode <span class="token operator">=</span> options<span class="token punctuation">.</span>mode <span class="token operator">||</span> <span class="token string">'hash'</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>fallback <span class="token operator">=</span> mode <span class="token operator">===</span> <span class="token string">'history'</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>supportsPushState <span class="token operator">&amp;&amp;</span> options<span class="token punctuation">.</span>fallback <span class="token operator">!==</span> <span class="token boolean">false</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>fallback<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      mode <span class="token operator">=</span> <span class="token string">'hash'</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>inBrowser<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      mode <span class="token operator">=</span> <span class="token string">'abstract'</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>mode <span class="token operator">=</span> mode

    <span class="token keyword">switch</span> <span class="token punctuation">(</span>mode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token string">'history'</span><span class="token operator">:</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>history <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HTML5History</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>base<span class="token punctuation">)</span>
        <span class="token keyword">break</span>
      <span class="token keyword">case</span> <span class="token string">'hash'</span><span class="token operator">:</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>history <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashHistory</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>base<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>fallback<span class="token punctuation">)</span>
        <span class="token keyword">break</span>
      <span class="token keyword">case</span> <span class="token string">'abstract'</span><span class="token operator">:</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>history <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AbstractHistory</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>base<span class="token punctuation">)</span>
        <span class="token keyword">break</span>
      <span class="token keyword">default</span><span class="token operator">:</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">'production'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">assert</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">invalid mode: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>mode<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">match</span> <span class="token punctuation">(</span>
    <span class="token literal-property property">raw</span><span class="token operator">:</span> RawLocation<span class="token punctuation">,</span>
    current<span class="token operator">?</span><span class="token operator">:</span> Route<span class="token punctuation">,</span>
    redirectedFrom<span class="token operator">?</span><span class="token operator">:</span> Location
  <span class="token punctuation">)</span><span class="token operator">:</span> Route <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>matcher<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>raw<span class="token punctuation">,</span> current<span class="token punctuation">,</span> redirectedFrom<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">get</span> <span class="token function">currentRoute</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token operator">?</span>Route <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>history <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>history<span class="token punctuation">.</span>current
  <span class="token punctuation">}</span>

  <span class="token function">init</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">app</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">'production'</span> <span class="token operator">&amp;&amp;</span> <span class="token function">assert</span><span class="token punctuation">(</span>
      install<span class="token punctuation">.</span>installed<span class="token punctuation">,</span>
      <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">not installed. Make sure to call \`Vue.use(VueRouter)\` </span><span class="token template-punctuation string">`</span></span> <span class="token operator">+</span>
      <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">before creating root instance.</span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">)</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>apps<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>app<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>app <span class="token operator">=</span> app

    <span class="token keyword">const</span> history <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>history

    <span class="token keyword">if</span> <span class="token punctuation">(</span>history <span class="token keyword">instanceof</span> <span class="token class-name">HTML5History</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      history<span class="token punctuation">.</span><span class="token function">transitionTo</span><span class="token punctuation">(</span>history<span class="token punctuation">.</span><span class="token function">getCurrentLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>history <span class="token keyword">instanceof</span> <span class="token class-name">HashHistory</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> <span class="token function-variable function">setupHashListener</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        history<span class="token punctuation">.</span><span class="token function">setupListeners</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      history<span class="token punctuation">.</span><span class="token function">transitionTo</span><span class="token punctuation">(</span>
        history<span class="token punctuation">.</span><span class="token function">getCurrentLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        setupHashListener<span class="token punctuation">,</span>
        setupHashListener
      <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    history<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token parameter">route</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>apps<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">app</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        app<span class="token punctuation">.</span>_route <span class="token operator">=</span> route
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">beforeEach</span> <span class="token punctuation">(</span>fn<span class="token operator">:</span> Function<span class="token punctuation">)</span><span class="token operator">:</span> Function <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">registerHook</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>beforeHooks<span class="token punctuation">,</span> fn<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">beforeResolve</span> <span class="token punctuation">(</span>fn<span class="token operator">:</span> Function<span class="token punctuation">)</span><span class="token operator">:</span> Function <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">registerHook</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>resolveHooks<span class="token punctuation">,</span> fn<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">afterEach</span> <span class="token punctuation">(</span>fn<span class="token operator">:</span> Function<span class="token punctuation">)</span><span class="token operator">:</span> Function <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">registerHook</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>afterHooks<span class="token punctuation">,</span> fn<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">onReady</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">cb</span><span class="token operator">:</span> Function<span class="token punctuation">,</span> errorCb<span class="token operator">?</span><span class="token operator">:</span> Function</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">onReady</span><span class="token punctuation">(</span>cb<span class="token punctuation">,</span> errorCb<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">onError</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">errorCb</span><span class="token operator">:</span> Function</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">onError</span><span class="token punctuation">(</span>errorCb<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">push</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">location</span><span class="token operator">:</span> RawLocation<span class="token punctuation">,</span> onComplete<span class="token operator">?</span><span class="token operator">:</span> Function<span class="token punctuation">,</span> onAbort<span class="token operator">?</span><span class="token operator">:</span> Function</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>location<span class="token punctuation">,</span> onComplete<span class="token punctuation">,</span> onAbort<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">replace</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">location</span><span class="token operator">:</span> RawLocation<span class="token punctuation">,</span> onComplete<span class="token operator">?</span><span class="token operator">:</span> Function<span class="token punctuation">,</span> onAbort<span class="token operator">?</span><span class="token operator">:</span> Function</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>location<span class="token punctuation">,</span> onComplete<span class="token punctuation">,</span> onAbort<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">go</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">n</span><span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">back</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">forward</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">getMatchedComponents</span> <span class="token punctuation">(</span>to<span class="token operator">?</span><span class="token operator">:</span> RawLocation <span class="token operator">|</span> Route<span class="token punctuation">)</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>any<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token literal-property property">route</span><span class="token operator">:</span> any <span class="token operator">=</span> to
      <span class="token operator">?</span> to<span class="token punctuation">.</span>matched
        <span class="token operator">?</span> to
        <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>to<span class="token punctuation">)</span><span class="token punctuation">.</span>route
      <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>currentRoute
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>route<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> route<span class="token punctuation">.</span>matched<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">m</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>components<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> m<span class="token punctuation">.</span>components<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">resolve</span> <span class="token punctuation">(</span>
    <span class="token literal-property property">to</span><span class="token operator">:</span> RawLocation<span class="token punctuation">,</span>
    current<span class="token operator">?</span><span class="token operator">:</span> Route<span class="token punctuation">,</span>
    append<span class="token operator">?</span><span class="token operator">:</span> boolean
  <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">location</span><span class="token operator">:</span> Location<span class="token punctuation">,</span>
    <span class="token literal-property property">route</span><span class="token operator">:</span> Route<span class="token punctuation">,</span>
    <span class="token literal-property property">href</span><span class="token operator">:</span> string<span class="token punctuation">,</span>
    <span class="token literal-property property">normalizedTo</span><span class="token operator">:</span> Location<span class="token punctuation">,</span>
    <span class="token literal-property property">resolved</span><span class="token operator">:</span> Route
  <span class="token punctuation">}</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> location <span class="token operator">=</span> <span class="token function">normalizeLocation</span><span class="token punctuation">(</span>
      to<span class="token punctuation">,</span>
      current <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>history<span class="token punctuation">.</span>current<span class="token punctuation">,</span>
      append<span class="token punctuation">,</span>
      <span class="token keyword">this</span>
    <span class="token punctuation">)</span>
    <span class="token keyword">const</span> route <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>location<span class="token punctuation">,</span> current<span class="token punctuation">)</span>
    <span class="token keyword">const</span> fullPath <span class="token operator">=</span> route<span class="token punctuation">.</span>redirectedFrom <span class="token operator">||</span> route<span class="token punctuation">.</span>fullPath
    <span class="token keyword">const</span> base <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>history<span class="token punctuation">.</span>base
    <span class="token keyword">const</span> href <span class="token operator">=</span> <span class="token function">createHref</span><span class="token punctuation">(</span>base<span class="token punctuation">,</span> fullPath<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>mode<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      location<span class="token punctuation">,</span>
      route<span class="token punctuation">,</span>
      href<span class="token punctuation">,</span>
      <span class="token literal-property property">normalizedTo</span><span class="token operator">:</span> location<span class="token punctuation">,</span>
      <span class="token literal-property property">resolved</span><span class="token operator">:</span> route
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">addRoutes</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">routes</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>RouteConfig<span class="token operator">&gt;</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>matcher<span class="token punctuation">.</span><span class="token function">addRoutes</span><span class="token punctuation">(</span>routes<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>history<span class="token punctuation">.</span>current <span class="token operator">!==</span> <span class="token constant">START</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">transitionTo</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">getCurrentLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br></div></div><h2 id="路由模式"><a href="#路由模式" class="header-anchor">#</a> 路由模式</h2> <ul><li><p>vue 中定义了三种路由模式：<code>hash</code>、<code>history</code>、<code>abstract</code> 。</p> <ul><li><p><strong>hash 模式：</strong> 使用 url 的 hash 值来作为路由。支持所有浏览器。一般用于单页应用。</p> <ul><li>表现：
<ul><li>url 中带有 “#” 符号，如 <code>http://localhost:8080/#/</code>；</li> <li>页面跳转时 “#” 后面 hash 值改变；当 URL 改变时，页面不会重新加载（实际有重新获取数据）；</li> <li>通过浏览器的前进、后退、刷新页面均可以变；</li></ul></li> <li>原理：
<ul><li>监听路由变化： 如果支持 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/popstate_event" target="_blank" rel="noopener noreferrer">popstate 事件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，则监听 popstate 事件，否则监听 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/hashchange_event" target="_blank" rel="noopener noreferrer">hashchange 事件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>;</li> <li>点击 <code>router-link</code> 路由切换：判断是否支持  <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/history" target="_blank" rel="noopener noreferrer">HTML5 History API<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> （replaceState 和 pushState），支持则使用 History API，否则使用 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Location/hash" target="_blank" rel="noopener noreferrer">Location.hash API<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></li> <li><p><strong>History 模式：</strong> 使用 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/history" target="_blank" rel="noopener noreferrer">HTML5 History API<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 和并需要服务器配置。一般用于多页应用。</p> <ul><li>表现：
<ul><li>url 中没有 “#” 符号</li> <li>可以通过浏览器前进、后退，但刷新页面会导致 404 (如果服务器中没有相应的响应或者资源)；</li></ul></li> <li>原理：
<ul><li>监听路由变化：监听 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/popstate_event" target="_blank" rel="noopener noreferrer">popstate 事件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>；</li> <li>点击 <code>router-link</code> 路由切换：使用  <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/history" target="_blank" rel="noopener noreferrer">HTML5 History API<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> （replaceState 和 pushState）切换路由；</li></ul></li> <li>缺点：
<ul><li>要在服务端增加一个覆盖所有情况的候选资源：如果 URL 匹配不到任何静态资源，则应该返回同一个 <code>index.html</code> 页面，这个页面就是你 app 依赖的页面。</li></ul></li></ul></li> <li><p><strong>Abstract 模式：</strong> 支持所有javascript运行模式。如果发现没有浏览器的API，路由会自动强制进入这个模式。</p></li></ul></li> <li><p>三种模式中类继承关系<img src="/myblog/assets/img/路由模式类关系.7b3cc29a.png" alt=""></p></li> <li><p>三种模式的路由初始化： 在 VueRouter 构造函数中根据配置项创建路由模式。</p> <p><img src="/myblog/assets/img/路由模式初始化.9694642a.png" alt=""></p></li> <li><p>三种模式路由切换的底层实现:</p> <p><img src="/myblog/assets/img/不同路由模式切换原理.8e808aa7.png" alt=""></p></li></ul> <h2 id="路由安装"><a href="#路由安装" class="header-anchor">#</a> 路由安装</h2> <p><img src="/myblog/assets/img/路由安装.3f8e9ed3.png" alt=""></p> <ul><li><p>Vue-Router 的入口文件是 <code>src/index.js</code>，其中定义了 <code>VueRouter</code> 类，也实现了 <code>install</code> 的静态方法：<code>VueRouter.install = install</code>，它的定义在 <code>src/install.js</code> 中：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">let</span> _Vue
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">install</span> <span class="token punctuation">(</span><span class="token parameter">Vue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>install<span class="token punctuation">.</span>installed <span class="token operator">&amp;&amp;</span> _Vue <span class="token operator">===</span> Vue<span class="token punctuation">)</span> <span class="token keyword">return</span>
  install<span class="token punctuation">.</span>installed <span class="token operator">=</span> <span class="token boolean">true</span>

  _Vue <span class="token operator">=</span> Vue

  <span class="token keyword">const</span> <span class="token function-variable function">isDef</span> <span class="token operator">=</span> <span class="token parameter">v</span> <span class="token operator">=&gt;</span> v <span class="token operator">!==</span> <span class="token keyword">undefined</span>

  <span class="token keyword">const</span> <span class="token function-variable function">registerInstance</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">vm<span class="token punctuation">,</span> callVal</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> i <span class="token operator">=</span> vm<span class="token punctuation">.</span>$options<span class="token punctuation">.</span>_parentVnode
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isDef</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">isDef</span><span class="token punctuation">(</span>i <span class="token operator">=</span> i<span class="token punctuation">.</span>data<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">isDef</span><span class="token punctuation">(</span>i <span class="token operator">=</span> i<span class="token punctuation">.</span>registerRouteInstance<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">i</span><span class="token punctuation">(</span>vm<span class="token punctuation">,</span> callVal<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  Vue<span class="token punctuation">.</span><span class="token function">mixin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function">beforeCreate</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isDef</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$options<span class="token punctuation">.</span>router<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_routerRoot <span class="token operator">=</span> <span class="token keyword">this</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_router <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$options<span class="token punctuation">.</span>router
        <span class="token keyword">this</span><span class="token punctuation">.</span>_router<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
        Vue<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">defineReactive</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">'_route'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_router<span class="token punctuation">.</span>history<span class="token punctuation">.</span>current<span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_routerRoot <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$parent <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$parent<span class="token punctuation">.</span>_routerRoot<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token keyword">this</span>
      <span class="token punctuation">}</span>
      <span class="token function">registerInstance</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">destroyed</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">registerInstance</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token string">'$router'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function">get</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_routerRoot<span class="token punctuation">.</span>_router <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token string">'$route'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function">get</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_routerRoot<span class="token punctuation">.</span>_route <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'RouterView'</span><span class="token punctuation">,</span> View<span class="token punctuation">)</span>
  Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'RouterLink'</span><span class="token punctuation">,</span> Link<span class="token punctuation">)</span>

  <span class="token keyword">const</span> strats <span class="token operator">=</span> Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>optionMergeStrategies
  strats<span class="token punctuation">.</span>beforeRouteEnter <span class="token operator">=</span> strats<span class="token punctuation">.</span>beforeRouteLeave <span class="token operator">=</span> strats<span class="token punctuation">.</span>beforeRouteUpdate <span class="token operator">=</span> strats<span class="token punctuation">.</span>created
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div></li></ul> <h2 id="路由匹配"><a href="#路由匹配" class="header-anchor">#</a> 路由匹配</h2> <ul><li>使用 math 方法匹配
<ul><li>总流程 <img src="/myblog/assets/img/路由匹配.bf802c6b.png" alt=""></li></ul></li></ul> <h2 id="路由切换"><a href="#路由切换" class="header-anchor">#</a> 路由切换</h2> <ul><li>流程图
<ul><li><img src="/myblog/assets/img/路由切换.f5509d49.png" alt=""></li></ul></li></ul> <h2 id="内置组件"><a href="#内置组件" class="header-anchor">#</a> 内置组件</h2> <h3 id="router-link"><a href="#router-link" class="header-anchor">#</a> <a href="https://router.vuejs.org/zh/api/#router-link" target="_blank" rel="noopener noreferrer"><code>&lt;router-link&gt;</code> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <ul><li><p>作用：支持用户在具有路由功能的应用中 (点击) 导航。</p></li> <li><p>通过 <code>to</code> 属性指定目标地址，默认渲染成带有正确链接的 <code>&lt;a&gt;</code> 标签，可以通过配置 <code>tag</code> 属性生成别的标签.。</p></li> <li><p>当目标路由成功激活时，链接元素自动设置一个表示激活的 CSS 类名。</p></li> <li><p><code>&lt;router-link&gt;</code> 比起写死的 <code>&lt;a href=&quot;...&quot;&gt;</code> 会好一些，理由如下：</p> <ul><li>无论是 HTML5 history 模式还是 hash 模式，它的表现行为一致，所以，当你要切换路由模式，或者在 IE9 降级使用 hash 模式，无须作任何变动。</li> <li>在 HTML5 history 模式下，<code>router-link</code> 会守卫点击事件，让浏览器不再重新加载页面。</li> <li>当你在 HTML5 history 模式下使用 <code>base</code> 选项之后，所有的 <code>to</code> 属性都不需要写 (基路径) 了。</li></ul></li> <li><p>源码分析：router-link 本质是内置的函数式组件，<a href="https://github.com/vuejs/vue-router/blob/v3.0.1/src/components/link.js" target="_blank" rel="noopener noreferrer"><code>src/components/link.js</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 中。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'RouterLink'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> toTypes<span class="token punctuation">,</span>
      <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">tag</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">'a'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">exact</span><span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
    <span class="token literal-property property">append</span><span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
    <span class="token literal-property property">replace</span><span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
    <span class="token literal-property property">activeClass</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
    <span class="token literal-property property">exactActiveClass</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
    <span class="token literal-property property">event</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> eventTypes<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">'click'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">render</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">h</span><span class="token operator">:</span> Function</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//基于 render 函数渲染</span>
    <span class="token comment">//路由解析</span>
    <span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$router
    <span class="token keyword">const</span> current <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$route
    <span class="token comment">//router.resolve 是 VueRouter 的实例方法，解析 router 获得目标 location、route、href。它的定义在  src/index.js 中</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> location<span class="token punctuation">,</span> route<span class="token punctuation">,</span> href <span class="token punctuation">}</span> <span class="token operator">=</span> router<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>to<span class="token punctuation">,</span> current<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>append<span class="token punctuation">)</span>

    <span class="token comment">//解析类名</span>
    <span class="token keyword">const</span> classes <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">const</span> globalActiveClass <span class="token operator">=</span> router<span class="token punctuation">.</span>options<span class="token punctuation">.</span>linkActiveClass
    <span class="token keyword">const</span> globalExactActiveClass <span class="token operator">=</span> router<span class="token punctuation">.</span>options<span class="token punctuation">.</span>linkExactActiveClass
    <span class="token keyword">const</span> activeClassFallback <span class="token operator">=</span> globalActiveClass <span class="token operator">==</span> <span class="token keyword">null</span>
            <span class="token operator">?</span> <span class="token string">'router-link-active'</span>
            <span class="token operator">:</span> globalActiveClass
    <span class="token keyword">const</span> exactActiveClassFallback <span class="token operator">=</span> globalExactActiveClass <span class="token operator">==</span> <span class="token keyword">null</span>
            <span class="token operator">?</span> <span class="token string">'router-link-exact-active'</span>
            <span class="token operator">:</span> globalExactActiveClass
    <span class="token keyword">const</span> activeClass <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>activeClass <span class="token operator">==</span> <span class="token keyword">null</span>
            <span class="token operator">?</span> activeClassFallback
            <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>activeClass
    <span class="token keyword">const</span> exactActiveClass <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>exactActiveClass <span class="token operator">==</span> <span class="token keyword">null</span>
            <span class="token operator">?</span> exactActiveClassFallback
            <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>exactActiveClass
    <span class="token keyword">const</span> compareTarget <span class="token operator">=</span> location<span class="token punctuation">.</span>path
      <span class="token operator">?</span> <span class="token function">createRoute</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> location<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> router<span class="token punctuation">)</span>
      <span class="token operator">:</span> route

    classes<span class="token punctuation">[</span>exactActiveClass<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">isSameRoute</span><span class="token punctuation">(</span>current<span class="token punctuation">,</span> compareTarget<span class="token punctuation">)</span>
    classes<span class="token punctuation">[</span>activeClass<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>exact
      <span class="token operator">?</span> classes<span class="token punctuation">[</span>exactActiveClass<span class="token punctuation">]</span>
      <span class="token operator">:</span> <span class="token function">isIncludedRoute</span><span class="token punctuation">(</span>current<span class="token punctuation">,</span> compareTarget<span class="token punctuation">)</span>
	<span class="token comment">//创建了一个守卫函数</span>
    <span class="token keyword">const</span> <span class="token function-variable function">handler</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">guardEvent</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>replace<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          router<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>location<span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>location<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
	<span class="token comment">//监听点击事件或者其它可以通过 prop 传入的事件类型，执行 hanlder 函数</span>
    <span class="token keyword">const</span> on <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">click</span><span class="token operator">:</span> guardEvent <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>event<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>event<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> on<span class="token punctuation">[</span>e<span class="token punctuation">]</span> <span class="token operator">=</span> handler <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      on<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>event<span class="token punctuation">]</span> <span class="token operator">=</span> handler
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> <span class="token literal-property property">data</span><span class="token operator">:</span> any <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token keyword">class</span><span class="token operator">:</span> classes
    <span class="token punctuation">}</span>
	<span class="token comment">//判断当前 tag 是否是 &lt;a&gt; 标签，&lt;router-link&gt; 默认会渲染成 &lt;a&gt; 标签</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>tag <span class="token operator">===</span> <span class="token string">'a'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      data<span class="token punctuation">.</span>on <span class="token operator">=</span> on
      data<span class="token punctuation">.</span>attrs <span class="token operator">=</span> <span class="token punctuation">{</span> href <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
       <span class="token comment">//当修改 tag 的 prop 渲染成其他节点，这种情况下会尝试找它子元素的 &lt;a&gt; 标签</span>
      <span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token function">findAnchor</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$slots<span class="token punctuation">.</span>default<span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//如果有则把事件绑定到 &lt;a&gt; 标签上并添加 href 属性</span>
        a<span class="token punctuation">.</span>isStatic <span class="token operator">=</span> <span class="token boolean">false</span>
        <span class="token keyword">const</span> extend <span class="token operator">=</span> _Vue<span class="token punctuation">.</span>util<span class="token punctuation">.</span>extend
        <span class="token keyword">const</span> aData <span class="token operator">=</span> a<span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
        aData<span class="token punctuation">.</span>on <span class="token operator">=</span> on
        <span class="token keyword">const</span> aAttrs <span class="token operator">=</span> a<span class="token punctuation">.</span>data<span class="token punctuation">.</span>attrs <span class="token operator">=</span> <span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span>data<span class="token punctuation">.</span>attrs<span class="token punctuation">)</span>
        aAttrs<span class="token punctuation">.</span>href <span class="token operator">=</span> href
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><span class="token comment">//否则绑定到外层元素本身</span>
        data<span class="token punctuation">.</span>on <span class="token operator">=</span> on
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
	<span class="token comment">//使用 createElement() 创建 &lt;a&gt; 标签</span>
    <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>tag<span class="token punctuation">,</span> data<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$slots<span class="token punctuation">.</span>default<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br></div></div></li></ul> <h3 id="router-view"><a href="#router-view" class="header-anchor">#</a> <a href="https://router.vuejs.org/zh/api/#aria-current-value" target="_blank" rel="noopener noreferrer"><code>&lt;router-view&gt;</code> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <ul><li><p><code>&lt;router-view&gt;</code> 组件是一个 functional 组件，渲染路径匹配到的视图组件。<code>&lt;router-view&gt;</code> 渲染的组件还可以内嵌自己的 <code>&lt;router-view&gt;</code>，根据嵌套路径，渲染嵌套组件。</p></li> <li><p>其他属性 (非 router-view 使用的属性) 都直接传给渲染的组件， 很多时候，每个路由的数据都是包含在路由参数中。</p></li> <li><p>源码分析：它的定义在<a href="https://github.com/vuejs/vue-router/blob/v3.0.1/src/components/view.js" target="_blank" rel="noopener noreferrer"><code>src/components/view.js</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 中。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'RouterView'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">functional</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">'default'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">render</span> <span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span> <span class="token punctuation">{</span> props<span class="token punctuation">,</span> children<span class="token punctuation">,</span> parent<span class="token punctuation">,</span> data <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    data<span class="token punctuation">.</span>routerView <span class="token operator">=</span> <span class="token boolean">true</span>
   
    <span class="token keyword">const</span> h <span class="token operator">=</span> parent<span class="token punctuation">.</span>$createElement
    <span class="token keyword">const</span> name <span class="token operator">=</span> props<span class="token punctuation">.</span>name
    <span class="token keyword">const</span> route <span class="token operator">=</span> parent<span class="token punctuation">.</span>$route <span class="token comment">//获取当前的路径</span>
    <span class="token keyword">const</span> cache <span class="token operator">=</span> parent<span class="token punctuation">.</span>_routerViewCache <span class="token operator">||</span> <span class="token punctuation">(</span>parent<span class="token punctuation">.</span>_routerViewCache <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token keyword">let</span> depth <span class="token operator">=</span> <span class="token number">0</span> <span class="token comment">//&lt;router-view&gt; 是支持嵌套的,表示 &lt;router-view&gt; 嵌套的深度</span>
    <span class="token keyword">let</span> inactive <span class="token operator">=</span> <span class="token boolean">false</span>
    <span class="token comment">//parent._routerRoot 表示的是根 Vue 实例,这个循环就是从当前的 &lt;router-view&gt; 的父节点向上找，一直找到根 Vue 实例，在这个过程，如果碰到了父节点也是 &lt;router-view&gt; 的时候，说明 &lt;router-view&gt; 有嵌套的情况，depth++。</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>parent <span class="token operator">&amp;&amp;</span> parent<span class="token punctuation">.</span>_routerRoot <span class="token operator">!==</span> parent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token punctuation">.</span>$vnode <span class="token operator">&amp;&amp;</span> parent<span class="token punctuation">.</span>$vnode<span class="token punctuation">.</span>data<span class="token punctuation">.</span>routerView<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        depth<span class="token operator">++</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token punctuation">.</span>_inactive<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        inactive <span class="token operator">=</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
      parent <span class="token operator">=</span> parent<span class="token punctuation">.</span>$parent
    <span class="token punctuation">}</span>
    data<span class="token punctuation">.</span>routerViewDepth <span class="token operator">=</span> depth

    <span class="token keyword">if</span> <span class="token punctuation">(</span>inactive<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span>cache<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">,</span> data<span class="token punctuation">,</span> children<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//根据当前线路匹配的路径和 depth 找到对应的 RouteRecord，进而找到该渲染的组件</span>
    <span class="token keyword">const</span> matched <span class="token operator">=</span> route<span class="token punctuation">.</span>matched<span class="token punctuation">[</span>depth<span class="token punctuation">]</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>matched<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      cache<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">null</span>
      <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> component <span class="token operator">=</span> cache<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> matched<span class="token punctuation">.</span>components<span class="token punctuation">[</span>name<span class="token punctuation">]</span>
   	<span class="token comment">//注册路由实例的方法</span>
    data<span class="token punctuation">.</span><span class="token function-variable function">registerRouteInstance</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">vm<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  
      <span class="token comment">//matched.instances[name] 赋值当前组件的 vm 实例:在混入的 beforeCreate 钩子函数中，会执行 registerInstance 方法，进而执行 render 函数中定义的 registerRouteInstance 方法</span>
      <span class="token keyword">const</span> current <span class="token operator">=</span> matched<span class="token punctuation">.</span>instances<span class="token punctuation">[</span>name<span class="token punctuation">]</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>
        <span class="token punctuation">(</span>val <span class="token operator">&amp;&amp;</span> current <span class="token operator">!==</span> vm<span class="token punctuation">)</span> <span class="token operator">||</span>
        <span class="token punctuation">(</span><span class="token operator">!</span>val <span class="token operator">&amp;&amp;</span> current <span class="token operator">===</span> vm<span class="token punctuation">)</span>
      <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        matched<span class="token punctuation">.</span>instances<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> val
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token punctuation">;</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>hook <span class="token operator">||</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>hook <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">prepatch</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span> vnode</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      matched<span class="token punctuation">.</span>instances<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> vnode<span class="token punctuation">.</span>componentInstance
    <span class="token punctuation">}</span>

    <span class="token keyword">let</span> propsToPass <span class="token operator">=</span> data<span class="token punctuation">.</span>props <span class="token operator">=</span> <span class="token function">resolveProps</span><span class="token punctuation">(</span>route<span class="token punctuation">,</span> matched<span class="token punctuation">.</span>props <span class="token operator">&amp;&amp;</span> matched<span class="token punctuation">.</span>props<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>propsToPass<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      propsToPass <span class="token operator">=</span> data<span class="token punctuation">.</span>props <span class="token operator">=</span> <span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> propsToPass<span class="token punctuation">)</span>
      <span class="token keyword">const</span> attrs <span class="token operator">=</span> data<span class="token punctuation">.</span>attrs <span class="token operator">=</span> data<span class="token punctuation">.</span>attrs <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> propsToPass<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>component<span class="token punctuation">.</span>props <span class="token operator">||</span> <span class="token operator">!</span><span class="token punctuation">(</span>key <span class="token keyword">in</span> component<span class="token punctuation">.</span>props<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          attrs<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> propsToPass<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
          <span class="token keyword">delete</span> propsToPass<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
	<span class="token comment">//根据 component 渲染出对应的组件 vond</span>
    <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span>component<span class="token punctuation">,</span> data<span class="token punctuation">,</span> children<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br></div></div></li></ul> <h2 id="相关问题"><a href="#相关问题" class="header-anchor">#</a> 相关问题</h2> <h3 id="路由匹配过程"><a href="#路由匹配过程" class="header-anchor">#</a> 路由匹配过程</h3> <ul><li><p>在 new Router(routes)时,根据传入用户路由配置生成三张路由映射表：pathList (存储所有路径) ，pathMap (路径 -&gt; RouterRecord映射表)，nameMap  (name -&gt; RouterRecord映射表)</p></li> <li><p>路由切换触发 history.transitionTo() 进行路由过度, 回调执行 router.math() 进行路由匹配：</p> <ul><li><p>当直接在浏览器输入路径时，math() 中先通过 normalizeLocation() 将 router 转换成 Location 对象：<img src="data:image/png;base64,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" alt="image-20200803222454635"></p> <p>当name 不存在时，遍历 pathList 表，获得 path，再通过 pathMap 获取 RoouterRecord 对象:<img src="data:image/png;base64,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" alt="image-20200803222804270"></p> <p>（RoouterRecord 对象的 regex 使用<a href="https://github.com/pillarjs/path-to-regexp/tree/v1.7.0" target="_blank" rel="noopener noreferrer">path-to-regexp<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 作为路径匹配引擎，path-to-regexp 会将 路由配置中 path 转为如下结构的一个正则表达式，最终使用日 re 正则表达式匹配 &quot;输入浏览器的路径&quot; ）<img src="data:image/png;base64,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" alt="image-20200803223300946"></p> <p>然后获取RoouterRecord 对象 regex 与当前 Router 的 location 对象的 path 比较</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">matchRoute</span><span class="token punctuation">(</span>record<span class="token punctuation">.</span>regex<span class="token punctuation">,</span> location<span class="token punctuation">.</span>path<span class="token punctuation">,</span> location<span class="token punctuation">.</span>params<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>匹配成功通过 _createRoute(record, location, redirectedFrom) 创建路径</p></li></ul></li></ul> <blockquote><p>路由匹配引擎?</p></blockquote> <ul><li><code>vue-router</code> 使用 <a href="https://github.com/pillarjs/path-to-regexp/tree/v1.7.0" target="_blank" rel="noopener noreferrer">path-to-regexp<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 作为路径匹配引擎，所以支持很多高级的匹配模式，例如：可选的动态路径参数、匹配零个或多个、一个或多个，甚至是自定义正则匹配</li></ul> <blockquote><p>/test/:name 与 /test/:id 两个路由将如何匹配？  (假设 name 参数特点为非数字字符串，id 参数特点为数字)</p></blockquote> <ul><li><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>	
  <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/test/:name'</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span> Name <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/test/:id'</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span> <span class="token constant">ID</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routes
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li> <li><p>因为 /test/:name 与 /test/:id 通过 <a href="https://github.com/pillarjs/path-to-regexp/tree/v1.7.0" target="_blank" rel="noopener noreferrer">path-to-regexp<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 匹配引擎解析后的 regexp 相同  ( 解析结果都为 /^/foo/([^/]+?)/?$/i )，因此使用 /test/:name 与 /test/:id 作为路由配置的 path 参数是无法区分两个路由；在路由匹配时通过遍历 pathList 匹配 &quot;浏览器路径&quot;，因此当输入 /test/joker 或则 /test/1234 时将总是匹配到 /test/:name 路径</p></li> <li><p>解决方案: /test/:name 与 /test/:id 是相同路径不同参数名称的路由，可以根据 name 和 id 两个不同参数的特征，使用正则表达式匹配，因此路由配置中路径可以写为 /test/:name([A-Za-z]+) 与 /test/:id(\d+)</p></li></ul> <blockquote><p>路由之间是怎么跳转的？有哪些方式？</p></blockquote> <p>组件导航: router-link</p> <p>编程导航: router.push、 router.replace、 router.go</p> <blockquote><p>active-class 是哪个组件的属性？</p></blockquote> <p><a href="https://router.vuejs.org/zh/api/#active-class" target="_blank" rel="noopener noreferrer">active-class<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 是 router-link 属性，设置链接激活时使用的 CSS 类名。默认值可以通过路由的构造选项 <code>linkActiveClass</code> 来全局配置。</p> <hr> <p><strong>导航守卫相关:</strong></p> <h3 id="响应路由参数的变化"><a href="#响应路由参数的变化" class="header-anchor">#</a> 响应路由参数的变化</h3> <blockquote><p>如果目的地和当前路由相同，只有参数发生了改变 (比如从一个用户资料到另一个 <code>/users/1</code> -&gt; <code>/users/2</code>) 如何响应变化？</p></blockquote> <ul><li><p>使用 <a href="https://router.vuejs.org/zh/guide/essentials/dynamic-matching.html#%E5%93%8D%E5%BA%94%E8%B7%AF%E7%94%B1%E5%8F%82%E6%95%B0%E7%9A%84%E5%8F%98%E5%8C%96" target="_blank" rel="noopener noreferrer"><code>beforeRouteUpdate</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 来响应这个变化 (比如抓取用户信息)</p></li> <li><p>注意：使用带有参数的路由时需要注意的是，当用户从 <code>/users/1</code> 导航到 <code>/users/2</code> 时，<strong>相同的组件实例将被重复使用</strong>。因为两个路由都渲染同个组件，比起销毁再创建，复用则显得更加高效。<strong>不过，这也意味着组件的生命周期钩子不会被调用</strong>。</p></li></ul> <h3 id="对同一个组件中参数的变化做出响应"><a href="#对同一个组件中参数的变化做出响应" class="header-anchor">#</a> 对同一个组件中参数的变化做出响应</h3> <ul><li><p>方案一：简单地 watch <code>$route</code> 对象上的任意属性，在这个场景中，就是 <code>$route.params</code> ：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> User <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">'...'</span><span class="token punctuation">,</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$watch</span><span class="token punctuation">(</span>
      <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>params<span class="token punctuation">,</span>
      <span class="token punctuation">(</span><span class="token parameter">toParams<span class="token punctuation">,</span> previousParams</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 对路由变化做出响应...</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li> <li><p>方案二：使用 <code>beforeRouteUpdate</code> <a href="https://router.vuejs.org/zh/guide/advanced/navigation-guards.html" target="_blank" rel="noopener noreferrer">导航守卫<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，它也可以取消导航：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> User <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">'...'</span><span class="token punctuation">,</span>
  <span class="token keyword">async</span> <span class="token function">beforeRouteUpdate</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 对路由变化做出响应...</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>userData <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetchUser</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li></ul> <p><strong>参考资料</strong>:<a href="https://router.vuejs.org/zh/guide/essentials/dynamic-matching.html#%E5%93%8D%E5%BA%94%E8%B7%AF%E7%94%B1%E5%8F%82%E6%95%B0%E7%9A%84%E5%8F%98%E5%8C%96" target="_blank" rel="noopener noreferrer">响应路由参数的变化<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="beforerouteenter-能否拿到组件实例-this-为什么"><a href="#beforerouteenter-能否拿到组件实例-this-为什么" class="header-anchor">#</a> beforeRouteEnter 能否拿到组件实例 this? 为什么?</h3> <ul><li><p>不能，因为当守卫执行前，组件实例还没被创建，但是我们可以通过传一个回调给 next 来访问组件实例：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token function">beforeRouteEnter</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function">next</span><span class="token punctuation">(</span><span class="token parameter">vm</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token comment">// 通过 `vm` 访问组件实例</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ul> <h3 id="如何在路由守卫进行管道中的下一个钩子"><a href="#如何在路由守卫进行管道中的下一个钩子" class="header-anchor">#</a> 如何在路由守卫进行管道中的下一个钩子？</h3> <ul><li><p>调用 next() 方法</p></li> <li><p><code>router.beforeEach</code> 注册一个全局前置守卫：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>当一个导航触发时，全局前置守卫按照创建顺序调用。守卫是异步解析执行，此时导航在所有守卫 resolve 完之前一直处于 <strong>等待中</strong>。</p> <p>每个守卫方法接收三个参数：</p> <ul><li><strong><code>to: Route</code></strong>: 即将要进入的目标 <a href="https://router.vuejs.org/zh/api/#%E8%B7%AF%E7%94%B1%E5%AF%B9%E8%B1%A1" target="_blank" rel="noopener noreferrer">路由对象<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><strong><code>from: Route</code></strong>: 当前导航正要离开的路由</li> <li><strong><code>next: Function</code></strong>: 一定要调用该方法来 <strong>resolve</strong> 这个钩子。执行效果依赖 <code>next</code> 方法的调用参数。
<ul><li><strong><code>next()</code></strong>: 进行管道中的下一个钩子。如果全部钩子执行完了，则导航的状态就是 <strong>confirmed</strong> (确认的)。</li> <li><strong><code>next(false)</code></strong>: 中断当前的导航。如果浏览器的 URL 改变了 (可能是用户手动或者浏览器后退按钮)，那么 URL 地址会重置到 <code>from</code> 路由对应的地址。</li> <li><strong><code>next('/')</code> 或者 <code>next({ path: '/' })</code></strong>: 跳转到一个不同的地址。当前的导航被中断，然后进行一个新的导航。你可以向 <code>next</code> 传递任意位置对象，且允许设置诸如 <code>replace: true</code>、<code>name: 'home'</code> 之类的选项以及任何用在 <a href="https://router.vuejs.org/zh/api/#to" target="_blank" rel="noopener noreferrer"><code>router-link</code> 的 <code>to</code> prop<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 或 <a href="https://router.vuejs.org/zh/api/#router-push" target="_blank" rel="noopener noreferrer"><code>router.push</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 中的选项。</li> <li><strong><code>next(error)</code></strong>: (2.4.0+) 如果传入 <code>next</code> 的参数是一个 <code>Error</code> 实例，则导航会被终止且该错误会被传递给 <a href="https://router.vuejs.org/zh/api/#router-onerror" target="_blank" rel="noopener noreferrer"><code>router.onError()</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 注册过的回调。</li></ul></li></ul></li></ul> <h3 id="为什么路由路由守卫中必须调用-next-才会前进到下一个导航守卫钩子函数中"><a href="#为什么路由路由守卫中必须调用-next-才会前进到下一个导航守卫钩子函数中" class="header-anchor">#</a> 为什么路由路由守卫中必须调用 next()，才会前进到下一个导航守卫钩子函数中？</h3> <p>Q：vue 路由中实现了一个 iterator 遍历器，在路由切换时，解析路由出守卫队列 queue ，然后使用遍历器遍历 路由守卫队列；</p> <p><strong>路由应用：</strong></p> <h3 id="切换路由时需要保存草稿的功能-怎么实现"><a href="#切换路由时需要保存草稿的功能-怎么实现" class="header-anchor">#</a> 切换路由时需要保存草稿的功能，怎么实现？</h3> <p>使用 <code>&lt;keep-alive&gt;</code> 缓存组件：在组件切换过程中将状态保留在内存中，防止重复渲染DOM。</p> <p>在router中设置router的元信息meta：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//...router.js </span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span> 
      <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Hello'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">component</span><span class="token operator">:</span> Hello<span class="token punctuation">,</span> 
        <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">keepAlive</span><span class="token operator">:</span> <span class="token boolean">false</span>    <span class="token comment">// 不需要缓存 </span>
  <span class="token punctuation">}</span> 
<span class="token punctuation">}</span><span class="token punctuation">,</span> 
       <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/page1'</span><span class="token punctuation">,</span> 
         <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Page1'</span><span class="token punctuation">,</span> 
         <span class="token literal-property property">component</span><span class="token operator">:</span> Page1<span class="token punctuation">,</span> 
         <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{</span>
           <span class="token literal-property property">keepAlive</span><span class="token operator">:</span> <span class="token boolean">true</span>    <span class="token comment">// 需要被缓存 </span>
       <span class="token punctuation">}</span> 
     <span class="token punctuation">}</span> 
   <span class="token punctuation">]</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>组件中添加 meta 判断：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$route.meta.keepAlive<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>!$route.meta.keepAlive<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="刷新无法触发-router-beforeeach-守卫问题"><a href="#刷新无法触发-router-beforeeach-守卫问题" class="header-anchor">#</a> 刷新无法触发 router.beforeEach 守卫问题</h3> <ul><li><p>背景：</p> <blockquote><p>在一个使用 Vue3 + Vue-Router 4.x 的项目中，使用 <code>router.beforeEach</code>  作为全局路由守卫拦截路由实现对权限控制</p></blockquote></li> <li><p>现象：</p> <blockquote><p>在获取异步路由以后，进入异步路由权限页面，刷新页面，页面空白，路由对象丢失</p></blockquote></li> <li><p>实现代码：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>
<span class="token keyword">import</span> type <span class="token punctuation">{</span> Router<span class="token punctuation">,</span> RouteRecordRaw<span class="token punctuation">,</span> RouteItem <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getToken<span class="token punctuation">,</span> getOAToken<span class="token punctuation">,</span> getOALoginToken <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/utils/token&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">WHITE_NAME_LIST</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/router'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> PageEnum <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/enums/pageEnum'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useUserStoreWithOut <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/store/modules/common/user&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useRoutesStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/store/modules/common/routes&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> userStore <span class="token operator">=</span> <span class="token function">useUserStoreWithOut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> routesStore <span class="token operator">=</span> <span class="token function">useRoutesStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">createPermissionGuard</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">router</span><span class="token operator">:</span> Router</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * 问题： 直接使用 router.beforeEach 会导致在刷新页面时无法进入 router.beforeEach 的回调函数
     * 原因：可能是因为在刷新页面时，Vue Router 的初始化过程尚未完成，导致路由守卫无法正常触发。
     * 解决方案：将 router.beforeEach 回调函数的逻辑放在一个异步函数中，并在 Vue Router 初始化完成后再调用这个异步函数。你可以使用 router.isReady() 方法来判断 Vue Router 是否已经初始化完成。
     * isReady: isReady(): Promise&lt;void&gt; 返回一个 Promise，它会在路由器完成初始导航之后被解析，也就是说这时所有和初始路由有关联的异步入口钩子和异步组件都已经被解析。如果初始导航已经发生，则该 Promise 会被立刻解析。
     */</span>
    router<span class="token punctuation">.</span><span class="token function">isReady</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> hasToken <span class="token operator">=</span> <span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>hasToken<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">await</span> <span class="token function">routerPermission</span><span class="token punctuation">(</span>to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next<span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token comment">// 获取 oa 中的 token</span>
                <span class="token keyword">const</span> <span class="token punctuation">{</span> oaToken <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">getOAToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span>oaToken<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// oa 存在 token，用户已经登录 oa</span>
                    <span class="token keyword">try</span> <span class="token punctuation">{</span>
                        <span class="token comment">// 使用 oa token 登录系统</span>
                        <span class="token keyword">await</span> userStore<span class="token punctuation">.</span><span class="token function">CheckOaLogin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token comment">// 获取新 oa token:LtpaToken, 通过创建 iframe,重定向获取 oa 登录 token</span>
                        <span class="token keyword">await</span> <span class="token function">getOALoginToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                        <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        userStore<span class="token punctuation">.</span><span class="token function">ClearLocal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token function">next</span><span class="token punctuation">(</span><span class="token string">&quot;/login?redirect=&quot;</span> <span class="token operator">+</span> to<span class="token punctuation">.</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">WHITE_NAME_LIST</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>name <span class="token keyword">as</span> string<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment">// 用户未登录</span>
                    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    <span class="token function">next</span><span class="token punctuation">(</span><span class="token string">&quot;/login?redirect=&quot;</span> <span class="token operator">+</span> to<span class="token punctuation">.</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token comment">/**
     * 路由权限判断函数,根据路由权限进入不同路由
     */</span>
    <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">routerPermission</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">to</span><span class="token operator">:</span> RouteItem<span class="token punctuation">,</span> <span class="token literal-property property">from</span><span class="token operator">:</span> RouteItem<span class="token punctuation">,</span> <span class="token literal-property property">next</span><span class="token operator">:</span> Function</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">// 已经存在 token, 进入用户登录页面</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>to<span class="token punctuation">.</span>path <span class="token operator">==</span> PageEnum<span class="token punctuation">.</span><span class="token constant">BASE_LOGIN</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 从登录页面进入，直接进入登录页面</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>from<span class="token punctuation">.</span>path <span class="token operator">===</span> PageEnum<span class="token punctuation">.</span><span class="token constant">BASE_LOGIN</span> <span class="token operator">||</span> PageEnum<span class="token punctuation">.</span><span class="token constant">ROOT</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">next</span><span class="token punctuation">(</span>PageEnum<span class="token punctuation">.</span><span class="token constant">BASE_HOME</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token comment">//已经存在 token, 从其他页面进入用户登录页面，直接返回来源页面</span>
                <span class="token function">next</span><span class="token punctuation">(</span>from<span class="token punctuation">.</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// determine whether the user has obtained his permission roles through getInfo</span>
            <span class="token comment">// 已经加载异步路由直接进入页面（在用户退出系统后必须清除 store 中数据）</span>
            <span class="token keyword">const</span> hasAccessRoutes <span class="token operator">=</span> routesStore<span class="token punctuation">.</span>getAddRoutes<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>hasAccessRoutes<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// await routesStore.SetShowRouters(to)</span>
                <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">try</span> <span class="token punctuation">{</span>
                    <span class="token comment">// get user info</span>
                    <span class="token comment">// 获取用户信息(包括权限列表)</span>
                    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> userStore<span class="token punctuation">.</span><span class="token function">GetUserInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token comment">// 根据用户权限列表，生成异步路由</span>

                    <span class="token keyword">const</span> accessRoutes <span class="token operator">=</span> routesStore<span class="token punctuation">.</span><span class="token function">GenerateRoutes</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>menuNames <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

                    <span class="token keyword">if</span> <span class="token punctuation">(</span>accessRoutes<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token comment">// dynamically add accessible routes</span>

                        router<span class="token punctuation">.</span><span class="token function">addRoute</span><span class="token punctuation">(</span><span class="token operator">...</span>accessRoutes<span class="token punctuation">)</span>
                        router<span class="token punctuation">.</span>options<span class="token punctuation">.</span>routes<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span>accessRoutes<span class="token punctuation">)</span>
                        <span class="token comment">// set the replace: true, so the navigation will not leave a history record</span>
                        <span class="token comment">// await routesStore.SetShowRouters(to)</span>
                        <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                        <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token comment">// remove token and go to login page to re-login</span>
                    <span class="token keyword">await</span> userStore<span class="token punctuation">.</span><span class="token function">Logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token function">next</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>path<span class="token punctuation">)</span>

                <span class="token punctuation">}</span>
                <span class="token comment">// 获取新 oa token:LtpaToken, 通过创建 iframe,重定向获取 oa 登录 token</span>
                <span class="token function">getOALoginToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br></div></div></li> <li><p>问题分析：</p> <blockquote><ul><li>通过在 <code>router.beforeEach</code> 回调函数中打 debugger 断点，单步调试，执行以下步骤：</li> <li>登录页面 -&gt; 进入异步路由页面 -&gt; 刷新页面 -&gt; 页面空白</li> <li>发现刷新页面后未进入  <code>router.beforeEach</code> 回调函数中的 debugger 断点</li></ul></blockquote></li> <li></li></ul> <h2 id="参考资料"><a href="#参考资料" class="header-anchor">#</a> 参考资料</h2> <ul><li><a href="https://router.vuejs.org/zh/" target="_blank" rel="noopener noreferrer">Vue Router 3.x<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <hr></div> <!----> <div class="content__content-bottom"></div> <footer class="page-meta"><!----> <div class="meta-item update-time"><span class="label">Last update:</span> <span class="info">March 20, 2024 20:28</span></div> <div class="meta-item contributors"><span class="label">Contributors: </span> <span class="info"><span title="email: 596777598@qq.com" class="contributor">
          sewar
        </span> <!----></span></div></footer> <!----> <!----> <!----> <div class="content__page-bottom"></div></main> <!----></div><div class="global-ui"><!----><div id="pwa-install"><!----> <div id="install-modal-wrapper" style="display:none;"><div class="background"></div> <div class="install-modal"><div class="header"><button aria-label="Close" class="close-button"><svg width="23" height="22" xmlns="http://www.w3.org/2000/svg" class="icon close-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.12.358a1.224 1.224 0 011.729 0l8.92 8.914L20.686.358a1.224 1.224 0 011.73 1.728L13.497 11l8.92 8.913a1.222 1.222 0 11-1.73 1.729l-8.919-8.913-8.92 8.913a1.224 1.224 0 01-1.729-1.729L10.04 11l-8.92-8.914a1.222 1.222 0 010-1.728z" fill="currentColor"></path></svg></button> <div class="logo"><!----> <div class="title"><h1></h1> <p class="desc">This app can be installed on your PC or mobile device.  This will allow this web app to look and behave like any other installed app.  You will find it in your app lists and be able to pin it to your home screen, start menus or task bars.  This installed web app will also be able to safely interact with other apps and your operating system. </p></div></div></div> <div class="content"><div class="highlight"><!----> <!----></div> <div class="description"><h3>Description</h3> <p></p></div></div> <div class="button-wrapper"><button class="install-button">
        Install <span></span></button> <button class="cancel-button">
        Cancel
      </button></div></div></div></div><!----><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button title="Close" aria-label="Close" class="pswp__button pswp__button--close"></button> <button title="Share" aria-label="Share" class="pswp__button pswp__button--share"></button> <button title="Switch to full screen" aria-label="Switch to full screen" class="pswp__button pswp__button--fs"></button> <button title="Zoom in/out" aria-label="Zoom in/out" class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button title="Prev (Arrow Left)" aria-label="Prev (Arrow Left)" class="pswp__button pswp__button--arrow--left"></button> <button title="Next (Arrow Right)" aria-label="Next (Arrow Right)" class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div></div>
    <script src="/myblog/assets/js/app.9d2b617a.js" defer></script><script src="/myblog/assets/js/layout-Layout.d2d4ce64.js" defer></script><script src="/myblog/assets/js/page-VueRouter原理分析.0a092eb6.js" defer></script><script src="/myblog/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-components/Blog/BlogHome~layout-components/~2222f443.5835591a.js" defer></script>
  </body>
</html>
