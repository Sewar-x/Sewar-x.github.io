<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue2 Vs Vue3 | Sewen 博客</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="./mylogo.png">
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.min.js"></script>
    <link rel="manifest" href="/myblog/manifest.webmanifest" crossorigin="use-credentials">
    <link rel="alternate" type="application/atom+xml" href="https://sewar-x.github.io/myblog/atom.xml" title="Sewen 博客 Atom Feed">
    <link rel="alternate" type="application/json" href="https://sewar-x.github.io/myblog/rss.xml" title="Sewen 博客 JSON Feed">
    <link rel="alternate" type="application/rss+xml" href="https://sewar-x.github.io/myblog/rss.xml" title="Sewen 博客 RSS Feed">
    <meta name="description" content="sewen 的前端学习笔记、博客、前端基础总结、技术深度剖析、面试题总结、算法总结、项目过程总结">
    <meta property="og:url" content="https://sewar-x.github.io/myblog/vue/Vue2VsVue3.html">
    <meta property="og:site_name" content="Sewen 博客">
    <meta property="og:title" content="Vue2 Vs Vue3">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="en-US">
    <meta name="theme-color" content="#46bd87">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <link rel="preload" href="/myblog/assets/css/0.styles.645fbc6f.css" as="style"><link rel="preload" href="/myblog/assets/js/app.9d2b617a.js" as="script"><link rel="preload" href="/myblog/assets/js/layout-Layout.d2d4ce64.js" as="script"><link rel="preload" href="/myblog/assets/js/page-Vue2VsVue3.10be4140.js" as="script"><link rel="preload" href="/myblog/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-components/Blog/BlogHome~layout-components/~2222f443.5835591a.js" as="script"><link rel="prefetch" href="/myblog/assets/js/199.a9216960.js"><link rel="prefetch" href="/myblog/assets/js/200.4c66fc79.js"><link rel="prefetch" href="/myblog/assets/js/layout-Blog.1fca7e90.js"><link rel="prefetch" href="/myblog/assets/js/layout-NotFound.3c74e8aa.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/AlgoliaSearch/Dropdown.70fcebe7.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Anchor.3235541c.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/ArticleInfo.7b815b20.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/ArticleItem.b0e177e1.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/ArticleList.d1cf1b24.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/ArticleType.b630b80e.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/BlogHero.621312ba.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/BlogHome.4fe44489.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/BlogInfo.b2a94760.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/BlogPage.e0fbe820.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/BloggerInfo.0df38355.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/CategoryList.ec1bcd96.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/ProjectList.8550a110.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/TagList.bcf7b782.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/Timeline.b6cf5471.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/TimelineList.3c6e08a6.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Clipboard.e940a903.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Common.820a8694.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Home.70383986.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/MyTransition.0de46069.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/DropdownLink.e3f6c118.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/NavLink.93b11770.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/NavLinks.8ba214e6.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/Navbar.b90a94f9.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/RepoLink.663a7f55.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/SidebarButton.76b0035a.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Page.98b5d09c.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/PageFooter.20bc9bd8.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/PageMeta.b7e6b12f.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/PageNav.8305dd1f.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Password.45e0e82a.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/DropdownTransition.068c5eea.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/Sidebar.f6f90d52.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/SidebarDropdownLink.505127a8.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/SidebarGroup.7eecf370.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/SidebarLink.6e39fe32.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/SidebarNavLinks.0f8566cb.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Theme/DarkmodeSwitch.20ac7b92.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Theme/ThemeColor.6086e4ed.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Theme/ThemeOptions.483238c9.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/ArticleIcon.0a22e2b1.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/AutoIcon.2ff1c790.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/BookIcon.419b49ba.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/DarkIcon.7d81873b.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/EditIcon.8ada485d.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/EmptyIcon.d704a5cf.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/I18nIcon.ffad8b3e.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/LightIcon.47d807da.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/LinkIcon.1a8a7826.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/LockIcon.a29a2b79.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/NextIcon.0214ee59.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/Page404Icon.8bc1ebbb.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/PresentationIcon.17500d9b.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/PrevIcon.2ae04a70.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/ProjectIcon.b336d567.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/StickyIcon.0f509b9d.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Baidu.244b9a41.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Bitbucket.11ba94e1.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Dingding.e8a3d90d.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Discord.3295a55b.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Dribbble.464dac3b.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Email.f9254caa.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Evernote.991472fb.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Facebook.08e78e47.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Flipboard.a1124d0f.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Gitee.c44bc20a.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Github.5667e5ae.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Gitlab.ad95c7a7.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Gmail.b5acc6bc.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Instagram.56be85f2.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Lines.d9db3dce.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Linkedin.b82d8d8b.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Pinterest.0f3ffe71.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Pocket.41ef3c92.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/QQ.7558f4ba.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Qzone.bf658fae.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Reddit.9c4c95ee.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Rss.9780139e.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Steam.06abbae2.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Twitter.26fa5bda.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Wechat.9cac8c4c.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Weibo.5206a632.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Whatsapp.0738f1e3.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Youtube.f41fd7f2.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Zhihu.4d851d2f.js"><link rel="prefetch" href="/myblog/assets/js/page--0abc50bf.0d6f1484.js"><link rel="prefetch" href="/myblog/assets/js/page--1cd40f4c.dd76c7b3.js"><link rel="prefetch" href="/myblog/assets/js/page--53f93199.e80bdec8.js"><link rel="prefetch" href="/myblog/assets/js/page--5afd2fd0.adea4e92.js"><link rel="prefetch" href="/myblog/assets/js/page--67c584d3.0a3f3cd9.js"><link rel="prefetch" href="/myblog/assets/js/page--776a8506.cdf48aac.js"><link rel="prefetch" href="/myblog/assets/js/page-CSS.eb94b29f.js"><link rel="prefetch" href="/myblog/assets/js/page-Chrome开发工具使用指南.a2675120.js"><link rel="prefetch" href="/myblog/assets/js/page-DevServer.0281863d.js"><link rel="prefetch" href="/myblog/assets/js/page-Echarts二次封装.4387b8ad.js"><link rel="prefetch" href="/myblog/assets/js/page-Elementui与Element-plusui二次封装.82f12a09.js"><link rel="prefetch" href="/myblog/assets/js/page-Git基础.03c616ad.js"><link rel="prefetch" href="/myblog/assets/js/page-Git规范.e2fdc38a.js"><link rel="prefetch" href="/myblog/assets/js/page-HTML.1e3c14b9.js"><link rel="prefetch" href="/myblog/assets/js/page-Home.f0b7e772.js"><link rel="prefetch" href="/myblog/assets/js/page-JSON配置化组件二次封装.12060fd9.js"><link rel="prefetch" href="/myblog/assets/js/page-JS原理实现.3c427e19.js"><link rel="prefetch" href="/myblog/assets/js/page-JS应用题.3d313b34.js"><link rel="prefetch" href="/myblog/assets/js/page-JavaScript基础.551be887.js"><link rel="prefetch" href="/myblog/assets/js/page-Linux.c6159ebd.js"><link rel="prefetch" href="/myblog/assets/js/page-Loader和Plugin原理.b2971b76.js"><link rel="prefetch" href="/myblog/assets/js/page-MySQL.0b1d704a.js"><link rel="prefetch" href="/myblog/assets/js/page-NPM.a55851b2.js"><link rel="prefetch" href="/myblog/assets/js/page-Node.ec405a21.js"><link rel="prefetch" href="/myblog/assets/js/page-Nodejs常见问题集合.12844e69.js"><link rel="prefetch" href="/myblog/assets/js/page-Node性能优化.b4ea1c34.js"><link rel="prefetch" href="/myblog/assets/js/page-Promise专题.7869a31b.js"><link rel="prefetch" href="/myblog/assets/js/page-React.d76cf0ac.js"><link rel="prefetch" href="/myblog/assets/js/page-SSG移动端项目实践.2122615b.js"><link rel="prefetch" href="/myblog/assets/js/page-TypeScript.4f597fda.js"><link rel="prefetch" href="/myblog/assets/js/page-Vite.637881bf.js"><link rel="prefetch" href="/myblog/assets/js/page-Vite原理解析.6677fdb4.js"><link rel="prefetch" href="/myblog/assets/js/page-Vue25项目webpack构建分析.7bbea0fa.js"><link rel="prefetch" href="/myblog/assets/js/page-Vue2x原理源码分析.e9e753b6.js"><link rel="prefetch" href="/myblog/assets/js/page-Vue3基础.210247ff.js"><link rel="prefetch" href="/myblog/assets/js/page-Vue3源码分析.17379e04.js"><link rel="prefetch" href="/myblog/assets/js/page-VueCli源码分析.afc3c83f.js"><link rel="prefetch" href="/myblog/assets/js/page-VueRouter原理分析.0a092eb6.js"><link rel="prefetch" href="/myblog/assets/js/page-VueSSR原理分析.63006040.js"><link rel="prefetch" href="/myblog/assets/js/page-VueVsReact.2156be28.js"><link rel="prefetch" href="/myblog/assets/js/page-Vuex原理分析.5ba3e6e4.js"><link rel="prefetch" href="/myblog/assets/js/page-WEB安全.5aa0eeef.js"><link rel="prefetch" href="/myblog/assets/js/page-WebPack构建原理.9c29703e.js"><link rel="prefetch" href="/myblog/assets/js/page-webpackAPI分析.4c8b152b.js"><link rel="prefetch" href="/myblog/assets/js/page-webpack优化.dcc6c3bc.js"><link rel="prefetch" href="/myblog/assets/js/page-webpack基础.3820ee6c.js"><link rel="prefetch" href="/myblog/assets/js/page-webpack项目实践.77e22417.js"><link rel="prefetch" href="/myblog/assets/js/page-一次后台管理系统的性能优化.7c2d8712.js"><link rel="prefetch" href="/myblog/assets/js/page-从零到一搭建SSR项目.855376fc.js"><link rel="prefetch" href="/myblog/assets/js/page-从零到一搭建Vue2项目和规范设计.93017fd2.js"><link rel="prefetch" href="/myblog/assets/js/page-从零到一搭建Vue3单页面应用.de152d54.js"><link rel="prefetch" href="/myblog/assets/js/page-从零到一搭建公共组件库.93278073.js"><link rel="prefetch" href="/myblog/assets/js/page-从零到一搭建移动端SSG项目.9c113d06.js"><link rel="prefetch" href="/myblog/assets/js/page-使用docker部署Node服务.5cf328fd.js"><link rel="prefetch" href="/myblog/assets/js/page-分治.e3dfc22d.js"><link rel="prefetch" href="/myblog/assets/js/page-前端发版静态资源404问题.9eb1ca89.js"><link rel="prefetch" href="/myblog/assets/js/page-前端存储.cd82cf54.js"><link rel="prefetch" href="/myblog/assets/js/page-前端工程化.1e6e58d0.js"><link rel="prefetch" href="/myblog/assets/js/page-前端性能优化方案.83718d22.js"><link rel="prefetch" href="/myblog/assets/js/page-前端架构实践.171dbc0f.js"><link rel="prefetch" href="/myblog/assets/js/page-前端渲染架构.3b783de8.js"><link rel="prefetch" href="/myblog/assets/js/page-前端自动部署.5076846c.js"><link rel="prefetch" href="/myblog/assets/js/page-前端部署原理.82ecd8a7.js"><link rel="prefetch" href="/myblog/assets/js/page-动态规划.a3af92f1.js"><link rel="prefetch" href="/myblog/assets/js/page-哈希表.c76000e8.js"><link rel="prefetch" href="/myblog/assets/js/page-回溯算法.cd914c32.js"><link rel="prefetch" href="/myblog/assets/js/page-图.dfd9828a.js"><link rel="prefetch" href="/myblog/assets/js/page-基础.7bf5a37b.js"><link rel="prefetch" href="/myblog/assets/js/page-堆.4657e538.js"><link rel="prefetch" href="/myblog/assets/js/page-字符串.252f2a08.js"><link rel="prefetch" href="/myblog/assets/js/page-异步编程.904f4c65.js"><link rel="prefetch" href="/myblog/assets/js/page-性能优化指标和监控.f2175836.js"><link rel="prefetch" href="/myblog/assets/js/page-排序算法.c7a51b99.js"><link rel="prefetch" href="/myblog/assets/js/page-搭建低代码平台.19eaf5ec.js"><link rel="prefetch" href="/myblog/assets/js/page-操作系统.473c4281.js"><link rel="prefetch" href="/myblog/assets/js/page-数学运算.c82748fb.js"><link rel="prefetch" href="/myblog/assets/js/page-数据结构算法.84480586.js"><link rel="prefetch" href="/myblog/assets/js/page-数组.692b0d0a.js"><link rel="prefetch" href="/myblog/assets/js/page-权限管理.c7e10db0.js"><link rel="prefetch" href="/myblog/assets/js/page-查找.790e52df.js"><link rel="prefetch" href="/myblog/assets/js/page-栈和队列.8dbc3586.js"><link rel="prefetch" href="/myblog/assets/js/page-树.24efdeaa.js"><link rel="prefetch" href="/myblog/assets/js/page-浏览器.bee9ec04.js"><link rel="prefetch" href="/myblog/assets/js/page-混合桌面应用开发.9e10d1c3.js"><link rel="prefetch" href="/myblog/assets/js/page-登录.bb830451.js"><link rel="prefetch" href="/myblog/assets/js/page-目录.c85b4d0b.js"><link rel="prefetch" href="/myblog/assets/js/page-移动端开发.56ac22ec.js"><link rel="prefetch" href="/myblog/assets/js/page-组件和组件封装.b5e86da2.js"><link rel="prefetch" href="/myblog/assets/js/page-计算机网络基础.0a106662.js"><link rel="prefetch" href="/myblog/assets/js/page-设计模式.ffdc7cfd.js"><link rel="prefetch" href="/myblog/assets/js/page-调试技巧.485ae36e.js"><link rel="prefetch" href="/myblog/assets/js/page-贪心算法.0f417640.js"><link rel="prefetch" href="/myblog/assets/js/page-输入url到页面展示全过程.510aef2e.js"><link rel="prefetch" href="/myblog/assets/js/page-递归.5e55e552.js"><link rel="prefetch" href="/myblog/assets/js/page-链表.1cf6927f.js"><link rel="prefetch" href="/myblog/assets/js/page-项目总结.ffcd2a4b.js"><link rel="prefetch" href="/myblog/assets/js/vendors~docsearch.f3877d0d.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-components/Blog/BlogHome~layout-components/~5d377965.d9712593.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-Blog~layout-Layout~layout-components/Blog/ArticleItem~layout-components/Blog/ArticleL~b56f3aac.47bb5cb5.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-NotFound~layout-components/Common~layout-components/Page.57d58db9.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-Slide.81546b3b.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-components/AlgoliaSearch/Full.b30f067a.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-components/Blog/BlogPage.bcccbd38.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-components/Navbar/Navbar.e2a7361e.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-components/Page.6c65077c.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-components/Sidebar/Sidebar.34cd9cf7.js"><link rel="prefetch" href="/myblog/assets/js/vendors~photo-swipe.428df1da.js">
    <link rel="stylesheet" href="/myblog/assets/css/0.styles.645fbc6f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container has-navbar has-sidebar has-anchor"><header class="navbar"><!----> <div class="content__navbar-start"></div> <button title="Sidebar Button" class="sidebar-button"><span class="icon"></span></button> <a href="/myblog/" class="home-link router-link-active"><img src="./mylogo.png" alt="Sewen 博客" class="logo"> <!----> <span class="site-name can-hide">Sewen 博客</span></a> <!----> <div class="content__navbar-center"></div> <div class="links"><button tabindex="-1" aria-hidden="true" class="color-button"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="skin-icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4
        38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32
        51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0
        102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2
        6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4
        0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2
        9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224
        419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4
        470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0
        22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6
        12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128
        505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2
        16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8
        86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4
        80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6
        6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg> <div class="color-picker-menu" style="display:none;"><div class="theme-options"><ul class="themecolor-select"><label for="themecolor-select">Theme Color:</label> <li><span class="default-theme"></span></li> </ul> <div class="darkmode-toggle"><label for="darkmode-toggle" class="desc">Theme Mode:</label> <div class="darkmode-switch"><div class="item day"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon light-icon"><path d="M512 256a42.667 42.667 0 0 0 42.667-42.667V128a42.667 42.667 0 0 0-85.334 0v85.333A42.667 42.667 0 0 0 512 256zm384 213.333h-85.333a42.667 42.667 0 0 0 0 85.334H896a42.667 42.667 0 0 0 0-85.334zM256 512a42.667 42.667 0 0 0-42.667-42.667H128a42.667 42.667 0 0 0 0 85.334h85.333A42.667 42.667 0 0 0 256 512zm9.387-298.667a42.667 42.667 0 0 0-59.307 62.72l61.44 59.307a42.667 42.667 0 0 0 31.147 11.947 42.667 42.667 0 0 0 30.72-13.227 42.667 42.667 0 0 0 0-60.16zm459.946 133.974a42.667 42.667 0 0 0 29.44-11.947l61.44-59.307a42.667 42.667 0 0 0-57.6-62.72l-61.44 60.587a42.667 42.667 0 0 0 0 60.16 42.667 42.667 0 0 0 28.16 13.227zM512 768a42.667 42.667 0 0 0-42.667 42.667V896a42.667 42.667 0 0 0 85.334 0v-85.333A42.667 42.667 0 0 0 512 768zm244.48-79.36a42.667 42.667 0 0 0-59.307 61.44l61.44 60.587a42.667 42.667 0 0 0 29.44 11.946 42.667 42.667 0 0 0 30.72-12.8 42.667 42.667 0 0 0 0-60.586zm-488.96 0-61.44 59.307a42.667 42.667 0 0 0 0 60.586 42.667 42.667 0 0 0 30.72 12.8 42.667 42.667 0 0 0 28.587-10.666l61.44-59.307a42.667 42.667 0 0 0-59.307-61.44zM512 341.333A170.667 170.667 0 1 0 682.667 512 170.667 170.667 0 0 0 512 341.333z" fill="currentColor"></path></svg></div> <div class="item auto active"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon auto-icon"><path d="M460.864 539.072H564.8L510.592 376l-49.728 163.072zM872 362.368V149.504H659.648L510.528 0l-149.12 149.504H149.12v212.928L0 511.872l149.12 149.504v212.928h212.352l149.12 149.504 149.12-149.504h212.352V661.376l149.12-149.504L872 362.368zM614.464 693.12l-31.616-90.624H438.272l-31.616 90.624h-85.888l144.576-407.68h90.368l144.576 407.68h-85.824zm0 0" fill="currentColor"></path></svg></div> <div class="item night"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon dark-icon"><path d="M935.539 630.402c-11.43-11.432-28.674-14.739-43.531-8.354-46.734 20.103-96.363 30.297-147.508 30.297-99.59 0-193.221-38.784-263.64-109.203-108.637-108.637-139.61-270.022-78.908-411.148a39.497 39.497 0 0 0-51.886-51.887c-52.637 22.64-100.017 54.81-140.826 95.616-85.346 85.346-132.346 198.821-132.346 319.52 0 120.7 47.001 234.172 132.347 319.519S408.063 947.11 528.76 947.11c120.7 0 234.172-47.003 319.52-132.351 40.809-40.81 72.978-88.19 95.616-140.826a39.497 39.497 0 0 0-8.356-43.532z" fill="currentColor"></path></svg></div></div> <!----></div></div></div></button> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/myblog/" class="nav-link router-link-active"><!---->
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Front-end Basics" class="dropdown-title"><span class="title"><!---->
        前端基础
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/vue/html/" class="nav-link"><!---->
  HTML
</a></li><li class="dropdown-item"><a href="/myblog/vue/css/" class="nav-link"><!---->
  Css
</a></li><li class="dropdown-item"><a href="/myblog/vue/javascript/" class="nav-link"><!---->
  JavaScript
</a></li><li class="dropdown-item"><a href="/myblog/vue/typescript/" class="nav-link"><!---->
  TypeScript
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><span class="title"><!---->
        计算机基础
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/vue/algorithms/" class="nav-link"><!---->
  数据结构和算法
</a></li><li class="dropdown-item"><a href="/myblog/vue/network/" class="nav-link"><!---->
  计算机网络/HTTP
</a></li><li class="dropdown-item"><a href="/myblog/vue/network/输入url到页面展示全过程/" class="nav-link"><!---->
  输入url到页面展示全过程
</a></li><li class="dropdown-item"><a href="/myblog/vue/operating-system/" class="nav-link"><!---->
  操作系统
</a></li><li class="dropdown-item"><a href="/myblog/vue/design-model/" class="nav-link"><!---->
  设计模式
</a></li><li class="dropdown-item"><a href="/myblog/vue/Web-Security/" class="nav-link"><!---->
  Web安全
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架和源码分析" class="dropdown-title"><span class="title"><!---->
        框架和源码分析
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/vue/vue/Vue2原理和源码分析.html" class="nav-link"><!---->
  Vue 专题
</a></li><li class="dropdown-item"><a href="/myblog/vue/React/" class="nav-link"><!---->
  React 专题
</a></li><li class="dropdown-item"><a href="/myblog/vue/webpack/webpack构建原理.html" class="nav-link"><!---->
  webpack 专题
</a></li><li class="dropdown-item"><a href="/myblog/vue/vite/" class="nav-link"><!---->
  vite 专题
</a></li><li class="dropdown-item"><a href="/myblog/vue/axios/" class="nav-link"><!---->
  Axios 专题
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="浏览器" class="dropdown-title"><span class="title"><!---->
        浏览器
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/vue/browser/浏览器原理/" class="nav-link"><!---->
  浏览器原理
</a></li><li class="dropdown-item"><a href="/myblog/vue/browser/前端缓存和存储/" class="nav-link"><!---->
  前端缓存和存储
</a></li><li class="dropdown-item"><a href="/myblog/vue/performance/前端调试技巧/" class="nav-link"><!---->
  前端调试技巧
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="node.js" class="dropdown-title"><span class="title"><!---->
        服务器
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/vue/node/" class="nav-link"><!---->
  Node.js
</a></li><li class="dropdown-item"><a href="/myblog/vue/linux/" class="nav-link"><!---->
  Linux
</a></li><li class="dropdown-item"><a href="/myblog/vue/mysql/" class="nav-link"><!---->
  MySQL
</a></li><li class="dropdown-item"><a href="/myblog/vue/nginx/" class="nav-link"><!---->
  Nginx
</a></li><li class="dropdown-item"><a href="/myblog/vue/docker/" class="nav-link"><!---->
  Docker
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="浏览器和性能优化" class="dropdown-title"><span class="title"><!---->
        性能优化
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/vue/performance/性能优化指标和监控/" class="nav-link"><!---->
  性能优化指标和监控
</a></li><li class="dropdown-item"><a href="/myblog/vue/performance/前端性能优化方案/" class="nav-link"><!---->
  前端性能优化方案
</a></li><li class="dropdown-item"><a href="/myblog/vue/performance/一次管理后台的渲染优化/" class="nav-link"><!---->
  一次管理后台的渲染优化
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端工程" class="dropdown-title"><span class="title"><!---->
        前端工程
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/vue/Front-end-Engineering/前端工程化/" class="nav-link"><!---->
  前端工程化
</a></li><li class="dropdown-item"><a href="/myblog/vue/Front-end-Engineering/前端渲染架构/" class="nav-link"><!---->
  前端渲染架构
</a></li><li class="dropdown-item"><a href="/myblog/vue/Front-end-Engineering/前端架构实践/" class="nav-link"><!---->
  前端架构实践
</a></li><li class="dropdown-item"><a href="/myblog/vue/Front-end-Engineering/npm/" class="nav-link"><!---->
  npm
</a></li><li class="dropdown-item"><a href="/myblog/vue/git/" class="nav-link"><!---->
  Git
</a></li><li class="dropdown-item"><a href="/myblog/vue/projectDeploy/自动构建和部署/" class="nav-link"><!---->
  自动构建和部署
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目实践" class="dropdown-title"><span class="title"><!---->
        项目实践
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/vue/projectDeploy/" class="nav-link"><!---->
  前端部署
</a></li><li class="dropdown-item"><a href="/myblog/vue/componentsEncapsulation/组件和组件封装实践.html" class="nav-link"><!---->
  组件和组件封装实践
</a></li><li class="dropdown-item"><a href="/myblog/vue/projectsSummary/登录与单点登录/" class="nav-link"><!---->
  登录与单点登录
</a></li><li class="dropdown-item"><a href="/myblog/vue/projectsSummary/权限管理方案实践/" class="nav-link"><!---->
  权限管理方案实践
</a></li><li class="dropdown-item"><a href="/myblog/vue/projectsSummary/Echarts二次封装实践/" class="nav-link"><!---->
  Echarts二次封装实践
</a></li><li class="dropdown-item"><a href="/myblog/vue/projectsSummary/文档在线预览和编辑方案/" class="nav-link"><!---->
  文档在线预览和编辑方案
</a></li><li class="dropdown-item"><a href="/myblog/vue/projectsSummary/移动端开发实践/" class="nav-link"><!---->
  移动端开发实践
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目搭建到原理分析" class="dropdown-title"><span class="title"><!---->
        项目搭建
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/vue/projectsSummary/从零到一搭建SSR项目/" class="nav-link"><!---->
  从零到一搭建SSR项目
</a></li><li class="dropdown-item"><a href="/myblog/vue/projectsSummary/从零到一搭建移动端SSG项目/" class="nav-link"><!---->
  从零到一搭建移动端SSG项目
</a></li><li class="dropdown-item"><a href="/myblog/vue/projectsSummary/移动端SSG项目实践/" class="nav-link"><!---->
  移动端SSG项目实践
</a></li><li class="dropdown-item"><a href="/myblog/vue/projectsSummary/从零到一搭建Vue2工程化项目/" class="nav-link"><!---->
  从零到一搭建Vue2工程化项目
</a></li><li class="dropdown-item"><a href="/myblog/vue/projectsSummary/从零到一搭建Vue3工程化项目/" class="nav-link"><!---->
  从零到一搭建Vue3工程化项目
</a></li><li class="dropdown-item"><a href="/myblog/vue/projectsSummary/搭建低代码平台/" class="nav-link"><!---->
  搭建低代码平台
</a></li><li class="dropdown-item"><a href="/myblog/vue/projectsSummary/混合桌面应用开发实践/" class="nav-link"><!---->
  混合桌面应用开发实践
</a></li></ul></div></div></nav> <!----> <!----> <!----> <div class="content__navbar-end"></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><div vocab="https://schema.org/" typeof="Person" class="blogger-info mobile"><div data-balloon-pos="down" role="navigation" class="blogger hasIntro"><img property="image" alt="Blogger Avatar" src="./mylogo.png" class="avatar round"> <div property="name" class="name">Sewen 博客</div> <meta property="url" content="../outline.md"></div> <div class="num-wrapper"><div><div class="num">91</div> <div>Articles</div></div> <div><div class="num">0</div> <div>Category</div></div> <div><div class="num">0</div> <div>Tags</div></div> <div><div class="num">91</div> <div>Timeline</div></div></div> <div class="media-links-wrapper"><a href="https://github.com/Sewar-x/myblog" rel="noopener noreferrer" target="_blank" aria-label="Github" data-balloon-pos="up" class="media-link"><span class="sr-only">Github</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-github"><circle cx="512" cy="512" r="512" fill="#171515"></circle> <path d="M509.423 146.442c-200.317 0-362.756 162.42-362.756 362.8 0 160.266 103.936 296.24 248.109 344.217 18.139 3.327 24.76-7.872 24.76-17.486 0-8.613-.313-31.427-.49-61.702-100.912 21.923-122.205-48.63-122.205-48.63-16.495-41.91-40.28-53.067-40.28-53.067-32.937-22.51 2.492-22.053 2.492-22.053 36.407 2.566 55.568 37.386 55.568 37.386 32.362 55.438 84.907 39.43 105.58 30.143 3.296-23.444 12.667-39.43 23.032-48.498-80.557-9.156-165.246-40.28-165.246-179.297 0-39.604 14.135-71.988 37.342-97.348-3.731-9.178-16.18-46.063 3.556-96.009 0 0 30.46-9.754 99.76 37.19 28.937-8.048 59.97-12.071 90.823-12.211 30.807.14 61.843 4.165 90.822 12.21 69.26-46.944 99.663-37.189 99.663-37.189 19.792 49.946 7.34 86.831 3.61 96.01 23.25 25.359 37.29 57.742 37.29 97.347 0 139.366-84.82 170.033-165.637 179.013 13.026 11.2 24.628 33.342 24.628 67.182 0 48.498-.445 87.627-.445 99.521 0 9.702 6.535 20.988 24.945 17.444 144.03-48.067 247.881-183.95 247.881-344.175 0-200.378-162.442-362.798-362.802-362.798z" fill="#FFF"></path></svg></a><a href="1567910907" rel="noopener noreferrer" target="_blank" aria-label="Wechat" data-balloon-pos="up" class="media-link"><span class="sr-only">Wechat</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-wechat"><circle cx="512" cy="512" r="512" fill="#1AC88E"></circle> <path d="M827.551 578.742a176.583 176.583 0 0 0-185.685-158.379 172.942 172.942 0 0 0-186.3 158.379 172.942 172.942 0 0 0 185.686 158.379 282.169 282.169 0 0 0 65.536-10.923l60.689 32.768-16.384-54.613a166.275 166.275 0 0 0 76.458-125.611zm-245.76-27.307a21.845 21.845 0 1 1 0-43.69 24.872 24.872 0 0 1 27.307 21.845 24.872 24.872 0 0 1-27.921 21.845h.614zm121.356 0a21.845 21.845 0 1 1 0-43.69 24.872 24.872 0 0 1 27.306 21.845 24.872 24.872 0 0 1-28.512 21.845h1.206z" fill="#FFF"></path> <path d="M623.662 400.953h21.23A222.709 222.709 0 0 0 419.772 245.6a208.145 208.145 0 0 0-223.323 189.94 182.044 182.044 0 0 0 89.201 150.483l-22.436 67.356 78.279-39.435a389.575 389.575 0 0 0 78.279 10.923h20.616a163.226 163.226 0 0 1-6.667-46.718 182.044 182.044 0 0 1 189.94-177.197zm-121.379-60.69a27.921 27.921 0 1 1 0 55.843 31.562 31.562 0 0 1-33.36-27.921 31.562 31.562 0 0 1 34.59-27.921h-1.23zM346.34 396.107a31.562 31.562 0 0 1-33.383-27.921 31.562 31.562 0 0 1 33.383-27.921 27.921 27.921 0 1 1 0 55.842z" fill="#FFF"></path></svg></a></div></div> <hr> <!----> <div class="content__sidebar-top"></div> <nav class="sidebar-nav-links"><div class="nav-item"><a href="/myblog/" class="nav-link router-link-active"><!---->
  首页
</a></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="Front-end Basics" class="dropdown-title"><span class="title"><!---->
      前端基础
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/vue/html/" class="nav-link"><!---->
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/css/" class="nav-link"><!---->
  Css
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/javascript/" class="nav-link"><!---->
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/typescript/" class="nav-link"><!---->
  TypeScript
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><span class="title"><!---->
      计算机基础
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/vue/algorithms/" class="nav-link"><!---->
  数据结构和算法
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/network/" class="nav-link"><!---->
  计算机网络/HTTP
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/network/输入url到页面展示全过程/" class="nav-link"><!---->
  输入url到页面展示全过程
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/operating-system/" class="nav-link"><!---->
  操作系统
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/design-model/" class="nav-link"><!---->
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/Web-Security/" class="nav-link"><!---->
  Web安全
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="框架和源码分析" class="dropdown-title"><span class="title"><!---->
      框架和源码分析
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/vue/vue/Vue2原理和源码分析.html" class="nav-link"><!---->
  Vue 专题
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/React/" class="nav-link"><!---->
  React 专题
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/webpack/webpack构建原理.html" class="nav-link"><!---->
  webpack 专题
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/vite/" class="nav-link"><!---->
  vite 专题
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/axios/" class="nav-link"><!---->
  Axios 专题
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="浏览器" class="dropdown-title"><span class="title"><!---->
      浏览器
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/vue/browser/浏览器原理/" class="nav-link"><!---->
  浏览器原理
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/browser/前端缓存和存储/" class="nav-link"><!---->
  前端缓存和存储
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/performance/前端调试技巧/" class="nav-link"><!---->
  前端调试技巧
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="node.js" class="dropdown-title"><span class="title"><!---->
      服务器
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/vue/node/" class="nav-link"><!---->
  Node.js
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/linux/" class="nav-link"><!---->
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/mysql/" class="nav-link"><!---->
  MySQL
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/nginx/" class="nav-link"><!---->
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/docker/" class="nav-link"><!---->
  Docker
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="浏览器和性能优化" class="dropdown-title"><span class="title"><!---->
      性能优化
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/vue/performance/性能优化指标和监控/" class="nav-link"><!---->
  性能优化指标和监控
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/performance/前端性能优化方案/" class="nav-link"><!---->
  前端性能优化方案
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/performance/一次管理后台的渲染优化/" class="nav-link"><!---->
  一次管理后台的渲染优化
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="前端工程" class="dropdown-title"><span class="title"><!---->
      前端工程
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/vue/Front-end-Engineering/前端工程化/" class="nav-link"><!---->
  前端工程化
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/Front-end-Engineering/前端渲染架构/" class="nav-link"><!---->
  前端渲染架构
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/Front-end-Engineering/前端架构实践/" class="nav-link"><!---->
  前端架构实践
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/Front-end-Engineering/npm/" class="nav-link"><!---->
  npm
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/git/" class="nav-link"><!---->
  Git
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/projectDeploy/自动构建和部署/" class="nav-link"><!---->
  自动构建和部署
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="项目实践" class="dropdown-title"><span class="title"><!---->
      项目实践
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/vue/projectDeploy/" class="nav-link"><!---->
  前端部署
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/componentsEncapsulation/组件和组件封装实践.html" class="nav-link"><!---->
  组件和组件封装实践
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/projectsSummary/登录与单点登录/" class="nav-link"><!---->
  登录与单点登录
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/projectsSummary/权限管理方案实践/" class="nav-link"><!---->
  权限管理方案实践
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/projectsSummary/Echarts二次封装实践/" class="nav-link"><!---->
  Echarts二次封装实践
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/projectsSummary/文档在线预览和编辑方案/" class="nav-link"><!---->
  文档在线预览和编辑方案
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/projectsSummary/移动端开发实践/" class="nav-link"><!---->
  移动端开发实践
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="项目搭建到原理分析" class="dropdown-title"><span class="title"><!---->
      项目搭建
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/vue/projectsSummary/从零到一搭建SSR项目/" class="nav-link"><!---->
  从零到一搭建SSR项目
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/projectsSummary/从零到一搭建移动端SSG项目/" class="nav-link"><!---->
  从零到一搭建移动端SSG项目
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/projectsSummary/移动端SSG项目实践/" class="nav-link"><!---->
  移动端SSG项目实践
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/projectsSummary/从零到一搭建Vue2工程化项目/" class="nav-link"><!---->
  从零到一搭建Vue2工程化项目
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/projectsSummary/从零到一搭建Vue3工程化项目/" class="nav-link"><!---->
  从零到一搭建Vue3工程化项目
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/projectsSummary/搭建低代码平台/" class="nav-link"><!---->
  搭建低代码平台
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vue/projectsSummary/混合桌面应用开发实践/" class="nav-link"><!---->
  混合桌面应用开发实践
</a></li></ul></div></div> <!----></nav> <!----> <div class="content__sidebar-center"></div> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><!----> <span class="title">Vue2</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/" class="sidebar-link">Vue2.x 原理源码分析</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#框架设计" class="sidebar-link">框架设计</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#mvc-mvvm" class="sidebar-link heading3">MVC &amp; MVVM</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#单页面-多页面应用" class="sidebar-link heading3">单页面 &amp; 多页面应用</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#原理分析" class="sidebar-link">原理分析</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#构建流程" class="sidebar-link heading3">构建流程</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#执行流程" class="sidebar-link heading3">执行流程</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#生命周期" class="sidebar-link heading3">生命周期</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#初始化" class="sidebar-link heading3">初始化</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#响应式" class="sidebar-link heading3">响应式</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#挂载组件" class="sidebar-link heading3">挂载组件</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#模板编译" class="sidebar-link heading3">模板编译</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#首次渲染" class="sidebar-link heading3">首次渲染</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#virtual-dom" class="sidebar-link heading3">Virtual DOM</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#diff-算法" class="sidebar-link heading3">diff 算法</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#派发更新" class="sidebar-link heading3">派发更新</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#销毁实例" class="sidebar-link heading3">销毁实例</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#手写响应式原理" class="sidebar-link">手写响应式原理</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#组件" class="sidebar-link">组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#组件基础" class="sidebar-link heading3">组件基础</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#组件注册" class="sidebar-link heading3">组件注册</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#组件生命周期" class="sidebar-link heading3">组件生命周期</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#组件分类" class="sidebar-link heading3">组件分类</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#组件通信" class="sidebar-link heading3">组件通信</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#扩展组件方式" class="sidebar-link heading3">扩展组件方式</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#高阶组件" class="sidebar-link heading3">高阶组件</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#内置组件" class="sidebar-link heading3">内置组件</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#全局api" class="sidebar-link">全局API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#vue-extend-options" class="sidebar-link heading3">Vue.extend(options)</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#vue-nexttick" class="sidebar-link heading3">Vue.nextTick</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#vue-set" class="sidebar-link heading3">Vue.set</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#vue-use-plugin" class="sidebar-link heading3">Vue.use( plugin )</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#vue-mixin-mixin" class="sidebar-link heading3">Vue.mixin( mixin )</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#选项合并策略" class="sidebar-link heading3">选项合并策略</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#选项-数据" class="sidebar-link">选项/数据</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#data" class="sidebar-link heading3">data</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#computed-计算属性" class="sidebar-link heading3">computed 计算属性</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#watch-侦听器" class="sidebar-link heading3">watch 侦听器</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#this-options-data-和-this-data" class="sidebar-link heading3">this.$options.data() 和 this.$data</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#指令" class="sidebar-link">指令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#v-if-v-show" class="sidebar-link heading3">v-if &amp; v-show</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#v-model-双向绑定" class="sidebar-link heading3">v-model 双向绑定</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#实例方法-事件" class="sidebar-link">实例方法 / 事件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#vue-事件机制" class="sidebar-link heading3">VUE 事件机制</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#修饰符" class="sidebar-link heading3">修饰符</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#手写-on-off-emit-once" class="sidebar-link heading3">手写$on,$off,$emit,$once</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#特殊属性" class="sidebar-link">特殊属性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#key" class="sidebar-link heading3">key</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#vue-2-x-缺陷" class="sidebar-link">VUE 2.X 缺陷</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#数组和对象的检测缺陷" class="sidebar-link heading3">数组和对象的检测缺陷</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#为什么-vue2-无法检测到-data-对象属性的新增或删除" class="sidebar-link heading3">为什么 Vue2 无法检测到 data 对象属性的新增或删除？</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#vue2-x数组变更方法" class="sidebar-link">Vue2.x数组变更方法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#vue-不能检测到数组的变动" class="sidebar-link heading3">Vue 不能检测到数组的变动</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#数组变更方法实现" class="sidebar-link heading3">数组变更方法实现</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#数组方法包裹实现原理" class="sidebar-link heading3">数组方法包裹实现原理</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#vue2-x-问答题" class="sidebar-link">VUE2.x 问答题</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#vue2-x源码问答题" class="sidebar-link">VUE2.x源码问答题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#初始化过程相关问题" class="sidebar-link heading3">初始化过程相关问题</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#全局api-问答" class="sidebar-link heading3">全局API 问答</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#响应式原理相关问题" class="sidebar-link heading3">响应式原理相关问题</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#数据更新相关问题" class="sidebar-link heading3">数据更新相关问题</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#参考资料" class="sidebar-link">参考资料</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#源码相关" class="sidebar-link heading3">源码相关</a></li></ul></li></ul></li><li><a href="/myblog/vue/Vuex%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/" class="sidebar-link">Vuex原理分析</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vuex%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#vuex-基础" class="sidebar-link">VUEX 基础</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vuex%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#初始化" class="sidebar-link">初始化</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vuex%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#实例化" class="sidebar-link">实例化</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vuex%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#相关问题" class="sidebar-link">相关问题</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vuex%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#应用" class="sidebar-link">应用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vuex%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#vuex和localstorage-比较" class="sidebar-link heading3">Vuex和localStorage 比较</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vuex%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#vuex数据持久化" class="sidebar-link heading3">Vuex数据持久化</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vuex%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#参考资料" class="sidebar-link">参考资料</a></li></ul></li><li><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/" class="sidebar-link">VueRouter原理分析</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#路由基础" class="sidebar-link">路由基础</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#总体流程" class="sidebar-link">总体流程</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#路由对象" class="sidebar-link">路由对象</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#路由模式" class="sidebar-link">路由模式</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#路由安装" class="sidebar-link">路由安装</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#路由匹配" class="sidebar-link">路由匹配</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#路由切换" class="sidebar-link">路由切换</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#内置组件" class="sidebar-link">内置组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#router-link" class="sidebar-link heading3">&lt;router-link&gt;</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#router-view" class="sidebar-link heading3">&lt;router-view&gt;</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#相关问题" class="sidebar-link">相关问题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#路由匹配过程" class="sidebar-link heading3">路由匹配过程</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#响应路由参数的变化" class="sidebar-link heading3">响应路由参数的变化</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#对同一个组件中参数的变化做出响应" class="sidebar-link heading3">对同一个组件中参数的变化做出响应</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#beforerouteenter-能否拿到组件实例-this-为什么" class="sidebar-link heading3">beforeRouteEnter 能否拿到组件实例 this? 为什么?</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#如何在路由守卫进行管道中的下一个钩子" class="sidebar-link heading3">如何在路由守卫进行管道中的下一个钩子？</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#为什么路由路由守卫中必须调用-next-才会前进到下一个导航守卫钩子函数中" class="sidebar-link heading3">为什么路由路由守卫中必须调用 next()，才会前进到下一个导航守卫钩子函数中？</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#切换路由时需要保存草稿的功能-怎么实现" class="sidebar-link heading3">切换路由时需要保存草稿的功能，怎么实现？</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#刷新无法触发-router-beforeeach-守卫问题" class="sidebar-link heading3">刷新无法触发 router.beforeEach 守卫问题</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#参考资料" class="sidebar-link">参考资料</a></li></ul></li><li><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/" class="sidebar-link">VueSSR原理分析</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#ssr是什么" class="sidebar-link">SSR是什么？</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#为什么要用-ssr" class="sidebar-link">为什么要用 SSR？</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#前端渲染架构类型" class="sidebar-link">前端渲染架构类型</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#同构应用原理" class="sidebar-link">同构应用原理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#组件基于-vnode-渲染" class="sidebar-link heading3">组件基于 VNode 渲染</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#vnode" class="sidebar-link heading3">VNode</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#ssr架构" class="sidebar-link">SSR架构</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#项目源码" class="sidebar-link">项目源码</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#源码分析" class="sidebar-link">源码分析</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#项目目录" class="sidebar-link heading3">项目目录</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#app-js" class="sidebar-link heading3">app.js</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#entry-client-js" class="sidebar-link heading3">entry-client.js</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#entry-server-js" class="sidebar-link heading3">entry-server.js</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#server-js" class="sidebar-link heading3">server.js</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#编译流程" class="sidebar-link">编译流程</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#webpack-构建" class="sidebar-link">Webpack 构建</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#服务端构建流程" class="sidebar-link heading3">服务端构建流程</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#客户端构建流程" class="sidebar-link heading3">客户端构建流程</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#编译产物分析" class="sidebar-link heading3">编译产物分析</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#webpack-配置" class="sidebar-link">Webpack 配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#webpack-base-config" class="sidebar-link heading3">`webpack.base.config`</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#webpack-server-config" class="sidebar-link heading3">`webpack.server.config`</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#webpack-client-config" class="sidebar-link heading3">`webpack.client.config`</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#setup-dev-server" class="sidebar-link heading3">`setup-dev-server`</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#vue-server-renderer-分析" class="sidebar-link">`vue-server-renderer` 分析</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#vue-server-renderer-使用" class="sidebar-link heading3">`vue-server-renderer`  使用</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#vue-server-renderer-源码分析" class="sidebar-link heading3">`vue-server-renderer`  源码分析</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#注意事项" class="sidebar-link">注意事项</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/#参考资料" class="sidebar-link">参考资料</a></li></ul></li><li><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/" class="sidebar-link">VueCli源码分析</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#是什么" class="sidebar-link">是什么</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#为什么" class="sidebar-link">为什么</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#vue-cli-集成插件-库" class="sidebar-link">Vue-cli 集成插件/库</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#功能" class="sidebar-link">功能</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#创建项目过程分析" class="sidebar-link">创建项目过程分析</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#安装-vue-cli" class="sidebar-link heading3">安装 Vue-Cli</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#命令解析" class="sidebar-link heading3">命令解析</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#vue-create-命令执行过程" class="sidebar-link heading3">`vue create` 命令执行过程</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#vue-create-命令解析" class="sidebar-link heading3">`vue create` 命令解析</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#creator-创建项目" class="sidebar-link heading3">Creator 创建项目</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#generator-生成项目文件" class="sidebar-link heading3">Generator 生成项目文件</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#初始化插件" class="sidebar-link heading3">初始化插件</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#cli-服务分析" class="sidebar-link">CLI 服务分析</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#使用" class="sidebar-link heading3">使用</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#shell-命令解析" class="sidebar-link heading3">Shell 命令解析</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#service-对象初始化" class="sidebar-link heading3">Service 对象初始化</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#service-run-启动构建" class="sidebar-link heading3">`Service.run ` 启动构建</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#解析插件" class="sidebar-link heading3">解析插件</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#serve-命令解析" class="sidebar-link heading3">serve 命令解析</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#build-命令解析" class="sidebar-link heading3">`build` 命令解析</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#webpack-配置原理" class="sidebar-link">WebPack 配置原理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#配置方式" class="sidebar-link heading3">配置方式</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#链式操作-高级" class="sidebar-link heading3">链式操作 (高级)</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#模式和环境变量" class="sidebar-link">模式和环境变量</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#模式" class="sidebar-link heading3">模式</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#环境变量" class="sidebar-link heading3">环境变量</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#源码分析-3" class="sidebar-link heading3">源码分析</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/VueCli%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#参考资料" class="sidebar-link">参考资料</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><!----> <span class="title">Vue3</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/myblog/vue/Vue3%E5%9F%BA%E7%A1%80/" class="sidebar-link">Vue3基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vue3%E5%9F%BA%E7%A1%80/#ref-原理" class="sidebar-link">ref 原理</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue3%E5%9F%BA%E7%A1%80/#reactive-原理" class="sidebar-link">reactive 原理</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue3%E5%9F%BA%E7%A1%80/#参考资料" class="sidebar-link">参考资料</a></li></ul></li><li><a href="/myblog/vue/Vue3%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/" class="sidebar-link">Vue3源码分析</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><!----> <span class="title">框架对比</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/myblog/vue/Vue2VsVue3/" aria-current="page" class="active sidebar-link">Vue2 Vs Vue3</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#对比总览" class="sidebar-link">对比总览</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#源码管理" class="sidebar-link">源码管理</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#typescript-支持" class="sidebar-link">TypeScript 支持</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#响应式系统" class="sidebar-link">响应式系统</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#object-defineproperty缺陷" class="sidebar-link heading3">`Object.defineProperty`缺陷</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#proxy-优势" class="sidebar-link heading3">Proxy 优势</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#体积优化" class="sidebar-link">体积优化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#tree-shaking-支持" class="sidebar-link heading3">Tree-shaking 支持</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#更小的包体积" class="sidebar-link heading3">更小的包体积</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#编译优化" class="sidebar-link">编译优化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#diff-算法优化" class="sidebar-link heading3">diff 算法优化</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#静态提升" class="sidebar-link heading3">静态提升</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#事件监听缓存" class="sidebar-link heading3">事件监听缓存</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#ssr优化" class="sidebar-link heading3">SSR优化</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#composition-vs-options" class="sidebar-link">Composition VS Options</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#options-api" class="sidebar-link heading3">Options API</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#composition-api" class="sidebar-link heading3">Composition Api</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#优化逻辑组织" class="sidebar-link heading3">优化逻辑组织</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#优化逻辑复用" class="sidebar-link heading3">优化逻辑复用</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#hooks-vs-mixins" class="sidebar-link">Hooks VS Mixins</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#语法差异" class="sidebar-link">语法差异</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#创建实例方式" class="sidebar-link">创建实例方式</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#生命周期钩子" class="sidebar-link">生命周期钩子</a></li><li class="sidebar-sub-header"><a href="/myblog/vue/Vue2VsVue3/#内置组件" class="sidebar-link">内置组件</a></li></ul></li><li><a href="/myblog/vue/VueVsReact/" class="sidebar-link">Vue Vs React</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/VueVsReact/#vue-vs-react" class="sidebar-link">Vue Vs React</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/vue/VueVsReact/#总览" class="sidebar-link heading3">总览</a></li></ul></li></ul></li></ul></section></li></ul> <!----> <div class="content__sidebar-bottom"></div> <!----></aside> <main class="page"><nav class="breadcrumb disable"><!----></nav> <!----> <div class="content__page-top"></div> <div vocab="https://schema.org/" typeof="Article" class="page-title"><h1><!----> <span property="headline">Vue2 Vs Vue3</span></h1> <div class="page-info"><!----> <true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info></div> <!----> <hr></div> <div class="anchor-place-holder"><aside id="anchor"><div class="anchor-wrapper"><ul class="anchor-list"><li class="anchor"><a href="/myblog/vue/Vue2VsVue3/#对比总览" class="anchor-link heading2"><div>对比总览</div></a></li><li class="anchor"><a href="/myblog/vue/Vue2VsVue3/#源码管理" class="anchor-link heading2"><div>源码管理</div></a></li><li class="anchor"><a href="/myblog/vue/Vue2VsVue3/#typescript-支持" class="anchor-link heading2"><div>TypeScript 支持</div></a></li><li class="anchor"><a href="/myblog/vue/Vue2VsVue3/#响应式系统" class="anchor-link heading2"><div>响应式系统</div></a></li><li class="anchor"><a href="/myblog/vue/Vue2VsVue3/#object-defineproperty缺陷" class="anchor-link heading3"><div>`Object.defineProperty`缺陷</div></a></li><li class="anchor"><a href="/myblog/vue/Vue2VsVue3/#proxy-优势" class="anchor-link heading3"><div>Proxy 优势</div></a></li><li class="anchor"><a href="/myblog/vue/Vue2VsVue3/#体积优化" class="anchor-link heading2"><div>体积优化</div></a></li><li class="anchor"><a href="/myblog/vue/Vue2VsVue3/#tree-shaking-支持" class="anchor-link heading3"><div>Tree-shaking 支持</div></a></li><li class="anchor"><a href="/myblog/vue/Vue2VsVue3/#更小的包体积" class="anchor-link heading3"><div>更小的包体积</div></a></li><li class="anchor"><a href="/myblog/vue/Vue2VsVue3/#编译优化" class="anchor-link heading2"><div>编译优化</div></a></li><li class="anchor"><a href="/myblog/vue/Vue2VsVue3/#diff-算法优化" class="anchor-link heading3"><div>diff 算法优化</div></a></li><li class="anchor"><a href="/myblog/vue/Vue2VsVue3/#静态提升" class="anchor-link heading3"><div>静态提升</div></a></li><li class="anchor"><a href="/myblog/vue/Vue2VsVue3/#事件监听缓存" class="anchor-link heading3"><div>事件监听缓存</div></a></li><li class="anchor"><a href="/myblog/vue/Vue2VsVue3/#ssr优化" class="anchor-link heading3"><div>SSR优化</div></a></li><li class="anchor"><a href="/myblog/vue/Vue2VsVue3/#composition-vs-options" class="anchor-link heading2"><div>Composition VS Options</div></a></li><li class="anchor"><a href="/myblog/vue/Vue2VsVue3/#options-api" class="anchor-link heading3"><div>Options API</div></a></li><li class="anchor"><a href="/myblog/vue/Vue2VsVue3/#composition-api" class="anchor-link heading3"><div>Composition Api</div></a></li><li class="anchor"><a href="/myblog/vue/Vue2VsVue3/#优化逻辑组织" class="anchor-link heading3"><div>优化逻辑组织</div></a></li><li class="anchor"><a href="/myblog/vue/Vue2VsVue3/#优化逻辑复用" class="anchor-link heading3"><div>优化逻辑复用</div></a></li><li class="anchor"><a href="/myblog/vue/Vue2VsVue3/#hooks-vs-mixins" class="anchor-link heading2"><div>Hooks VS Mixins</div></a></li><li class="anchor"><a href="/myblog/vue/Vue2VsVue3/#语法差异" class="anchor-link heading2"><div>语法差异</div></a></li><li class="anchor"><a href="/myblog/vue/Vue2VsVue3/#创建实例方式" class="anchor-link heading2"><div>创建实例方式</div></a></li><li class="anchor"><a href="/myblog/vue/Vue2VsVue3/#生命周期钩子" class="anchor-link heading2"><div>生命周期钩子</div></a></li><li class="anchor"><a href="/myblog/vue/Vue2VsVue3/#内置组件" class="anchor-link heading2"><div>内置组件</div></a></li></ul></div></aside></div> <!----> <div class="content__content-top"></div> <div class="theme-default-content content__default"><h1 id="vue2-vs-vue3"><a href="#vue2-vs-vue3" class="header-anchor">#</a> <strong>Vue2 Vs Vue3</strong></h1> <h2 id="对比总览"><a href="#对比总览" class="header-anchor">#</a> <strong>对比总览</strong></h2> <table><thead><tr><th>优化项</th> <th style="text-align:center;">对比项</th> <th style="text-align:center;">Vue 2</th> <th style="text-align:center;">Vue 3</th></tr></thead> <tbody><tr><td><strong>源码</strong></td> <td style="text-align:center;"></td> <td style="text-align:center;"></td> <td style="text-align:center;"></td></tr> <tr><td></td> <td style="text-align:center;"><strong>源码管理</strong></td> <td style="text-align:center;">Vue 2 的源码是作为一个整体的项目来管理</td> <td style="text-align:center;"><code>vue3</code>整个源码是通过 <code>monorepo</code>的方式维护的，<br>根据功能将不同的模块拆分到<code>packages</code>目录下面不同的子目录中</td></tr> <tr><td></td> <td style="text-align:center;"><strong>TypeScript 支持</strong></td> <td style="text-align:center;">Vue 2 对 TypeScript 的支持有限，需要额外的配置和类型定义。<br>Vue2 中使用 Flow 作为类型系统。</td> <td style="text-align:center;">Vue 3 内置了对 TypeScript 的支持，提供了更好的类型推断和类型检查。</td></tr> <tr><td><strong>性能</strong></td> <td style="text-align:center;"></td> <td style="text-align:center;"></td> <td style="text-align:center;"></td></tr> <tr><td></td> <td style="text-align:center;"><strong>响应式系统</strong></td> <td style="text-align:center;">Vue 2 使用的是基于 <code>Object.defineProperty</code> 的响应式系统，对于数组和对象的修改需要特定的方法来触发更新。</td> <td style="text-align:center;">Vue 3 使用了 <strong>Proxy 对象</strong>来实现响应式系统，支持更深层次的响应式，无需特定方法来触发更新。</td></tr> <tr><td></td> <td style="text-align:center;"><strong>体积优化<br>(tree-shaking)</strong></td> <td style="text-align:center;"></td> <td style="text-align:center;">1. Vue 3 使用 webpack 的 tree-shaking 功能，减少了无用模块的打包，从而减小了整体的体积。<br>2.Vue3 移除一些不常用的 API</td></tr> <tr><td></td> <td style="text-align:center;"><strong>编译优化</strong></td> <td style="text-align:center;"></td> <td style="text-align:center;">diff算法优化<br>静态提升<br>事件监听缓存<br>SSR优化</td></tr> <tr><td><strong>语法</strong></td> <td style="text-align:center;"></td> <td style="text-align:center;"></td> <td style="text-align:center;"></td></tr> <tr><td></td> <td style="text-align:center;"><strong>Composition API <br>和 Options API</strong></td> <td style="text-align:center;">Vue 2 使用的是 <strong>Options API</strong>，<br>将逻辑分散在 data、methods、computed 等选项中。</td> <td style="text-align:center;">Vue 3 引入了 Composition API，<br>允许更加灵活的组织和重用逻辑。</td></tr> <tr><td></td> <td style="text-align:center;"><strong>Hooks 和 Mixins</strong></td> <td style="text-align:center;">Vue2 通过 Mixins 复用代码，一个混入对象可以包含任意组件选项。mixins 会导致依赖关系不清晰</td> <td style="text-align:center;">相比 Mxins，hooks 能实现更加清晰的逻辑复用，并避免命名冲突</td></tr> <tr><td></td> <td style="text-align:center;"><strong>生命周期钩子</strong></td> <td style="text-align:center;">Vue 2 提供了 beforeCreate、created、beforeMount、mounted、beforeUpdate、updated、beforeDestroy、destroyed 等生命周期钩子。</td> <td style="text-align:center;">Vue 3 对生命周期钩子进行了重新设计，提供了 setup、onMounted、onUpdated、onUnmounted 等新的生命周期钩子，并移除了 beforeDestroy 和 destroyed。</td></tr> <tr><td></td> <td style="text-align:center;"><strong>创建实例方式</strong></td> <td style="text-align:center;">使用 <code>new Vue()</code> 创建实例<br>同一个 Vue 构造函数<strong>创建的每个根实例共享相同的全局配置</strong>，因此全局 API 影响所有 vue 实例。</td> <td style="text-align:center;">使用 <code>createApp()</code>工厂函数创建实例<br>可以返回一个提供应用上下文的应用实例，不同的实例注册的组件无法在不同的实例下使用</td></tr> <tr><td></td> <td style="text-align:center;"><strong>内置组件</strong></td> <td style="text-align:center;"></td> <td style="text-align:center;">Vue3 支持模板下可以有多个根节点<br>引入了 <code>&lt;suspense&gt;</code> 组件和<code>&lt;teleport&gt;</code> 组件</td></tr></tbody></table> <h2 id="源码管理"><a href="#源码管理" class="header-anchor">#</a> <strong>源码管理</strong></h2> <p><strong>Vue2</strong>:
在 Vue 2 的源码结构中，Vue 2 的源码是作为一个整体的项目来管理的，不同的功能模块（如核心库、编译器、模板编译器、服务器渲染器等）虽然被逻辑上划分到了不同的目录中，但它们仍然在同一个仓库中共同开发和维护。</p> <p><strong>Vue3</strong>:</p> <p><code>vue3</code>整个源码是通过 <code>monorepo</code>的方式维护的，根据功能将不同的模块拆分到<code>packages</code>目录下面不同的子目录中：</p> <img src="/myblog/assets/img/d7c32520-5c58-11eb-ab90-d9ae814b240d.dd0dd91b.png" alt="img" style="zoom:50%;"> <p><code>monorepo</code> 管理优点：</p> <ol><li><p><strong>模块拆分更细化，职责划分更明确，模块之间的依赖关系也更加明确</strong>，开发人员也更容易阅读、理解和更改所有模块源码，提高代码的可维护性</p></li> <li><p><code>package</code>（比如 <code>reactivity</code> 响应式库）可以独立于 <code>Vue</code> 使用的，这样用户如果只想使用 <code>Vue3</code>的响应式能力，可以单独依赖这个响应式库而不用去依赖整个 <code>Vue</code>。</p></li></ol> <h2 id="typescript-支持"><a href="#typescript-支持" class="header-anchor">#</a> <strong>TypeScript 支持</strong></h2> <h4 id="typescript-vs-flow"><a href="#typescript-vs-flow" class="header-anchor">#</a> <strong>TypeScript VS Flow</strong></h4> <p>Vue 3 是基于 TypeScript 编写的，提供了更好的类型定义和类型检查。这使得开发者在编写 Vue 代码时能够享受到自动的类型提示和错误检查。</p> <p>为什么要做这个改变？</p> <ol><li><strong>社区支持和流行度</strong>：TypeScript 在开发者社区中的流行度和支持度已经显著超过了 Flow。TypeScript 提供了更强大的类型系统，并且得到了广泛的采纳，特别是在大型项目和企业环境中。这意味着使用 TypeScript 可以为 Vue 3 吸引更多的贡献者和用户。</li> <li><strong>与 JavaScript 的兼容性</strong>：TypeScript 是 JavaScript 的一个超集，它添加了静态类型，但编译后的代码仍然是纯 JavaScript。这使得 TypeScript 更加容易与现有的 JavaScript 库和框架集成。相比之下，Flow 虽然也提供了类型检查，但它与 JavaScript 的生态系统和工具链的集成可能不那么顺畅。</li> <li><strong>IDE 支持</strong>：由于 TypeScript 的流行，主流的开发环境（IDE）如 Visual Studio Code 提供了对 TypeScript 的出色支持，包括智能提示、自动补全、重构工具等。这可以极大地提高开发者的效率和代码质量。</li> <li><strong>类型系统的成熟度</strong>：TypeScript 的类型系统相比 Flow 来说更加成熟和全面。它支持更多的高级类型特性，如泛型、条件类型、映射类型等，这些特性对于构建复杂的大型应用程序非常有用。</li> <li><strong>维护成本</strong>：维护一个自定义的类型系统（如 Vue 2 中的 Flow 集成）需要额外的努力。由于 TypeScript 的普及和社区支持，使用它可以减少 Vue 团队在类型系统上的维护负担。</li> <li><strong>未来兼容性</strong>：随着 ECMAScript（JavaScript 的标准）的不断发展，TypeScript 团队积极地将新的 ECMAScript 特性集成到其类型系统中。这保证了使用 TypeScript 编写的代码可以更好地与未来的 JavaScript 特性兼容。</li></ol> <h2 id="响应式系统"><a href="#响应式系统" class="header-anchor">#</a> <strong>响应式系统</strong></h2> <blockquote><p>详细的响应式系统原理可以参考： <a href="https://sewar-x.github.io/vue2/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#%E6%B4%BE%E5%8F%91%E6%9B%B4%E6%96%B0" target="_blank" rel="noopener noreferrer">Vue2.x 原理源码分析 | Sewen 博客 (sewar-x.github.io)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>Vue 2 使用的是基于 <code>Object.defineProperty</code> 的响应式系统，而 Vue 3 则使用了 ES6 的 <code>Proxy</code> 对象。</p> <h3 id="object-defineproperty缺陷"><a href="#object-defineproperty缺陷" class="header-anchor">#</a> <strong><code>Object.defineProperty</code>缺陷</strong></h3> <blockquote><ol><li>无法监听数组索引和长度的变化</li> <li>不能检测对象属性的添加和删除;</li> <li>必须遍历对象的所有属性</li></ol></blockquote> <p><strong>无法监听数组索引和长度的变化</strong>：</p> <ul><li><p>使用 <code>Object.defineProperty</code> 实现的响应式系统无法直接检测到数组索引和长度的变化。</p></li> <li><p>为了解决这个问题，Vue 2 提供了诸如 <code>Vue.set</code> 和 <code>Array.prototype.splice</code> 这样的方法来触发视图的更新。但这增加了使用者的心智负担，并且可能导致一些不易察觉的错误。</p></li></ul> <p><strong>必须遍历对象的所有属性</strong>：</p> <ul><li><p><code>Object.defineProperty</code> 只能对对象的属性进行劫持，这意味着在对象创建时，必须遍历其所有属性并将它们转换为 getter/setter，以实现响应式。</p></li> <li><p>如果属性是在对象创建后动态添加的，那么这些属性将不是响应式的，除非显式地使用 Vue 提供的方法。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//定义响应式对象，进行数据劫持</span>
<span class="token keyword">function</span> <span class="token function">defineReactive</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">observe</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
    Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">get </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>val<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> val
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">set</span><span class="token punctuation">(</span>newVal<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>newVal <span class="token operator">!==</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                val <span class="token operator">=</span> newVal
                <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">observe</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> obj <span class="token operator">!==</span> <span class="token string">'object'</span> <span class="token operator">||</span> obj <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 遍历对象属性对所有数据进行劫持</span>
    Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">defineReactive</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><blockquote><p>如上例代码所示，<code>Object.defineProperty</code> 需要遍历 data 的所有属性进行劫持</p></blockquote></li></ul> <p><strong>对新添加或删除的属性不敏感</strong>：</p> <ul><li><p>由于 <code>Object.defineProperty</code> 只能对已经存在的属性进行劫持，所以它无法检测到对象中新添加或删除的属性。</p></li> <li><p>需要使用 Vue 提供的特定方法（如 <code>Vue.set</code> 或 <code>Vue.delete</code>）来处理。</p></li></ul> <p><strong>性能问题</strong>：</p> <ul><li><p>由于需要遍历和劫持对象的所有属性，因此对于大数量和嵌套深入的对象，要遍历递归<code>Object.defineProperty</code> 进行劫持对象，可能会导致一定的性能开销。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">d</span><span class="token operator">:</span> <span class="token number">1</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><blockquote><p>如上图所示的数据类型，<code>Object.defineProperty</code> 需要递归遍历 data 对象的属性进行劫持</p></blockquote></li></ul> <h3 id="proxy-优势"><a href="#proxy-优势" class="header-anchor">#</a> <strong>Proxy 优势</strong></h3> <ul><li>Vue 3.x 响应式系统使用  <a href="https://es6.ruanyifeng.com/#docs/proxy" target="_blank" rel="noopener noreferrer">ES6 Proxy<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，Vue2.x 使用 <code>Object.defineProperty()</code> 实现。</li></ul> <p><code>Proxy</code>的监听是针对一个对象的，那么对这个对象的所有操作会进入监听操作，这就完全可以代理所有属性了</p> <p>使用 <code>Proxy</code>定义一个响应式方法<code>reactive</code> 示例：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> obj <span class="token operator">!==</span> <span class="token string">'object'</span> <span class="token operator">&amp;&amp;</span> obj <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> obj
    <span class="token punctuation">}</span>
    <span class="token comment">// Proxy相当于在对象外层加拦截</span>
    <span class="token keyword">const</span> observed <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> res <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">获取</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>res<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> res
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> res <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">设置</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> res
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">deleteProperty</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> res <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">deleteProperty</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">)</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">删除</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>res<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> res
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> observed
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>Proxy和defineProperty都是JavaScript中用于处理对象属性的机制，但它们在功能和灵活性上存在一些差异。</p> <p>以下是一些Proxy比defineProperty更好的地方：</p> <h4 id="proxy支持监听数组的变化"><a href="#proxy支持监听数组的变化" class="header-anchor">#</a> <strong>Proxy支持监听数组的变化</strong></h4> <ul><li><p>Proxy可以<strong>直接监听数组的变化</strong>; （Proxy 通过返回一个代理对象操作源对象），在使用Proxy时，你可以更容易地更新数组的索引或添加/删除数组元素。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>const obj = [1,2,3]
const proxtObj = reactive(obj)
obj.psuh(4) // ok
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p><code>Proxy</code>有多达13种拦截方法,不限于<code>apply</code>、<code>ownKeys</code>、<code>deleteProperty</code>、<code>has</code>等等，这是<code>Object.defineProperty</code>不具备的。</p></blockquote></li> <li><p><code>Object.defineProperty</code> 需要深度遍历数组，对数组每个元素递归调用 <code>Object.defineProperty</code> 实现监听；因此原生API不能监听数组的变化；</p></li> <li><p>Proxy可以检测到数组基于下标的修改和长度修改，而<code>Object.defineProperty</code>无法做到。</p></li></ul> <h4 id="proxt-支持监听对象属性新增和删除"><a href="#proxt-支持监听对象属性新增和删除" class="header-anchor">#</a> <strong>Proxt 支持监听对象属性新增和删除</strong></h4> <ul><li>Proxy 通过返回代理对象监听源对象，对整个对象操作进行拦截，因此<strong>在对象属性新增和删除时候能在代理对象中监听到</strong>；</li> <li>使用 <code>Object.defineProperty</code> 对对象监听，需要对每一个对象属性进行遍历监听，因此在完成初始化属性遍历拦截后，再对对象属性进行新增和修改时就无法监听到变化； (Vue2.x 中使用<code>Object.defineProperty</code> 进行响应式初始化之后，不再进行响应式操作，因此无法监听对象属性新增和修改 )</li></ul> <h4 id="proxy-可以拦截更多的操作"><a href="#proxy-可以拦截更多的操作" class="header-anchor">#</a> <strong>Proxy 可以拦截更多的操作</strong></h4> <ul><li>Proxy 可以拦截更多的操作，包括属性的读取、设置和删除等；
<ul><li>Proxy 通过返回一个代理对象操作源对象，这意味着使用Proxy可以在不干扰现有代码逻辑的情况下修改对象的行为。</li></ul></li> <li><code>Object.defineProperty</code> 只能监视对象单个属性值的变化。</li></ul> <h4 id="proxy-无需遍历对象的所有属性"><a href="#proxy-无需遍历对象的所有属性" class="header-anchor">#</a> <strong>Proxy 无需遍历对象的所有属性</strong></h4> <ul><li>Proxy 通过返回一个代理对象操作源对象，Proxy可以在内存中只存储一份数据；Proxy可以在调用的时候递归，用到才代理，也不需要维护特别多的依赖关系，性能提升很大。</li> <li><code>Object.defineProperty</code> 需要为每个对象每个属性都创建一个数据结构，导致内存占用较大，由此在处理大量数据时，内存占用较大；</li></ul> <h4 id="proxy提供了更丰富的特性"><a href="#proxy提供了更丰富的特性" class="header-anchor">#</a> <strong>Proxy提供了更丰富的特性</strong></h4> <ul><li>Proxy提供了更丰富的特性，例如get/set属性、apply、construct、deleteProperty、getOwnPropertyDescriptor、getPrototypeOf、isExtensible、ownKeys、preventExtensions、setPrototype等。这些特性使得Proxy在处理对象属性时更加灵活和强大。</li></ul> <h4 id="proxy更简单的语法"><a href="#proxy更简单的语法" class="header-anchor">#</a> <strong>Proxy更简单的语法</strong></h4> <ul><li>Proxy提供了一个相对简单的API，使得创建代理对象更加容易；</li> <li><code>Object.defineProperty</code> 的语法更加复杂和不易理解；</li></ul> <h2 id="体积优化"><a href="#体积优化" class="header-anchor">#</a> <strong>体积优化</strong></h2> <p>Vue3相比Vue2在体积方面做了以下优化：</p> <ol><li>Tree-shaking支持</li> <li>更小的包体积</li></ol> <h3 id="tree-shaking-支持"><a href="#tree-shaking-支持" class="header-anchor">#</a> <strong>Tree-shaking 支持</strong></h3> <h4 id="tree-shaking"><a href="#tree-shaking" class="header-anchor">#</a> <strong>Tree-shaking</strong></h4> <p>Tree-shaking是一种用于优化JavaScript应用程序的技术，也被称为“摇树优化”。它的原理是<strong>通过静态分析的方式，识别和删除项目中未被使用的代码</strong>（也称为“死代码”），从而减小最终打包后的文件大小。</p> <p>具体来说，Tree-shaking的实现过程可以分为以下几个步骤：</p> <ol><li><strong>静态分析</strong>：Tree-shaking依赖于ES6模块系统（<code>import</code>与<code>exports</code>）的静态结构特性。
<ul><li>在ES6模块系统中，每个模块都被视为一个独立的作用域，其导出和导入关系是静态的，这使得编译器可以轻松地分析和优化模块之间的依赖关系。</li> <li>因此，Tree-shaking首先对项目的代码进行静态分析，确定哪些模块和函数被实际使用，哪些未被使用。</li></ul></li> <li><strong>标记和删除</strong>：在静态分析的基础上，Tree-shaking会标记出那些未被使用的代码，并在最终的打包过程中将这些代码删除。这样，最终生成的文件只包含实际被使用的代码，从而减小了文件大小。</li></ol> <p>需要注意的是，为了让Tree-shaking技术能够生效，需要满足一定的条件:</p> <ol><li>代码<strong>必须使用ES6模块系统</strong>。</li> <li>代码<strong>必须是静态的，不能有动态的引用和执行代码</strong>。</li> <li>代码<strong>必须使用纯函数或者纯表达式</strong>，不能有副作用。</li></ol> <h4 id="vue3-tree-shaking优化"><a href="#vue3-tree-shaking优化" class="header-anchor">#</a> <strong>Vue3 Tree-shaking优化</strong></h4> <p>在<code>Vue2</code>中，无论我们使用什么功能，它们最终都会出现在生产代码中。主要原因是**<code>Vue2</code>实例在项目中是单例的，捆绑程序无法检测到该对象的哪些属性在代码中被使用到**：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
 
Vue<span class="token punctuation">.</span><span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>而**<code>Vue3</code>源码引入<code>tree shaking</code>特性，将全局 API 进行分块**。如果您不使用其某些功能，它们将不会包含在您的基础包中</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> nextTick<span class="token punctuation">,</span> observable <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
 
<span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Vue3的模块结构和代码组织更利于tree-shaking，这使得打包时只会包含项目实际使用的代码，减少了最终打包文件的大小。</p> <ul><li>任何一个函数，如<code>ref</code>、<code>reavtived</code>、<code>computed</code>等，仅仅在用到的时候才打包，没用到的模块都被摇掉，打包的整体体积变小。</li></ul> <p>通过<code>Tree shaking</code>，<code>Vue3</code>给我们带来的好处是：</p> <ul><li>减少程序体积（更小）</li> <li>减少程序执行时间（更快）</li> <li>便于将来对程序架构进行优化（更友好）</li></ul> <h3 id="更小的包体积"><a href="#更小的包体积" class="header-anchor">#</a> <strong>更小的包体积</strong></h3> <ul><li>Vue3对打包体积进行了优化，将一些内部逻辑进行了拆分，并进行了懒加载处理，这使得Vue3的包体积较Vue2更小。这意味着在使用Vue3时，用户需要下载和加载的代码量更少，从而可以更快地加载和渲染应用程序。</li></ul> <h2 id="编译优化"><a href="#编译优化" class="header-anchor">#</a> <strong>编译优化</strong></h2> <blockquote><p>Vue3 相比 Vue2 在编译方面做的优化：</p> <ul><li>diff 算法优化</li> <li>静态提升</li> <li>事件监听缓存</li> <li>SSR优化</li></ul></blockquote> <p>在<code>Vue2</code>，我们知道每个组件实例都对应一个 <code>watcher</code> 实例，它会在组件渲染的过程中把用到的数据<code>property</code>记录为依赖，当依赖发生改变，触发<code>setter</code>，则会通知<code>watcher</code>，从而使关联的组件重新渲染。详细过程可参考 <a href="https://sewar-x.github.io/vue2/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#%E6%B4%BE%E5%8F%91%E6%9B%B4%E6%96%B0" target="_blank" rel="noopener noreferrer">Vue2.x 原理源码分析 | Sewen 博客 (sewar-x.github.io)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><img src="/myblog/assets/img/39066120-5ed0-11eb-85f6-6fac77c0c9b3.d70eb0ba.png" alt="img"></p> <p>试想一下，一个组件结构如下图</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>静态文本<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>静态文本<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ message }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>静态文本<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        ...
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>静态文本<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>可以看到，组件内部只有一个动态节点，剩余一堆都是静态节点，所以这里很多 <code>diff</code> 和遍历其实都是不需要的，造成性能浪费</p> <h3 id="diff-算法优化"><a href="#diff-算法优化" class="header-anchor">#</a> <strong>diff 算法优化</strong></h3> <p><strong><code>vue3</code>在<code>diff</code>算法中相比<code>vue2</code>增加了静态标记</strong></p> <blockquote><p>详细 diff 算法介绍可以参考： <a href="https://sewar-x.github.io/vue2/Vue2%E5%8E%9F%E7%90%86%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/#diff-%E7%AE%97%E6%B3%95" target="_blank" rel="noopener noreferrer">Vue2.x 原理源码分析 | Sewen 博客 (sewar-x.github.io)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>静态标记作用是为了会发生变化的地方添加一个<code>flag</code>标记，下次发生变化的时候直接找该地方进行比较，已经标记静态节点的<code>p</code>标签在<code>diff</code>过程中则不会比较，把性能进一步提高</p> <p><img src="/myblog/assets/img/c732e150-5c58-11eb-ab90-d9ae814b240d.9c7076e0.png" alt="img"></p> <h3 id="静态提升"><a href="#静态提升" class="header-anchor">#</a> <strong>静态提升</strong></h3> <blockquote><p>&quot;静态提升&quot;（Static Hoisting）是一种用于优化模板编译结果的技术。它主要涉及到<strong>在编译阶段识别并提取模板中的静态内容</strong>，这些内容在组件的多次渲染之间是不会发生变化的。</p> <p>静态提升的基本原理是，在编译阶段，Vue 的编译器会分析模板，识别出那些不依赖于组件状态（如 props、data、computed 等）的静态部分。这些静态部分在组件的每次渲染时都是相同的，因此没有必要在每次渲染时都重新创建它们。</p> <p>通过将这些静态部分提升到渲染函数之外，Vue 可以在组件初始化时只创建一次静态内容，并在之后的渲染中重复使用这些已经创建好的静态内容。这样做的好处是可以减少不必要的计算和内存分配，从而提高渲染性能。</p> <p>需要注意的是，静态提升只适用于模板中的静态部分，对于依赖于组件状态的动态内容，仍然需要在每次渲染时进行计算和更新。此外，静态提升的效果也会受到模板复杂性和组件状态变化频率的影响。</p></blockquote> <p><code>Vue3</code>中对不参与更新的元素，会做静态提升，只会被创建一次，在渲染时直接复用，免去了重复的创建节点，优化了运行时候的内存占用。</p> <p><strong>示例：</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>你好<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> message <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>没有做静态提升之前</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">_ctx<span class="token punctuation">,</span> _cache<span class="token punctuation">,</span> $props<span class="token punctuation">,</span> $setup<span class="token punctuation">,</span> $data<span class="token punctuation">,</span> $options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token function">_openBlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_createBlock</span><span class="token punctuation">(</span>_Fragment<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token function">_createVNode</span><span class="token punctuation">(</span><span class="token string">&quot;span&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">&quot;你好&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">_createVNode</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token function">_toDisplayString</span><span class="token punctuation">(</span>_ctx<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token comment">/* TEXT */</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">64</span> <span class="token comment">/* STABLE_FRAGMENT */</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>做了静态提升之后</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//静态内容`_hoisted_1`被放置在`render` 函数外，每次渲染的时候只要取 `_hoisted_1` 即可,同时 `_hoisted_1` 被打上了 `PatchFlag` ，静态标记值为 -1 ，特殊标志是负整数表示永远不会用于 Diff</span>
<span class="token keyword">const</span> _hoisted_1 <span class="token operator">=</span> <span class="token comment">/*#__PURE__*/</span><span class="token function">_createVNode</span><span class="token punctuation">(</span><span class="token string">&quot;span&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">&quot;你好&quot;</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token comment">/* HOISTED */</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">_ctx<span class="token punctuation">,</span> _cache<span class="token punctuation">,</span> $props<span class="token punctuation">,</span> $setup<span class="token punctuation">,</span> $data<span class="token punctuation">,</span> $options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token function">_openBlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_createBlock</span><span class="token punctuation">(</span>_Fragment<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    _hoisted_1<span class="token punctuation">,</span>
    <span class="token function">_createVNode</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token function">_toDisplayString</span><span class="token punctuation">(</span>_ctx<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token comment">/* TEXT */</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">64</span> <span class="token comment">/* STABLE_FRAGMENT */</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// Check the console for the AST</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="事件监听缓存"><a href="#事件监听缓存" class="header-anchor">#</a> <strong>事件监听缓存</strong></h3> <blockquote><p>在 Vue 源码的编译优化中，事件监听缓存是一种优化手段，用于提高事件处理函数的执行效率。</p> <p>Vue 组件中的事件监听器（如 <code>@click</code>、<code>@input</code> 等）在模板编译阶段会被转换成相应的事件处理函数，并在组件实例化时绑定到对应的 DOM 元素上。</p> <p>事件监听缓存的基本思想是：<strong>对于同一个事件监听器，如果它绑定的事件处理函数没有发生变化，那么就没有必要在每次组件渲染时都重新绑定该事件监听器</strong>。Vue 通过在内部维护一个事件监听器的缓存来实现这一点。</p> <p>具体来说，当组件渲染时，Vue 会检查当前绑定的事件监听器是否已经存在于缓存中。如果存在，Vue 会直接使用缓存中的事件监听器，而不是重新创建和绑定一个新的监听器。这样可以避免不必要的 DOM 操作和内存分配，从而提高渲染性能。</p> <p>需要注意的是，事件监听缓存只适用于那些绑定相同事件处理函数的事件监听器。如果事件处理函数发生了变化（例如，由于组件状态的变化导致处理函数的逻辑改变），那么缓存中的事件监听器就不再适用，需要重新绑定新的事件监听器。****</p></blockquote> <p><strong>示例：</strong></p> <p>默认情况下绑定事件行为会被视为动态绑定，所以每次都会去追踪它的变化</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">'</span>onClick<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>点我<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>没开启事件监听器缓存</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">const</span> render <span class="token operator">=</span> <span class="token comment">/*#__PURE__*/</span><span class="token function">_withId</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">_ctx<span class="token punctuation">,</span> _cache<span class="token punctuation">,</span> $props<span class="token punctuation">,</span> $setup<span class="token punctuation">,</span> $data<span class="token punctuation">,</span> $options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token function">_openBlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_createBlock</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token function">_createVNode</span><span class="token punctuation">(</span><span class="token string">&quot;button&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">onClick</span><span class="token operator">:</span> _ctx<span class="token punctuation">.</span>onClick <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&quot;点我&quot;</span><span class="token punctuation">,</span> <span class="token number">8</span> <span class="token comment">/* PROPS */</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&quot;onClick&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                                             <span class="token comment">// PROPS=1&lt;&lt;3,// 8 //动态属性，但不包含类名和样式</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>开启事件侦听器缓存后</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">_ctx<span class="token punctuation">,</span> _cache<span class="token punctuation">,</span> $props<span class="token punctuation">,</span> $setup<span class="token punctuation">,</span> $data<span class="token punctuation">,</span> $options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token function">_openBlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_createBlock</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token function">_createVNode</span><span class="token punctuation">(</span><span class="token string">&quot;button&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">onClick</span><span class="token operator">:</span> _cache<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">(</span>_cache<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>_ctx<span class="token punctuation">.</span><span class="token function">onClick</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&quot;点我&quot;</span><span class="token punctuation">)</span><span class="token comment">//开启了缓存后，没有了静态标记。也就是说下次`diff`算法的时候直接使用</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="ssr优化"><a href="#ssr优化" class="header-anchor">#</a> <strong>SSR优化</strong></h3> <p>当静态内容大到一定量级时候，会用<code>createStaticVNode</code>方法在客户端去生成一个static node，这些静态<code>node</code>，会被直接<code>innerHtml</code>，就不需要创建对象，然后根据对象渲染</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>你好<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
	<span class="token operator">...</span>  <span class="token comment">// 很多个静态属性</span>
	<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> message <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>编译后</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> mergeProps <span class="token keyword">as</span> _mergeProps <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ssrRenderAttrs <span class="token keyword">as</span> _ssrRenderAttrs<span class="token punctuation">,</span> ssrInterpolate <span class="token keyword">as</span> _ssrInterpolate <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@vue/server-renderer&quot;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">ssrRender</span><span class="token punctuation">(</span><span class="token parameter">_ctx<span class="token punctuation">,</span> _push<span class="token punctuation">,</span> _parent<span class="token punctuation">,</span> _attrs<span class="token punctuation">,</span> $props<span class="token punctuation">,</span> $setup<span class="token punctuation">,</span> $data<span class="token punctuation">,</span> $options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> _cssVars <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">color</span><span class="token operator">:</span> _ctx<span class="token punctuation">.</span>color <span class="token punctuation">}</span><span class="token punctuation">}</span>
  <span class="token function">_push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>
    <span class="token function">_ssrRenderAttrs</span><span class="token punctuation">(</span><span class="token function">_mergeProps</span><span class="token punctuation">(</span>_attrs<span class="token punctuation">,</span> _cssVars<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&gt;&lt;div&gt;&lt;span&gt;你好&lt;/span&gt;...&lt;div&gt;&lt;span&gt;你好&lt;/span&gt;&lt;div&gt;&lt;span&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>
    <span class="token function">_ssrInterpolate</span><span class="token punctuation">(</span>_ctx<span class="token punctuation">.</span>message<span class="token punctuation">)</span>
  <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="composition-vs-options"><a href="#composition-vs-options" class="header-anchor">#</a> <strong>Composition VS Options</strong></h2> <table><thead><tr><th style="text-align:center;">特性/指标</th> <th style="text-align:center;">Vue 2 Options API</th> <th style="text-align:center;">Vue 3 Composition API</th></tr></thead> <tbody><tr><td style="text-align:center;">代码组织</td> <td style="text-align:center;">基于选项（options）的组织方式，如 <code>data</code>、<code>methods</code>、<code>computed</code> 等</td> <td style="text-align:center;">基于函数的组合方式，更加灵活和可组合</td></tr> <tr><td style="text-align:center;">逻辑复用</td> <td style="text-align:center;">通过高阶组件（HOC）或混入（mixins）实现逻辑复用，但可能导致命名冲突和关系不清晰</td> <td style="text-align:center;">通过可复用的函数（composable functions）实现逻辑复用，更加清晰和可控</td></tr> <tr><td style="text-align:center;">响应式系统</td> <td style="text-align:center;">使用 <code>Object.defineProperty</code> 实现响应式，存在一些限制和性能开销</td> <td style="text-align:center;">使用 <code>Proxy</code> 实现响应式，更加完整和高效</td></tr> <tr><td style="text-align:center;">生命周期钩子</td> <td style="text-align:center;">使用 <code>beforeCreate</code>、<code>created</code>、<code>beforeMount</code> 等生命周期钩子函数</td> <td style="text-align:center;">使用 <code>setup</code> 函数替代大部分生命周期钩子，更加简洁和一致</td></tr> <tr><td style="text-align:center;">状态管理</td> <td style="text-align:center;">通常需要结合 Vuex 进行状态管理</td> <td style="text-align:center;">可以在组件内部使用 <code>reactive</code> 和 <code>ref</code> 等 API 进行状态管理，也可以结合 Vuex 4 使用 Composition API 风格的状态管理</td></tr> <tr><td style="text-align:center;">异步操作</td> <td style="text-align:center;">使用 <code>methods</code> 或生命周期钩子中的异步函数处理异步操作</td> <td style="text-align:center;">可以在 <code>setup</code> 函数中使用 <code>async</code>/<code>await</code> 处理异步操作，更加直观和简洁</td></tr></tbody></table> <h3 id="options-api"><a href="#options-api" class="header-anchor">#</a> Options API</h3> <p><code>Options API</code>，即大家常说的选项API，即以<code>vue</code>为后缀的文件，通过定义<code>methods</code>，<code>computed</code>，<code>watch</code>，<code>data</code>等属性与方法，共同处理页面逻辑</p> <p>如下图：</p> <img src="/myblog/assets/img/9bf6d9d0-6048-11eb-85f6-6fac77c0c9b3.25f9bb98.png" alt="img" style="zoom:50%;"> <p>可以看到<code>Options</code>代码编写方式，如果是组件状态，则写在<code>data</code>属性上，如果是方法，则写在<code>methods</code>属性上...</p> <p>用组件的选项 (<code>data</code>、<code>computed</code>、<code>methods</code>、<code>watch</code>) 组织逻辑在大多数情况下都有效，然而，当组件变得复杂，导致对应属性的列表也会增长，这可能会导致组件难以阅读和理解。</p> <p><strong>Options API 弊端</strong>：Options API 在 Vue 2 中将逻辑分散在 data、methods、computed 等选项中，这使得代码的组织和维护变得困难。</p> <h3 id="composition-api"><a href="#composition-api" class="header-anchor">#</a> Composition Api</h3> <p>在 Vue3 Composition API 中，组件根据逻辑功能来组织的，一个功能所定义的所有 API 会放在一起（更加的高内聚，低耦合）</p> <p>即使项目很大，功能很多，我们都能快速的定位到这个功能所用到的所有 API。</p> <img src="/myblog/assets/img/acee9200-6048-11eb-ab90-d9ae814b240d.2519cf93.png" alt="img" style="zoom:50%;"> <p>相较于 Vue 2 中的 Options API，Composition API 允许开发者将逻辑代码进行拆分和组合，提高代码的可读性和可维护性。</p> <p><code>composition API</code>，其两大显著的优化：</p> <ul><li><strong>优化逻辑组织</strong></li> <li><strong>优化逻辑复用</strong></li></ul> <h3 id="优化逻辑组织"><a href="#优化逻辑组织" class="header-anchor">#</a> <strong>优化逻辑组织</strong></h3> <p><img src="/myblog/assets/img/vue2对比vue3.32242afa.png" alt="image-20240302101647178"></p> <h3 id="优化逻辑复用"><a href="#优化逻辑复用" class="header-anchor">#</a> <strong>优化逻辑复用</strong></h3> <p>Vue3 优化逻辑复用主要是使用 hooks 代替 mixins 的代码组织方式。</p> <h2 id="hooks-vs-mixins"><a href="#hooks-vs-mixins" class="header-anchor">#</a> <strong>Hooks VS Mixins</strong></h2> <p>在 Vue 3 中，实际上并没有直接称为 &quot;hooks&quot; 的概念，与 React 的 hooks 不同。</p> <p>Vue 3 通过 Composition API 提供了类似的功能，允许更灵活的组织和复用代码逻辑。</p> <table><thead><tr><th style="text-align:center;">特性/指标</th> <th style="text-align:center;">Vue 2 Mixins</th> <th style="text-align:center;">Vue 3 Composition API (类似 Hooks)</th></tr></thead> <tbody><tr><td style="text-align:center;">代码复用</td> <td style="text-align:center;">允许在不同的组件中复用相同的逻辑</td> <td style="text-align:center;">通过编写可复用的函数（composable functions）实现<strong>逻辑复用</strong></td></tr> <tr><td style="text-align:center;">响应式状态管理</td> <td style="text-align:center;">使用 Vue 实例的响应式系统进行状态管理</td> <td style="text-align:center;">使用 <code>reactive</code> 和 <code>ref</code> 等 API 创建和管理响应式状态</td></tr> <tr><td style="text-align:center;">生命周期钩子</td> <td style="text-align:center;">可以混入生命周期钩子函数，但可能导致冲突和难以追踪的问题</td> <td style="text-align:center;">在 <code>setup</code> 函数中使用 <code>onMounted</code>、<code>onUpdated</code> 等函数来替代生命周期钩子</td></tr> <tr><td style="text-align:center;">命名冲突</td> <td style="text-align:center;">容易发生命名冲突，特别是当多个 mixins 使用相同的属性或方法名时</td> <td style="text-align:center;">通过将逻辑封装在独立的函数中，<strong>避免了命名冲突的问题</strong></td></tr> <tr><td style="text-align:center;">类型支持</td> <td style="text-align:center;">有限的类型支持，需要额外的类型定义和注解</td> <td style="text-align:center;">更好的类型支持，特别是与 TypeScript 结合使用时，提供更强大的类型推断和检查</td></tr> <tr><td style="text-align:center;">逻辑组合</td> <td style="text-align:center;">Mixins 的组合方式不够直观，难以理解和维护</td> <td style="text-align:center;">通过导入和调用函数，可以<strong>清晰地组合和组织逻辑</strong></td></tr> <tr><td style="text-align:center;">依赖关系</td> <td style="text-align:center;">Mixins 之间可能存在隐式的依赖关系，导致难以预测的行为</td> <td style="text-align:center;">Composition API 鼓励显式地传递依赖，使<strong>依赖关系更加清晰和可控</strong></td></tr> <tr><td style="text-align:center;">模板中使用</td> <td style="text-align:center;">Mixins 中的属性和方法可以直接在模板中使用</td> <td style="text-align:center;">通过 <code>setup</code> 函数返回的响应式状态和函数可以在模板中使用</td></tr> <tr><td style="text-align:center;">调试和测试</td> <td style="text-align:center;">Mixins 可能使得调试和测试变得更加困难，因为它们引入了额外的层和间接性</td> <td style="text-align:center;">Composition API 提供了更清晰的代码结构和更少的间接性，从而更容易进行调试和测试</td></tr></tbody></table> <p>下面举个例子，对比 Mixins 和 Hooks 区别：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">const</span> MoveMixin <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">handleKeyup</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 上下左右 x y</span>
      <span class="token keyword">switch</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>code<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token string">&quot;ArrowUp&quot;</span><span class="token operator">:</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token operator">--</span><span class="token punctuation">;</span>
          <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string">&quot;ArrowDown&quot;</span><span class="token operator">:</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token operator">++</span><span class="token punctuation">;</span>
          <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string">&quot;ArrowLeft&quot;</span><span class="token operator">:</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token operator">--</span><span class="token punctuation">;</span>
          <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string">&quot;ArrowRight&quot;</span><span class="token operator">:</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token operator">++</span><span class="token punctuation">;</span>
          <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;keyup&quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handleKeyup<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function">unmounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;keyup&quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handleKeyup<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><p>然后在组件中使用</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    Mouse position<span class="token operator">:</span> x <span class="token punctuation">{</span><span class="token punctuation">{</span> x <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">/</span> y <span class="token punctuation">{</span><span class="token punctuation">{</span> y <span class="token punctuation">}</span><span class="token punctuation">}</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> mousePositionMixin <span class="token keyword">from</span> <span class="token string">'./mouse'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mixins</span><span class="token operator">:</span> <span class="token punctuation">[</span>mousePositionMixin<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>使用单个<code>mixin</code>似乎问题不大，但是当我们一个组件混入大量不同的 <code>mixins</code> 的时候</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token literal-property property">mixins</span><span class="token operator">:</span> <span class="token punctuation">[</span>mousePositionMixin<span class="token punctuation">,</span> fooMixin<span class="token punctuation">,</span> barMixin<span class="token punctuation">,</span> otherMixin<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>会存在两个非常明显的问题：</p> <ul><li>命名冲突</li> <li>数据来源不清晰</li></ul> <p>现在通过<code>Compositon API</code>这种方式改写上面的代码</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> onMounted<span class="token punctuation">,</span> onUnmounted<span class="token punctuation">,</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">useMove</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> position <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">handleKeyup</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 上下左右 x y</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>code<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token string">&quot;ArrowUp&quot;</span><span class="token operator">:</span>
        <span class="token comment">// y.value--;</span>
        position<span class="token punctuation">.</span>y<span class="token operator">--</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token string">&quot;ArrowDown&quot;</span><span class="token operator">:</span>
        <span class="token comment">// y.value++;</span>
        position<span class="token punctuation">.</span>y<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token string">&quot;ArrowLeft&quot;</span><span class="token operator">:</span>
        <span class="token comment">// x.value--;</span>
        position<span class="token punctuation">.</span>x<span class="token operator">--</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token string">&quot;ArrowRight&quot;</span><span class="token operator">:</span>
        <span class="token comment">// x.value++;</span>
        position<span class="token punctuation">.</span>x<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;keyup&quot;</span><span class="token punctuation">,</span> handleKeyup<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">onUnmounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;keyup&quot;</span><span class="token punctuation">,</span> handleKeyup<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span> position <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><p>在组件中使用</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    Mouse position<span class="token operator">:</span> x <span class="token punctuation">{</span><span class="token punctuation">{</span> x <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">/</span> y <span class="token punctuation">{</span><span class="token punctuation">{</span> y <span class="token punctuation">}</span><span class="token punctuation">}</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useMove <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./useMove&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> toRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> position <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useMove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> x<span class="token punctuation">,</span> y <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">toRefs</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      x<span class="token punctuation">,</span>
      y<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>可以看到，整个数据来源清晰了，即使去编写更多的 hook 函数，也不会出现命名冲突的问题</p> <h2 id="语法差异"><a href="#语法差异" class="header-anchor">#</a> <strong>语法差异</strong></h2> <p><a href="https://vue3js.cn/docs/zh/guide/migration/introduction.html#%E4%BB%8B%E7%BB%8D" target="_blank" rel="noopener noreferrer">vue3.x 文档-vue2迁移<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>章节中介绍了 vue3.x 新增特性和 vue2 差异。</p> <p><strong>补充说明</strong></p> <p>Vue 3 中需要关注的一些新功能包括：</p> <ul><li><p><a href="https://vue3js.cn/docs/zh/guide/composition-api-introduction.html" target="_blank" rel="noopener noreferrer">组合式 API<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：</p> <ul><li>提供 <code>setup</code> 组件选项：在<strong>创建组件之前</strong>执行，一旦 <code>props</code> 被解析，并充当合成 API 的入口点。</li> <li><code>setup</code> 选项应该是一个接受 <code>props</code> 和 <code>context</code> 的函数。<code>setup</code> 返回的所有内容都将暴露给组件的其余部分 (计算属性、方法、生命周期钩子等等) 以及组件的模板。</li> <li>作用：在多个组件中复用相同的代码逻辑。把组件逻辑模块化复用，增加代码可读性。
<ul><li>vue2.x 中提供组件代码复用的 API：<code>mixin</code>、<code>slot</code>。</li></ul></li></ul></li> <li><p><a href="https://vue3js.cn/docs/zh/guide/teleport.html" target="_blank" rel="noopener noreferrer">Teleport<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：</p> <ul><li>新的内置组件，将组件内的模板移动到 <code>to</code> 属性指定的 DOM 节点之下。</li> <li>应用场景：用于类似 <code>modals</code>,<code>toast</code> 这类和 <code>Vue</code> 应用的 <code>DOM</code> 完全剥离的组件，这类组件如果嵌套在 <code>Vue</code> 的某个组件内部，那么处理嵌套组件的定位、<code>z-index</code> 和样式就会变得很困难，因此通过 <code>Teleport</code> 可以解决。</li></ul></li> <li><p><a href="https://vue3js.cn/docs/zh/guide/migration/fragments.html" target="_blank" rel="noopener noreferrer">片段<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：支持多根节点组件，即片段。</p></li> <li><p><a href="https://vue3js.cn/docs/zh/guide/component-custom-events.html" target="_blank" rel="noopener noreferrer">组件选项 emits<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p><a href="https://github.com/vuejs/vue-next/tree/master/packages/runtime-core" target="_blank" rel="noopener noreferrer"><code>createRenderer</code> API 来自 <code>@vue/runtime-core</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 创建自定义渲染器</p></li></ul> <h2 id="创建实例方式"><a href="#创建实例方式" class="header-anchor">#</a> <strong>创建实例方式</strong></h2> <p><strong>Vue2:</strong></p> <p><strong>使用 <code>new Vue()</code> 创建实例</strong>。</p> <ul><li><p>创建Vue实例主要通过<strong>构造函数的方式</strong>进行，即使用<code>new Vue()</code>来创建一个Vue实例。</p></li> <li><p>这种方式下，<strong>所有Vue实例都共享一个Vue构造函数对象</strong>，包括全局指令/全局组件等，这使得它们无法做到相互隔离。</p></li> <li><p>此外，Vue2的组件系统设计中，<strong>整个项目中只能有一个根Vue实例</strong>，其他的单文件组件创建的Vue实例都会成为它的子实例。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 这会影响两个根实例</span>
Vue<span class="token punctuation">.</span><span class="token function">mixin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">/* ... */</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> app1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app-1'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> app2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app-2'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li></ul> <p><strong>Vue3：</strong></p> <p><strong>使用 <a href="https://vue3js.cn/docs/zh/api/global-api.html#createapp" target="_blank" rel="noopener noreferrer"><code>createApp()</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 工厂函数创建实例。</strong></p> <ul><li>这种方式下，<code>createApp</code>方法可以返回一个提供应用上下文的应用实例，不同的实例注册的组件无法在不同的实例下使用。</li> <li>这使得Vue3更适合在大型的开发环境中使用，不同的开发人员可以完全独立地使用不同的实例。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Vue<span class="token punctuation">.</span><span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// `this` 指向 vm 实例</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a is: '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span> <span class="token comment">// =&gt; &quot;a is: 1&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//应用实例暴露的大多数方法都会返回该同一实例，允许链式：</span>
Vue<span class="token punctuation">.</span><span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'SearchInput'</span><span class="token punctuation">,</span> SearchInputComponent<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">'focus'</span><span class="token punctuation">,</span> FocusDirective<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>LocalePlugin<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="生命周期钩子"><a href="#生命周期钩子" class="header-anchor">#</a> <strong>生命周期钩子</strong></h2> <p><img src="/myblog/assets/img/vue2-vue3-lifecycle.30af7fcb.png" alt=""></p> <h2 id="内置组件"><a href="#内置组件" class="header-anchor">#</a> <strong>内置组件</strong></h2> <table><thead><tr><th style="text-align:center;">组件名</th> <th style="text-align:center;">Vue2</th> <th style="text-align:center;">Vue3</th> <th style="text-align:center;">作用</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>&lt;component&gt;</code></td> <td style="text-align:center;">✔️</td> <td style="text-align:center;">✔️</td> <td style="text-align:center;">动态组件：可以动态地切换多个组件，根据 <code>is</code> 属性的值来决定显示哪个组件。</td></tr> <tr><td style="text-align:center;"><code>&lt;transition&gt;</code></td> <td style="text-align:center;">✔️</td> <td style="text-align:center;">✔️</td> <td style="text-align:center;">过渡效果：为元素或组件的进入/离开提供过渡动画。</td></tr> <tr><td style="text-align:center;"><code>&lt;transition-group&gt;</code></td> <td style="text-align:center;">✔️</td> <td style="text-align:center;">✔️</td> <td style="text-align:center;">列表过渡：为列表的渲染提供过渡动画，通常与 <code>v-for</code> 一起使用。</td></tr> <tr><td style="text-align:center;"><code>&lt;keep-alive&gt;</code></td> <td style="text-align:center;">✔️</td> <td style="text-align:center;">✔️</td> <td style="text-align:center;">缓存组件：包裹动态组件时，会缓存不活动的组件实例，避免重复渲染。</td></tr> <tr><td style="text-align:center;"><code>&lt;slot&gt;</code></td> <td style="text-align:center;">✔️</td> <td style="text-align:center;">✔️</td> <td style="text-align:center;">插槽：用于分发内容，允许在父组件中向子组件的指定位置插入内容。</td></tr> <tr><td style="text-align:center;"><code>&lt;template&gt;</code></td> <td style="text-align:center;">✔️</td> <td style="text-align:center;">✔️</td> <td style="text-align:center;">模板：声明性渲染的容器，内部可以包含任意合法的 Vue 模板内容。但不渲染为 DOM 元素，仅作为逻辑结构。</td></tr> <tr><td style="text-align:center;"><code>&lt;suspense&gt;</code></td> <td style="text-align:center;">❌</td> <td style="text-align:center;">✔️</td> <td style="text-align:center;">异步组件加载：用于在异步组件加载时显示占位内容，如加载指示器。</td></tr> <tr><td style="text-align:center;"><code>&lt;teleport&gt;</code></td> <td style="text-align:center;">❌</td> <td style="text-align:center;">✔️</td> <td style="text-align:center;">传送：能够将组件的 HTML 结构移动到 DOM 中的指定位置，而不受组件树的限制。</td></tr></tbody></table> <p>Vue2和Vue3在内置组件上主要有以下差异：</p> <ol><li>过渡和动画：Vue3 通过 <code>&lt;transition&gt;</code> 和 <code>&lt;transition-group&gt;</code> 组件提供了更强大和灵活的过渡和动画系统。相比之下，Vue2 的过渡系统较为简单，功能也相对有限。</li> <li>碎片（Fragments）：<strong>Vue3 支持模板下可以有多个根节点</strong>，即碎片化的模板。这意味着在 Vue3 中，组件的模板可以包含多个顶级元素，而不需要像 Vue2 那样只能有一个根节点。</li> <li>悬浮（Suspense）：Vue3 引入了 <code>&lt;suspense&gt;</code> 组件，用于异步组件加载时的等待状态处理。它允许你在组件加载完成之前显示一个占位符或加载指示器，提供更好的用户体验。Vue2 没有内置的 <code>&lt;suspense&gt;</code> 组件，需要开发者自行处理异步组件的加载状态。</li> <li>插槽（Slots）：Vue3 对插槽进行了改进，引入了更具表达力的插槽语法和新的 <code>&lt;slot&gt;</code> 组件用法。Vue3 中的插槽可以具有默认内容，也可以通过作用域插槽传递数据给子组件。相比之下，Vue2 的插槽功能相对简单，语法也较为有限。</li> <li>指令（Directives）：Vue3 在指令方面进行了一些改进和扩展。例如，Vue3 中的 <code>v-model</code> 指令支持自定义事件和多个模型绑定，而 Vue2 中的 <code>v-model</code> 仅支持表单元素的双向绑定。此外，Vue3 还引入了一些新的内置指令，如 <code>v-memo</code> 用于性能优化。</li></ol></div> <!----> <div class="content__content-bottom"></div> <footer class="page-meta"><!----> <div class="meta-item update-time"><span class="label">Last update:</span> <span class="info">March 20, 2024 20:28</span></div> <div class="meta-item contributors"><span class="label">Contributors: </span> <span class="info"><span title="email: 596777598@qq.com" class="contributor">
          sewar
        </span> <!----></span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/myblog/vue/Vue3%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/" class="prev"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon prev-icon"><path d="M906.783 588.79c-.02 8.499-6.882 15.36-15.38 15.37l-443.7-.01 75.704 191.682c2.52 6.42.482 13.763-5.038 17.91-5.52 4.168-13.138 4.147-18.616-.092L123.228 524.175a15.362 15.362 0 0 1-6-12.165c0-4.782 2.222-9.277 6-12.185L499.753 210.35a15.388 15.388 0 0 1 9.38-3.195c3.236 0 6.502 1.034 9.236 3.103 5.52 4.147 7.578 11.49 5.038 17.91L447.683 419.84l443.72-.01c8.498.01 15.36 6.881 15.36 15.36l.02 153.6z" fill="currentColor"></path></svg>
        Vue3源码分析
      </a></span> <span class="next"><a href="/myblog/vue/VueVsReact/">
        Vue Vs React
        <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon next-icon"><path d="M906.772 512c0 4.772-2.211 9.267-5.99 12.175L524.257 813.66a15.37 15.37 0 0 1-18.616.092 15.368 15.368 0 0 1-5.038-17.91l75.714-191.672h-443.73c-8.488 0-15.36-6.881-15.36-15.36v-153.6c0-8.489 6.872-15.36 15.36-15.36h443.73l-75.714-191.682a15.358 15.358 0 0 1 5.048-17.91c5.51-4.158 13.128-4.137 18.606.092l376.525 289.485a15.323 15.323 0 0 1 5.99 12.165z" fill="currentColor"></path></svg></a></span></p></div> <!----> <!----> <div class="content__page-bottom"></div></main> <!----></div><div class="global-ui"><!----><div id="pwa-install"><!----> <div id="install-modal-wrapper" style="display:none;"><div class="background"></div> <div class="install-modal"><div class="header"><button aria-label="Close" class="close-button"><svg width="23" height="22" xmlns="http://www.w3.org/2000/svg" class="icon close-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.12.358a1.224 1.224 0 011.729 0l8.92 8.914L20.686.358a1.224 1.224 0 011.73 1.728L13.497 11l8.92 8.913a1.222 1.222 0 11-1.73 1.729l-8.919-8.913-8.92 8.913a1.224 1.224 0 01-1.729-1.729L10.04 11l-8.92-8.914a1.222 1.222 0 010-1.728z" fill="currentColor"></path></svg></button> <div class="logo"><!----> <div class="title"><h1></h1> <p class="desc">This app can be installed on your PC or mobile device.  This will allow this web app to look and behave like any other installed app.  You will find it in your app lists and be able to pin it to your home screen, start menus or task bars.  This installed web app will also be able to safely interact with other apps and your operating system. </p></div></div></div> <div class="content"><div class="highlight"><!----> <!----></div> <div class="description"><h3>Description</h3> <p></p></div></div> <div class="button-wrapper"><button class="install-button">
        Install <span></span></button> <button class="cancel-button">
        Cancel
      </button></div></div></div></div><!----><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button title="Close" aria-label="Close" class="pswp__button pswp__button--close"></button> <button title="Share" aria-label="Share" class="pswp__button pswp__button--share"></button> <button title="Switch to full screen" aria-label="Switch to full screen" class="pswp__button pswp__button--fs"></button> <button title="Zoom in/out" aria-label="Zoom in/out" class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button title="Prev (Arrow Left)" aria-label="Prev (Arrow Left)" class="pswp__button pswp__button--arrow--left"></button> <button title="Next (Arrow Right)" aria-label="Next (Arrow Right)" class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div></div>
    <script src="/myblog/assets/js/app.9d2b617a.js" defer></script><script src="/myblog/assets/js/layout-Layout.d2d4ce64.js" defer></script><script src="/myblog/assets/js/page-Vue2VsVue3.10be4140.js" defer></script><script src="/myblog/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-components/Blog/BlogHome~layout-components/~2222f443.5835591a.js" defer></script>
  </body>
</html>
