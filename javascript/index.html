<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript 基础 | Sewen 博客</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="./mylogo.png">
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.min.js"></script>
    <link rel="manifest" href="/myblog/manifest.webmanifest" crossorigin="use-credentials">
    <link rel="alternate" type="application/atom+xml" href="https://sewar-x.github.io/myblog/atom.xml" title="Sewen 博客 Atom Feed">
    <link rel="alternate" type="application/json" href="https://sewar-x.github.io/myblog/rss.xml" title="Sewen 博客 JSON Feed">
    <link rel="alternate" type="application/rss+xml" href="https://sewar-x.github.io/myblog/rss.xml" title="Sewen 博客 RSS Feed">
    <meta name="description" content="sewen 的前端学习笔记、博客、前端基础总结、技术深度剖析、面试题总结、算法总结、项目过程总结">
    <meta property="og:url" content="https://sewar-x.github.io/myblog/javascript/">
    <meta property="og:site_name" content="Sewen 博客">
    <meta property="og:title" content="JavaScript 基础">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="en-US">
    <meta name="theme-color" content="#46bd87">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <link rel="preload" href="/myblog/assets/css/0.styles.645fbc6f.css" as="style"><link rel="preload" href="/myblog/assets/js/app.9d2b617a.js" as="script"><link rel="preload" href="/myblog/assets/js/layout-Layout.d2d4ce64.js" as="script"><link rel="preload" href="/myblog/assets/js/page-JavaScript基础.551be887.js" as="script"><link rel="preload" href="/myblog/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-components/Blog/BlogHome~layout-components/~2222f443.5835591a.js" as="script"><link rel="prefetch" href="/myblog/assets/js/199.a9216960.js"><link rel="prefetch" href="/myblog/assets/js/200.4c66fc79.js"><link rel="prefetch" href="/myblog/assets/js/layout-Blog.1fca7e90.js"><link rel="prefetch" href="/myblog/assets/js/layout-NotFound.3c74e8aa.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/AlgoliaSearch/Dropdown.70fcebe7.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Anchor.3235541c.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/ArticleInfo.7b815b20.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/ArticleItem.b0e177e1.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/ArticleList.d1cf1b24.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/ArticleType.b630b80e.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/BlogHero.621312ba.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/BlogHome.4fe44489.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/BlogInfo.b2a94760.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/BlogPage.e0fbe820.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/BloggerInfo.0df38355.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/CategoryList.ec1bcd96.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/ProjectList.8550a110.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/TagList.bcf7b782.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/Timeline.b6cf5471.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Blog/TimelineList.3c6e08a6.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Clipboard.e940a903.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Common.820a8694.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Home.70383986.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/MyTransition.0de46069.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/DropdownLink.e3f6c118.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/NavLink.93b11770.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/NavLinks.8ba214e6.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/Navbar.b90a94f9.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/RepoLink.663a7f55.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Navbar/SidebarButton.76b0035a.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Page.98b5d09c.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/PageFooter.20bc9bd8.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/PageMeta.b7e6b12f.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/PageNav.8305dd1f.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Password.45e0e82a.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/DropdownTransition.068c5eea.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/Sidebar.f6f90d52.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/SidebarDropdownLink.505127a8.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/SidebarGroup.7eecf370.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/SidebarLink.6e39fe32.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Sidebar/SidebarNavLinks.0f8566cb.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Theme/DarkmodeSwitch.20ac7b92.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Theme/ThemeColor.6086e4ed.js"><link rel="prefetch" href="/myblog/assets/js/layout-components/Theme/ThemeOptions.483238c9.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/ArticleIcon.0a22e2b1.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/AutoIcon.2ff1c790.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/BookIcon.419b49ba.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/DarkIcon.7d81873b.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/EditIcon.8ada485d.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/EmptyIcon.d704a5cf.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/I18nIcon.ffad8b3e.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/LightIcon.47d807da.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/LinkIcon.1a8a7826.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/LockIcon.a29a2b79.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/NextIcon.0214ee59.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/Page404Icon.8bc1ebbb.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/PresentationIcon.17500d9b.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/PrevIcon.2ae04a70.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/ProjectIcon.b336d567.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/StickyIcon.0f509b9d.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Baidu.244b9a41.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Bitbucket.11ba94e1.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Dingding.e8a3d90d.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Discord.3295a55b.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Dribbble.464dac3b.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Email.f9254caa.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Evernote.991472fb.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Facebook.08e78e47.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Flipboard.a1124d0f.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Gitee.c44bc20a.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Github.5667e5ae.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Gitlab.ad95c7a7.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Gmail.b5acc6bc.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Instagram.56be85f2.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Lines.d9db3dce.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Linkedin.b82d8d8b.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Pinterest.0f3ffe71.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Pocket.41ef3c92.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/QQ.7558f4ba.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Qzone.bf658fae.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Reddit.9c4c95ee.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Rss.9780139e.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Steam.06abbae2.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Twitter.26fa5bda.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Wechat.9cac8c4c.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Weibo.5206a632.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Whatsapp.0738f1e3.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Youtube.f41fd7f2.js"><link rel="prefetch" href="/myblog/assets/js/layout-icons/media/Zhihu.4d851d2f.js"><link rel="prefetch" href="/myblog/assets/js/page--0abc50bf.0d6f1484.js"><link rel="prefetch" href="/myblog/assets/js/page--1cd40f4c.dd76c7b3.js"><link rel="prefetch" href="/myblog/assets/js/page--53f93199.e80bdec8.js"><link rel="prefetch" href="/myblog/assets/js/page--5afd2fd0.adea4e92.js"><link rel="prefetch" href="/myblog/assets/js/page--67c584d3.0a3f3cd9.js"><link rel="prefetch" href="/myblog/assets/js/page--776a8506.cdf48aac.js"><link rel="prefetch" href="/myblog/assets/js/page-CSS.eb94b29f.js"><link rel="prefetch" href="/myblog/assets/js/page-Chrome开发工具使用指南.a2675120.js"><link rel="prefetch" href="/myblog/assets/js/page-DevServer.0281863d.js"><link rel="prefetch" href="/myblog/assets/js/page-Echarts二次封装.4387b8ad.js"><link rel="prefetch" href="/myblog/assets/js/page-Elementui与Element-plusui二次封装.82f12a09.js"><link rel="prefetch" href="/myblog/assets/js/page-Git基础.03c616ad.js"><link rel="prefetch" href="/myblog/assets/js/page-Git规范.e2fdc38a.js"><link rel="prefetch" href="/myblog/assets/js/page-HTML.1e3c14b9.js"><link rel="prefetch" href="/myblog/assets/js/page-Home.f0b7e772.js"><link rel="prefetch" href="/myblog/assets/js/page-JSON配置化组件二次封装.12060fd9.js"><link rel="prefetch" href="/myblog/assets/js/page-JS原理实现.3c427e19.js"><link rel="prefetch" href="/myblog/assets/js/page-JS应用题.3d313b34.js"><link rel="prefetch" href="/myblog/assets/js/page-Linux.c6159ebd.js"><link rel="prefetch" href="/myblog/assets/js/page-Loader和Plugin原理.b2971b76.js"><link rel="prefetch" href="/myblog/assets/js/page-MySQL.0b1d704a.js"><link rel="prefetch" href="/myblog/assets/js/page-NPM.a55851b2.js"><link rel="prefetch" href="/myblog/assets/js/page-Node.ec405a21.js"><link rel="prefetch" href="/myblog/assets/js/page-Nodejs常见问题集合.12844e69.js"><link rel="prefetch" href="/myblog/assets/js/page-Node性能优化.b4ea1c34.js"><link rel="prefetch" href="/myblog/assets/js/page-Promise专题.7869a31b.js"><link rel="prefetch" href="/myblog/assets/js/page-React.d76cf0ac.js"><link rel="prefetch" href="/myblog/assets/js/page-SSG移动端项目实践.2122615b.js"><link rel="prefetch" href="/myblog/assets/js/page-TypeScript.4f597fda.js"><link rel="prefetch" href="/myblog/assets/js/page-Vite.637881bf.js"><link rel="prefetch" href="/myblog/assets/js/page-Vite原理解析.6677fdb4.js"><link rel="prefetch" href="/myblog/assets/js/page-Vue25项目webpack构建分析.7bbea0fa.js"><link rel="prefetch" href="/myblog/assets/js/page-Vue2VsVue3.10be4140.js"><link rel="prefetch" href="/myblog/assets/js/page-Vue2x原理源码分析.e9e753b6.js"><link rel="prefetch" href="/myblog/assets/js/page-Vue3基础.210247ff.js"><link rel="prefetch" href="/myblog/assets/js/page-Vue3源码分析.17379e04.js"><link rel="prefetch" href="/myblog/assets/js/page-VueCli源码分析.afc3c83f.js"><link rel="prefetch" href="/myblog/assets/js/page-VueRouter原理分析.0a092eb6.js"><link rel="prefetch" href="/myblog/assets/js/page-VueSSR原理分析.63006040.js"><link rel="prefetch" href="/myblog/assets/js/page-VueVsReact.2156be28.js"><link rel="prefetch" href="/myblog/assets/js/page-Vuex原理分析.5ba3e6e4.js"><link rel="prefetch" href="/myblog/assets/js/page-WEB安全.5aa0eeef.js"><link rel="prefetch" href="/myblog/assets/js/page-WebPack构建原理.9c29703e.js"><link rel="prefetch" href="/myblog/assets/js/page-webpackAPI分析.4c8b152b.js"><link rel="prefetch" href="/myblog/assets/js/page-webpack优化.dcc6c3bc.js"><link rel="prefetch" href="/myblog/assets/js/page-webpack基础.3820ee6c.js"><link rel="prefetch" href="/myblog/assets/js/page-webpack项目实践.77e22417.js"><link rel="prefetch" href="/myblog/assets/js/page-一次后台管理系统的性能优化.7c2d8712.js"><link rel="prefetch" href="/myblog/assets/js/page-从零到一搭建SSR项目.855376fc.js"><link rel="prefetch" href="/myblog/assets/js/page-从零到一搭建Vue2项目和规范设计.93017fd2.js"><link rel="prefetch" href="/myblog/assets/js/page-从零到一搭建Vue3单页面应用.de152d54.js"><link rel="prefetch" href="/myblog/assets/js/page-从零到一搭建公共组件库.93278073.js"><link rel="prefetch" href="/myblog/assets/js/page-从零到一搭建移动端SSG项目.9c113d06.js"><link rel="prefetch" href="/myblog/assets/js/page-使用docker部署Node服务.5cf328fd.js"><link rel="prefetch" href="/myblog/assets/js/page-分治.e3dfc22d.js"><link rel="prefetch" href="/myblog/assets/js/page-前端发版静态资源404问题.9eb1ca89.js"><link rel="prefetch" href="/myblog/assets/js/page-前端存储.cd82cf54.js"><link rel="prefetch" href="/myblog/assets/js/page-前端工程化.1e6e58d0.js"><link rel="prefetch" href="/myblog/assets/js/page-前端性能优化方案.83718d22.js"><link rel="prefetch" href="/myblog/assets/js/page-前端架构实践.171dbc0f.js"><link rel="prefetch" href="/myblog/assets/js/page-前端渲染架构.3b783de8.js"><link rel="prefetch" href="/myblog/assets/js/page-前端自动部署.5076846c.js"><link rel="prefetch" href="/myblog/assets/js/page-前端部署原理.82ecd8a7.js"><link rel="prefetch" href="/myblog/assets/js/page-动态规划.a3af92f1.js"><link rel="prefetch" href="/myblog/assets/js/page-哈希表.c76000e8.js"><link rel="prefetch" href="/myblog/assets/js/page-回溯算法.cd914c32.js"><link rel="prefetch" href="/myblog/assets/js/page-图.dfd9828a.js"><link rel="prefetch" href="/myblog/assets/js/page-基础.7bf5a37b.js"><link rel="prefetch" href="/myblog/assets/js/page-堆.4657e538.js"><link rel="prefetch" href="/myblog/assets/js/page-字符串.252f2a08.js"><link rel="prefetch" href="/myblog/assets/js/page-异步编程.904f4c65.js"><link rel="prefetch" href="/myblog/assets/js/page-性能优化指标和监控.f2175836.js"><link rel="prefetch" href="/myblog/assets/js/page-排序算法.c7a51b99.js"><link rel="prefetch" href="/myblog/assets/js/page-搭建低代码平台.19eaf5ec.js"><link rel="prefetch" href="/myblog/assets/js/page-操作系统.473c4281.js"><link rel="prefetch" href="/myblog/assets/js/page-数学运算.c82748fb.js"><link rel="prefetch" href="/myblog/assets/js/page-数据结构算法.84480586.js"><link rel="prefetch" href="/myblog/assets/js/page-数组.692b0d0a.js"><link rel="prefetch" href="/myblog/assets/js/page-权限管理.c7e10db0.js"><link rel="prefetch" href="/myblog/assets/js/page-查找.790e52df.js"><link rel="prefetch" href="/myblog/assets/js/page-栈和队列.8dbc3586.js"><link rel="prefetch" href="/myblog/assets/js/page-树.24efdeaa.js"><link rel="prefetch" href="/myblog/assets/js/page-浏览器.bee9ec04.js"><link rel="prefetch" href="/myblog/assets/js/page-混合桌面应用开发.9e10d1c3.js"><link rel="prefetch" href="/myblog/assets/js/page-登录.bb830451.js"><link rel="prefetch" href="/myblog/assets/js/page-目录.c85b4d0b.js"><link rel="prefetch" href="/myblog/assets/js/page-移动端开发.56ac22ec.js"><link rel="prefetch" href="/myblog/assets/js/page-组件和组件封装.b5e86da2.js"><link rel="prefetch" href="/myblog/assets/js/page-计算机网络基础.0a106662.js"><link rel="prefetch" href="/myblog/assets/js/page-设计模式.ffdc7cfd.js"><link rel="prefetch" href="/myblog/assets/js/page-调试技巧.485ae36e.js"><link rel="prefetch" href="/myblog/assets/js/page-贪心算法.0f417640.js"><link rel="prefetch" href="/myblog/assets/js/page-输入url到页面展示全过程.510aef2e.js"><link rel="prefetch" href="/myblog/assets/js/page-递归.5e55e552.js"><link rel="prefetch" href="/myblog/assets/js/page-链表.1cf6927f.js"><link rel="prefetch" href="/myblog/assets/js/page-项目总结.ffcd2a4b.js"><link rel="prefetch" href="/myblog/assets/js/vendors~docsearch.f3877d0d.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-components/Blog/BlogHome~layout-components/~5d377965.d9712593.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-Blog~layout-Layout~layout-components/Blog/ArticleItem~layout-components/Blog/ArticleL~b56f3aac.47bb5cb5.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-NotFound~layout-components/Common~layout-components/Page.57d58db9.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-Slide.81546b3b.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-components/AlgoliaSearch/Full.b30f067a.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-components/Blog/BlogPage.bcccbd38.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-components/Navbar/Navbar.e2a7361e.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-components/Page.6c65077c.js"><link rel="prefetch" href="/myblog/assets/js/vendors~layout-components/Sidebar/Sidebar.34cd9cf7.js"><link rel="prefetch" href="/myblog/assets/js/vendors~photo-swipe.428df1da.js">
    <link rel="stylesheet" href="/myblog/assets/css/0.styles.645fbc6f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container has-navbar has-sidebar has-anchor"><header class="navbar"><!----> <div class="content__navbar-start"></div> <button title="Sidebar Button" class="sidebar-button"><span class="icon"></span></button> <a href="/myblog/" class="home-link router-link-active"><img src="./mylogo.png" alt="Sewen 博客" class="logo"> <!----> <span class="site-name can-hide">Sewen 博客</span></a> <!----> <div class="content__navbar-center"></div> <div class="links"><button tabindex="-1" aria-hidden="true" class="color-button"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="skin-icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4
        38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32
        51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0
        102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2
        6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4
        0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2
        9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224
        419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4
        470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0
        22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6
        12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128
        505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2
        16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8
        86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4
        80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6
        6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg> <div class="color-picker-menu" style="display:none;"><div class="theme-options"><ul class="themecolor-select"><label for="themecolor-select">Theme Color:</label> <li><span class="default-theme"></span></li> </ul> <div class="darkmode-toggle"><label for="darkmode-toggle" class="desc">Theme Mode:</label> <div class="darkmode-switch"><div class="item day"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon light-icon"><path d="M512 256a42.667 42.667 0 0 0 42.667-42.667V128a42.667 42.667 0 0 0-85.334 0v85.333A42.667 42.667 0 0 0 512 256zm384 213.333h-85.333a42.667 42.667 0 0 0 0 85.334H896a42.667 42.667 0 0 0 0-85.334zM256 512a42.667 42.667 0 0 0-42.667-42.667H128a42.667 42.667 0 0 0 0 85.334h85.333A42.667 42.667 0 0 0 256 512zm9.387-298.667a42.667 42.667 0 0 0-59.307 62.72l61.44 59.307a42.667 42.667 0 0 0 31.147 11.947 42.667 42.667 0 0 0 30.72-13.227 42.667 42.667 0 0 0 0-60.16zm459.946 133.974a42.667 42.667 0 0 0 29.44-11.947l61.44-59.307a42.667 42.667 0 0 0-57.6-62.72l-61.44 60.587a42.667 42.667 0 0 0 0 60.16 42.667 42.667 0 0 0 28.16 13.227zM512 768a42.667 42.667 0 0 0-42.667 42.667V896a42.667 42.667 0 0 0 85.334 0v-85.333A42.667 42.667 0 0 0 512 768zm244.48-79.36a42.667 42.667 0 0 0-59.307 61.44l61.44 60.587a42.667 42.667 0 0 0 29.44 11.946 42.667 42.667 0 0 0 30.72-12.8 42.667 42.667 0 0 0 0-60.586zm-488.96 0-61.44 59.307a42.667 42.667 0 0 0 0 60.586 42.667 42.667 0 0 0 30.72 12.8 42.667 42.667 0 0 0 28.587-10.666l61.44-59.307a42.667 42.667 0 0 0-59.307-61.44zM512 341.333A170.667 170.667 0 1 0 682.667 512 170.667 170.667 0 0 0 512 341.333z" fill="currentColor"></path></svg></div> <div class="item auto active"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon auto-icon"><path d="M460.864 539.072H564.8L510.592 376l-49.728 163.072zM872 362.368V149.504H659.648L510.528 0l-149.12 149.504H149.12v212.928L0 511.872l149.12 149.504v212.928h212.352l149.12 149.504 149.12-149.504h212.352V661.376l149.12-149.504L872 362.368zM614.464 693.12l-31.616-90.624H438.272l-31.616 90.624h-85.888l144.576-407.68h90.368l144.576 407.68h-85.824zm0 0" fill="currentColor"></path></svg></div> <div class="item night"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon dark-icon"><path d="M935.539 630.402c-11.43-11.432-28.674-14.739-43.531-8.354-46.734 20.103-96.363 30.297-147.508 30.297-99.59 0-193.221-38.784-263.64-109.203-108.637-108.637-139.61-270.022-78.908-411.148a39.497 39.497 0 0 0-51.886-51.887c-52.637 22.64-100.017 54.81-140.826 95.616-85.346 85.346-132.346 198.821-132.346 319.52 0 120.7 47.001 234.172 132.347 319.519S408.063 947.11 528.76 947.11c120.7 0 234.172-47.003 319.52-132.351 40.809-40.81 72.978-88.19 95.616-140.826a39.497 39.497 0 0 0-8.356-43.532z" fill="currentColor"></path></svg></div></div> <!----></div></div></div></button> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/myblog/" class="nav-link router-link-active"><!---->
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Front-end Basics" class="dropdown-title"><span class="title"><!---->
        前端基础
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/html/" class="nav-link"><!---->
  HTML
</a></li><li class="dropdown-item"><a href="/myblog/css/" class="nav-link"><!---->
  Css
</a></li><li class="dropdown-item"><a href="/myblog/javascript/" aria-current="page" class="nav-link router-link-exact-active router-link-active"><!---->
  JavaScript
</a></li><li class="dropdown-item"><a href="/myblog/typescript/" class="nav-link"><!---->
  TypeScript
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><span class="title"><!---->
        计算机基础
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/algorithms/" class="nav-link"><!---->
  数据结构和算法
</a></li><li class="dropdown-item"><a href="/myblog/network/" class="nav-link"><!---->
  计算机网络/HTTP
</a></li><li class="dropdown-item"><a href="/myblog/network/输入url到页面展示全过程/" class="nav-link"><!---->
  输入url到页面展示全过程
</a></li><li class="dropdown-item"><a href="/myblog/operating-system/" class="nav-link"><!---->
  操作系统
</a></li><li class="dropdown-item"><a href="/myblog/design-model/" class="nav-link"><!---->
  设计模式
</a></li><li class="dropdown-item"><a href="/myblog/Web-Security/" class="nav-link"><!---->
  Web安全
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架和源码分析" class="dropdown-title"><span class="title"><!---->
        框架和源码分析
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/vue/Vue2原理和源码分析.html" class="nav-link"><!---->
  Vue 专题
</a></li><li class="dropdown-item"><a href="/myblog/React/" class="nav-link"><!---->
  React 专题
</a></li><li class="dropdown-item"><a href="/myblog/webpack/webpack构建原理.html" class="nav-link"><!---->
  webpack 专题
</a></li><li class="dropdown-item"><a href="/myblog/vite/" class="nav-link"><!---->
  vite 专题
</a></li><li class="dropdown-item"><a href="/myblog/axios/" class="nav-link"><!---->
  Axios 专题
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="浏览器" class="dropdown-title"><span class="title"><!---->
        浏览器
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/browser/浏览器原理/" class="nav-link"><!---->
  浏览器原理
</a></li><li class="dropdown-item"><a href="/myblog/browser/前端缓存和存储/" class="nav-link"><!---->
  前端缓存和存储
</a></li><li class="dropdown-item"><a href="/myblog/performance/前端调试技巧/" class="nav-link"><!---->
  前端调试技巧
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="node.js" class="dropdown-title"><span class="title"><!---->
        服务器
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/node/" class="nav-link"><!---->
  Node.js
</a></li><li class="dropdown-item"><a href="/myblog/linux/" class="nav-link"><!---->
  Linux
</a></li><li class="dropdown-item"><a href="/myblog/mysql/" class="nav-link"><!---->
  MySQL
</a></li><li class="dropdown-item"><a href="/myblog/nginx/" class="nav-link"><!---->
  Nginx
</a></li><li class="dropdown-item"><a href="/myblog/docker/" class="nav-link"><!---->
  Docker
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="浏览器和性能优化" class="dropdown-title"><span class="title"><!---->
        性能优化
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/performance/性能优化指标和监控/" class="nav-link"><!---->
  性能优化指标和监控
</a></li><li class="dropdown-item"><a href="/myblog/performance/前端性能优化方案/" class="nav-link"><!---->
  前端性能优化方案
</a></li><li class="dropdown-item"><a href="/myblog/performance/一次管理后台的渲染优化/" class="nav-link"><!---->
  一次管理后台的渲染优化
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端工程" class="dropdown-title"><span class="title"><!---->
        前端工程
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/Front-end-Engineering/前端工程化/" class="nav-link"><!---->
  前端工程化
</a></li><li class="dropdown-item"><a href="/myblog/Front-end-Engineering/前端渲染架构/" class="nav-link"><!---->
  前端渲染架构
</a></li><li class="dropdown-item"><a href="/myblog/Front-end-Engineering/前端架构实践/" class="nav-link"><!---->
  前端架构实践
</a></li><li class="dropdown-item"><a href="/myblog/Front-end-Engineering/npm/" class="nav-link"><!---->
  npm
</a></li><li class="dropdown-item"><a href="/myblog/git/" class="nav-link"><!---->
  Git
</a></li><li class="dropdown-item"><a href="/myblog/projectDeploy/自动构建和部署/" class="nav-link"><!---->
  自动构建和部署
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目实践" class="dropdown-title"><span class="title"><!---->
        项目实践
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/projectDeploy/" class="nav-link"><!---->
  前端部署
</a></li><li class="dropdown-item"><a href="/myblog/componentsEncapsulation/组件和组件封装实践.html" class="nav-link"><!---->
  组件和组件封装实践
</a></li><li class="dropdown-item"><a href="/myblog/projectsSummary/登录与单点登录/" class="nav-link"><!---->
  登录与单点登录
</a></li><li class="dropdown-item"><a href="/myblog/projectsSummary/权限管理方案实践/" class="nav-link"><!---->
  权限管理方案实践
</a></li><li class="dropdown-item"><a href="/myblog/projectsSummary/Echarts二次封装实践/" class="nav-link"><!---->
  Echarts二次封装实践
</a></li><li class="dropdown-item"><a href="/myblog/projectsSummary/文档在线预览和编辑方案/" class="nav-link"><!---->
  文档在线预览和编辑方案
</a></li><li class="dropdown-item"><a href="/myblog/projectsSummary/移动端开发实践/" class="nav-link"><!---->
  移动端开发实践
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目搭建到原理分析" class="dropdown-title"><span class="title"><!---->
        项目搭建
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/myblog/projectsSummary/从零到一搭建SSR项目/" class="nav-link"><!---->
  从零到一搭建SSR项目
</a></li><li class="dropdown-item"><a href="/myblog/projectsSummary/从零到一搭建移动端SSG项目/" class="nav-link"><!---->
  从零到一搭建移动端SSG项目
</a></li><li class="dropdown-item"><a href="/myblog/projectsSummary/移动端SSG项目实践/" class="nav-link"><!---->
  移动端SSG项目实践
</a></li><li class="dropdown-item"><a href="/myblog/projectsSummary/从零到一搭建Vue2工程化项目/" class="nav-link"><!---->
  从零到一搭建Vue2工程化项目
</a></li><li class="dropdown-item"><a href="/myblog/projectsSummary/从零到一搭建Vue3工程化项目/" class="nav-link"><!---->
  从零到一搭建Vue3工程化项目
</a></li><li class="dropdown-item"><a href="/myblog/projectsSummary/搭建低代码平台/" class="nav-link"><!---->
  搭建低代码平台
</a></li><li class="dropdown-item"><a href="/myblog/projectsSummary/混合桌面应用开发实践/" class="nav-link"><!---->
  混合桌面应用开发实践
</a></li></ul></div></div></nav> <!----> <!----> <!----> <div class="content__navbar-end"></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><div vocab="https://schema.org/" typeof="Person" class="blogger-info mobile"><div data-balloon-pos="down" role="navigation" class="blogger hasIntro"><img property="image" alt="Blogger Avatar" src="./mylogo.png" class="avatar round"> <div property="name" class="name">Sewen 博客</div> <meta property="url" content="../outline.md"></div> <div class="num-wrapper"><div><div class="num">91</div> <div>Articles</div></div> <div><div class="num">0</div> <div>Category</div></div> <div><div class="num">0</div> <div>Tags</div></div> <div><div class="num">91</div> <div>Timeline</div></div></div> <div class="media-links-wrapper"><a href="https://github.com/Sewar-x/myblog" rel="noopener noreferrer" target="_blank" aria-label="Github" data-balloon-pos="up" class="media-link"><span class="sr-only">Github</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-github"><circle cx="512" cy="512" r="512" fill="#171515"></circle> <path d="M509.423 146.442c-200.317 0-362.756 162.42-362.756 362.8 0 160.266 103.936 296.24 248.109 344.217 18.139 3.327 24.76-7.872 24.76-17.486 0-8.613-.313-31.427-.49-61.702-100.912 21.923-122.205-48.63-122.205-48.63-16.495-41.91-40.28-53.067-40.28-53.067-32.937-22.51 2.492-22.053 2.492-22.053 36.407 2.566 55.568 37.386 55.568 37.386 32.362 55.438 84.907 39.43 105.58 30.143 3.296-23.444 12.667-39.43 23.032-48.498-80.557-9.156-165.246-40.28-165.246-179.297 0-39.604 14.135-71.988 37.342-97.348-3.731-9.178-16.18-46.063 3.556-96.009 0 0 30.46-9.754 99.76 37.19 28.937-8.048 59.97-12.071 90.823-12.211 30.807.14 61.843 4.165 90.822 12.21 69.26-46.944 99.663-37.189 99.663-37.189 19.792 49.946 7.34 86.831 3.61 96.01 23.25 25.359 37.29 57.742 37.29 97.347 0 139.366-84.82 170.033-165.637 179.013 13.026 11.2 24.628 33.342 24.628 67.182 0 48.498-.445 87.627-.445 99.521 0 9.702 6.535 20.988 24.945 17.444 144.03-48.067 247.881-183.95 247.881-344.175 0-200.378-162.442-362.798-362.802-362.798z" fill="#FFF"></path></svg></a><a href="1567910907" rel="noopener noreferrer" target="_blank" aria-label="Wechat" data-balloon-pos="up" class="media-link"><span class="sr-only">Wechat</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-wechat"><circle cx="512" cy="512" r="512" fill="#1AC88E"></circle> <path d="M827.551 578.742a176.583 176.583 0 0 0-185.685-158.379 172.942 172.942 0 0 0-186.3 158.379 172.942 172.942 0 0 0 185.686 158.379 282.169 282.169 0 0 0 65.536-10.923l60.689 32.768-16.384-54.613a166.275 166.275 0 0 0 76.458-125.611zm-245.76-27.307a21.845 21.845 0 1 1 0-43.69 24.872 24.872 0 0 1 27.307 21.845 24.872 24.872 0 0 1-27.921 21.845h.614zm121.356 0a21.845 21.845 0 1 1 0-43.69 24.872 24.872 0 0 1 27.306 21.845 24.872 24.872 0 0 1-28.512 21.845h1.206z" fill="#FFF"></path> <path d="M623.662 400.953h21.23A222.709 222.709 0 0 0 419.772 245.6a208.145 208.145 0 0 0-223.323 189.94 182.044 182.044 0 0 0 89.201 150.483l-22.436 67.356 78.279-39.435a389.575 389.575 0 0 0 78.279 10.923h20.616a163.226 163.226 0 0 1-6.667-46.718 182.044 182.044 0 0 1 189.94-177.197zm-121.379-60.69a27.921 27.921 0 1 1 0 55.843 31.562 31.562 0 0 1-33.36-27.921 31.562 31.562 0 0 1 34.59-27.921h-1.23zM346.34 396.107a31.562 31.562 0 0 1-33.383-27.921 31.562 31.562 0 0 1 33.383-27.921 27.921 27.921 0 1 1 0 55.842z" fill="#FFF"></path></svg></a></div></div> <hr> <!----> <div class="content__sidebar-top"></div> <nav class="sidebar-nav-links"><div class="nav-item"><a href="/myblog/" class="nav-link router-link-active"><!---->
  首页
</a></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="Front-end Basics" class="dropdown-title"><span class="title"><!---->
      前端基础
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/html/" class="nav-link"><!---->
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/myblog/css/" class="nav-link"><!---->
  Css
</a></li><li class="dropdown-item"><!----> <a href="/myblog/javascript/" aria-current="page" class="nav-link router-link-exact-active router-link-active"><!---->
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/myblog/typescript/" class="nav-link"><!---->
  TypeScript
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><span class="title"><!---->
      计算机基础
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/algorithms/" class="nav-link"><!---->
  数据结构和算法
</a></li><li class="dropdown-item"><!----> <a href="/myblog/network/" class="nav-link"><!---->
  计算机网络/HTTP
</a></li><li class="dropdown-item"><!----> <a href="/myblog/network/输入url到页面展示全过程/" class="nav-link"><!---->
  输入url到页面展示全过程
</a></li><li class="dropdown-item"><!----> <a href="/myblog/operating-system/" class="nav-link"><!---->
  操作系统
</a></li><li class="dropdown-item"><!----> <a href="/myblog/design-model/" class="nav-link"><!---->
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/myblog/Web-Security/" class="nav-link"><!---->
  Web安全
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="框架和源码分析" class="dropdown-title"><span class="title"><!---->
      框架和源码分析
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/vue/Vue2原理和源码分析.html" class="nav-link"><!---->
  Vue 专题
</a></li><li class="dropdown-item"><!----> <a href="/myblog/React/" class="nav-link"><!---->
  React 专题
</a></li><li class="dropdown-item"><!----> <a href="/myblog/webpack/webpack构建原理.html" class="nav-link"><!---->
  webpack 专题
</a></li><li class="dropdown-item"><!----> <a href="/myblog/vite/" class="nav-link"><!---->
  vite 专题
</a></li><li class="dropdown-item"><!----> <a href="/myblog/axios/" class="nav-link"><!---->
  Axios 专题
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="浏览器" class="dropdown-title"><span class="title"><!---->
      浏览器
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/browser/浏览器原理/" class="nav-link"><!---->
  浏览器原理
</a></li><li class="dropdown-item"><!----> <a href="/myblog/browser/前端缓存和存储/" class="nav-link"><!---->
  前端缓存和存储
</a></li><li class="dropdown-item"><!----> <a href="/myblog/performance/前端调试技巧/" class="nav-link"><!---->
  前端调试技巧
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="node.js" class="dropdown-title"><span class="title"><!---->
      服务器
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/node/" class="nav-link"><!---->
  Node.js
</a></li><li class="dropdown-item"><!----> <a href="/myblog/linux/" class="nav-link"><!---->
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/myblog/mysql/" class="nav-link"><!---->
  MySQL
</a></li><li class="dropdown-item"><!----> <a href="/myblog/nginx/" class="nav-link"><!---->
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/myblog/docker/" class="nav-link"><!---->
  Docker
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="浏览器和性能优化" class="dropdown-title"><span class="title"><!---->
      性能优化
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/performance/性能优化指标和监控/" class="nav-link"><!---->
  性能优化指标和监控
</a></li><li class="dropdown-item"><!----> <a href="/myblog/performance/前端性能优化方案/" class="nav-link"><!---->
  前端性能优化方案
</a></li><li class="dropdown-item"><!----> <a href="/myblog/performance/一次管理后台的渲染优化/" class="nav-link"><!---->
  一次管理后台的渲染优化
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="前端工程" class="dropdown-title"><span class="title"><!---->
      前端工程
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/Front-end-Engineering/前端工程化/" class="nav-link"><!---->
  前端工程化
</a></li><li class="dropdown-item"><!----> <a href="/myblog/Front-end-Engineering/前端渲染架构/" class="nav-link"><!---->
  前端渲染架构
</a></li><li class="dropdown-item"><!----> <a href="/myblog/Front-end-Engineering/前端架构实践/" class="nav-link"><!---->
  前端架构实践
</a></li><li class="dropdown-item"><!----> <a href="/myblog/Front-end-Engineering/npm/" class="nav-link"><!---->
  npm
</a></li><li class="dropdown-item"><!----> <a href="/myblog/git/" class="nav-link"><!---->
  Git
</a></li><li class="dropdown-item"><!----> <a href="/myblog/projectDeploy/自动构建和部署/" class="nav-link"><!---->
  自动构建和部署
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="项目实践" class="dropdown-title"><span class="title"><!---->
      项目实践
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/projectDeploy/" class="nav-link"><!---->
  前端部署
</a></li><li class="dropdown-item"><!----> <a href="/myblog/componentsEncapsulation/组件和组件封装实践.html" class="nav-link"><!---->
  组件和组件封装实践
</a></li><li class="dropdown-item"><!----> <a href="/myblog/projectsSummary/登录与单点登录/" class="nav-link"><!---->
  登录与单点登录
</a></li><li class="dropdown-item"><!----> <a href="/myblog/projectsSummary/权限管理方案实践/" class="nav-link"><!---->
  权限管理方案实践
</a></li><li class="dropdown-item"><!----> <a href="/myblog/projectsSummary/Echarts二次封装实践/" class="nav-link"><!---->
  Echarts二次封装实践
</a></li><li class="dropdown-item"><!----> <a href="/myblog/projectsSummary/文档在线预览和编辑方案/" class="nav-link"><!---->
  文档在线预览和编辑方案
</a></li><li class="dropdown-item"><!----> <a href="/myblog/projectsSummary/移动端开发实践/" class="nav-link"><!---->
  移动端开发实践
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="项目搭建到原理分析" class="dropdown-title"><span class="title"><!---->
      项目搭建
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/projectsSummary/从零到一搭建SSR项目/" class="nav-link"><!---->
  从零到一搭建SSR项目
</a></li><li class="dropdown-item"><!----> <a href="/myblog/projectsSummary/从零到一搭建移动端SSG项目/" class="nav-link"><!---->
  从零到一搭建移动端SSG项目
</a></li><li class="dropdown-item"><!----> <a href="/myblog/projectsSummary/移动端SSG项目实践/" class="nav-link"><!---->
  移动端SSG项目实践
</a></li><li class="dropdown-item"><!----> <a href="/myblog/projectsSummary/从零到一搭建Vue2工程化项目/" class="nav-link"><!---->
  从零到一搭建Vue2工程化项目
</a></li><li class="dropdown-item"><!----> <a href="/myblog/projectsSummary/从零到一搭建Vue3工程化项目/" class="nav-link"><!---->
  从零到一搭建Vue3工程化项目
</a></li><li class="dropdown-item"><!----> <a href="/myblog/projectsSummary/搭建低代码平台/" class="nav-link"><!---->
  搭建低代码平台
</a></li><li class="dropdown-item"><!----> <a href="/myblog/projectsSummary/混合桌面应用开发实践/" class="nav-link"><!---->
  混合桌面应用开发实践
</a></li></ul></div></div> <!----></nav> <!----> <div class="content__sidebar-center"></div> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><!----> <span class="title">JavaScript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/myblog/javascript/" aria-current="page" class="active sidebar-link">JavaScript 基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/javascript/#es6新特性" class="sidebar-link">ES6新特性</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#严格模式的限制" class="sidebar-link">严格模式的限制</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#script-标签加载脚本" class="sidebar-link">Script 标签加载脚本</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#js-延迟加载方式" class="sidebar-link">JS 延迟加载方式</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#内存分类" class="sidebar-link">内存分类</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#数据类型" class="sidebar-link">数据类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/javascript/#undefined-null" class="sidebar-link heading3">undefined &amp; null</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#nan" class="sidebar-link heading3">NaN</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#精度丢失" class="sidebar-link">精度丢失</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#整数相关问题" class="sidebar-link">整数相关问题</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#显示转换-隐式转换" class="sidebar-link">显示转换&amp;隐式转换</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#运算符规则" class="sidebar-link">运算符规则</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#位运算符" class="sidebar-link">位运算符</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/javascript/#异或运算" class="sidebar-link heading3">异或运算</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#尾后逗号" class="sidebar-link">尾后逗号</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#symbol" class="sidebar-link">Symbol</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#类型判断" class="sidebar-link">类型判断</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/javascript/#typeof-操作符" class="sidebar-link heading3">typeof 操作符</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#instanceof-操作符" class="sidebar-link heading3">instanceof 操作符</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#数据类型判断方法" class="sidebar-link heading3">数据类型判断方法</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#数组" class="sidebar-link">数组</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/javascript/#数组创建和检测" class="sidebar-link heading3">数组创建和检测</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#数组方法" class="sidebar-link heading3">数组方法</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#会改变原数组方法" class="sidebar-link heading3">会改变原数组方法</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#数组迭代" class="sidebar-link heading3">数组迭代</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#for-in-与-for-of-比较" class="sidebar-link heading3">for...in 与 for...of 比较</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#类数组" class="sidebar-link">类数组</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#字符串" class="sidebar-link">字符串</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/javascript/#字符串的不可变性" class="sidebar-link heading3">字符串的不可变性</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#object-对象" class="sidebar-link">Object 对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/javascript/#对象访问" class="sidebar-link heading3">对象访问</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#对象方法" class="sidebar-link heading3">对象方法</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#对象属性" class="sidebar-link heading3">对象属性</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#对象属性方法" class="sidebar-link heading3">对象属性方法</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#防篡改对象" class="sidebar-link heading3">防篡改对象</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#假值对象" class="sidebar-link heading3">假值对象</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#内置对象" class="sidebar-link heading3">内置对象</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#new操作符" class="sidebar-link heading3">new操作符</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#深浅拷贝" class="sidebar-link">深浅拷贝</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#集合" class="sidebar-link">集合</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/javascript/#set-集合" class="sidebar-link heading3">Set 集合</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#weakset" class="sidebar-link heading3">WeakSet</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#map-集合" class="sidebar-link heading3">Map 集合</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#set、map、object-比较" class="sidebar-link heading3">Set、Map、Object 比较</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#变量" class="sidebar-link">变量</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/javascript/#变量声明方式" class="sidebar-link heading3">变量声明方式</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#变量提升和函数提升" class="sidebar-link heading3">变量提升和函数提升</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#this-和-this-绑定" class="sidebar-link">this 和 this 绑定</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#执行环境-环境栈" class="sidebar-link">执行环境&amp;环境栈</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#作用域-作用域链" class="sidebar-link">作用域&amp;作用域链</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#闭包" class="sidebar-link">闭包</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#prototype-对象" class="sidebar-link">Prototype 对象</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#prototype属性和proto-属性" class="sidebar-link">Prototype属性和proto 属性</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#获取原型方法" class="sidebar-link">获取原型方法</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#constructor-属性" class="sidebar-link">constructor 属性</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#原型-原型链" class="sidebar-link">原型&amp;原型链</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#函数" class="sidebar-link">函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/javascript/#es5-函数" class="sidebar-link heading3">ES5 函数</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#箭头函数" class="sidebar-link heading3">箭头函数</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#箭头函数与普通函数的区别" class="sidebar-link heading3">箭头函数与普通函数的区别</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#其他函数" class="sidebar-link heading3">其他函数</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#函数柯里化" class="sidebar-link heading3">函数柯里化</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#对象" class="sidebar-link">对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/javascript/#创建对象方式有哪些" class="sidebar-link heading3">创建对象方式有哪些</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#创建对象方式比较" class="sidebar-link heading3">创建对象方式比较</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#对象继承方式" class="sidebar-link heading3">对象继承方式</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#对象继承方式比较" class="sidebar-link heading3">对象继承方式比较</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#类" class="sidebar-link">类</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/javascript/#class-类" class="sidebar-link heading3">Class 类</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#class-继承" class="sidebar-link heading3">Class 继承</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#reflect-对象" class="sidebar-link">Reflect 对象</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#object-defineproperty" class="sidebar-link">Object.defineProperty</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#proxy-对象" class="sidebar-link">Proxy 对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/javascript/#object-defineproperty-和-proxy-比较" class="sidebar-link heading3">Object.defineProperty 和 Proxy 比较</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#模块加载方案" class="sidebar-link">模块加载方案</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/javascript/#commonjs-模块" class="sidebar-link heading3">CommonJS 模块</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#es6模块" class="sidebar-link heading3">ES6模块</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#模块加载混合引用" class="sidebar-link heading3">模块加载混合引用</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#模块加载循环引用" class="sidebar-link heading3">模块加载循环引用</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#定时器" class="sidebar-link">定时器</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#垃圾回收" class="sidebar-link">垃圾回收</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/javascript/#内存泄漏" class="sidebar-link heading3">内存泄漏</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#ajax" class="sidebar-link">AJax</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/javascript/#创建-ajax-过程" class="sidebar-link heading3">创建 Ajax 过程</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#消息推送技术" class="sidebar-link">消息推送技术</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/javascript/#sse实现" class="sidebar-link heading3">SSE实现</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#websocket-实现" class="sidebar-link heading3">websocket 实现</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#跨页面通信方法" class="sidebar-link">跨页面通信方法</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#iframe框架" class="sidebar-link">Iframe框架</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#bom" class="sidebar-link">BOM</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#dom" class="sidebar-link">DOM</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/javascript/#dom事件分类" class="sidebar-link heading3">DOM事件分类</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#事件流" class="sidebar-link">事件流</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/javascript/#事件是如果实现的" class="sidebar-link heading3">事件是如果实现的？</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#事件委托-代理" class="sidebar-link heading3">事件委托(代理)</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#js-兼容性" class="sidebar-link">JS 兼容性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/javascript/#兼容性问题" class="sidebar-link heading3">兼容性问题</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/#兼容性统一处理方案" class="sidebar-link heading3">兼容性统一处理方案</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><!----> <span class="title">专题</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/myblog/javascript/%E5%BC%82%E6%AD%A5/" class="sidebar-link">异步编程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%BC%82%E6%AD%A5/#宏任务-微任务" class="sidebar-link">宏任务&amp;微任务</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%BC%82%E6%AD%A5/#浏览器事件循环" class="sidebar-link">浏览器事件循环</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%BC%82%E6%AD%A5/#node-事件循环" class="sidebar-link">Node 事件循环</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%BC%82%E6%AD%A5/#浏览器-node-事件循环区别" class="sidebar-link">浏览器&amp;Node 事件循环区别</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%BC%82%E6%AD%A5/#异步编程方式" class="sidebar-link">异步编程方式</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%BC%82%E6%AD%A5/#模拟异步操作方式" class="sidebar-link">模拟异步操作方式</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%BC%82%E6%AD%A5/#pomise-对象" class="sidebar-link">Pomise 对象</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%BC%82%E6%AD%A5/#async-await" class="sidebar-link">async await</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%BC%82%E6%AD%A5/#异步循环" class="sidebar-link">异步循环</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%BC%82%E6%AD%A5/#异步串行" class="sidebar-link">异步串行</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%BC%82%E6%AD%A5/#回调实现" class="sidebar-link heading3">回调实现</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%BC%82%E6%AD%A5/#异步并行" class="sidebar-link">异步并行</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%BC%82%E6%AD%A5/#全并行" class="sidebar-link heading3">全并行</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%BC%82%E6%AD%A5/#有限并行" class="sidebar-link heading3">有限并行</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%BC%82%E6%AD%A5/#异步题目" class="sidebar-link">异步题目</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%BC%82%E6%AD%A5/#异步api执行顺序" class="sidebar-link heading3">异步API执行顺序</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%BC%82%E6%AD%A5/#settimeout-与-setimmediate-输出顺序" class="sidebar-link heading3">setTimeout 与 setImmediate 输出顺序</a></li></ul></li></ul></li><li><a href="/myblog/javascript/Promise/" class="sidebar-link">Promise 专题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/javascript/Promise/#promise-基础" class="sidebar-link">Promise 基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/javascript/Promise/#promise-概念" class="sidebar-link heading3">Promise 概念</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/Promise/#then" class="sidebar-link heading3">then()</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/Promise/#错误处理" class="sidebar-link heading3">错误处理</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/Promise/#promise-值穿透" class="sidebar-link heading3">Promise 值穿透</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/Promise/#finally" class="sidebar-link heading3">finally()</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/Promise/#包装pomise-对象" class="sidebar-link heading3">包装Pomise 对象</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/Promise/#并发方法" class="sidebar-link heading3">并发方法</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/javascript/Promise/#promise-原理实现" class="sidebar-link">Promise 原理实现</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/Promise/#promise-执行顺序" class="sidebar-link">Promise 执行顺序</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/Promise/#promise-封装异步操作" class="sidebar-link">Promise 封装异步操作</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/Promise/#promise-特性" class="sidebar-link">Promise 特性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/javascript/Promise/#promise-特性问题" class="sidebar-link heading3">Promise 特性问题</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/Promise/#promise-应用题" class="sidebar-link heading3">Promise 应用题</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/javascript/Promise/#promisec串行" class="sidebar-link">Promisec串行</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/javascript/Promise/#串行概念" class="sidebar-link heading3">串行概念</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/Promise/#pomise-串行实现" class="sidebar-link heading3">Pomise 串行实现</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/Promise/#串行应用" class="sidebar-link heading3">串行应用</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/javascript/Promise/#promise-并行" class="sidebar-link">Promise 并行</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/javascript/Promise/#并行执行-api" class="sidebar-link heading3">并行执行 API</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/Promise/#并发控制" class="sidebar-link heading3">并发控制</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/javascript/Promise/#参考资料" class="sidebar-link">参考资料</a></li></ul></li><li><a href="/myblog/javascript/%E5%8E%9F%E7%90%86%E5%AE%9E%E7%8E%B0/" class="sidebar-link">JS原理实现</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%8E%9F%E7%90%86%E5%AE%9E%E7%8E%B0/#实现-new-操作符" class="sidebar-link">实现 new 操作符</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%8E%9F%E7%90%86%E5%AE%9E%E7%8E%B0/#实现-instanceof-操作符" class="sidebar-link">实现 instanceof 操作符</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%8E%9F%E7%90%86%E5%AE%9E%E7%8E%B0/#实现-object-create" class="sidebar-link">实现 Object.create()</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%8E%9F%E7%90%86%E5%AE%9E%E7%8E%B0/#实现-call" class="sidebar-link">实现 call()</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%8E%9F%E7%90%86%E5%AE%9E%E7%8E%B0/#实现-apply" class="sidebar-link">实现 apply()</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%8E%9F%E7%90%86%E5%AE%9E%E7%8E%B0/#实现-bind" class="sidebar-link">实现 bind()</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%8E%9F%E7%90%86%E5%AE%9E%E7%8E%B0/#实现-sort" class="sidebar-link">实现 sort()</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%8E%9F%E7%90%86%E5%AE%9E%E7%8E%B0/#实现准时的-settimeout" class="sidebar-link">实现准时的 setTimeout</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%8E%9F%E7%90%86%E5%AE%9E%E7%8E%B0/#实现深拷贝" class="sidebar-link">实现深拷贝</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%8E%9F%E7%90%86%E5%AE%9E%E7%8E%B0/#实现防抖" class="sidebar-link">实现防抖</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%8E%9F%E7%90%86%E5%AE%9E%E7%8E%B0/#实现节流" class="sidebar-link">实现节流</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%8E%9F%E7%90%86%E5%AE%9E%E7%8E%B0/#实现函数柯里化" class="sidebar-link">实现函数柯里化</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%8E%9F%E7%90%86%E5%AE%9E%E7%8E%B0/#柯里化函数题目" class="sidebar-link">柯里化函数题目</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%8E%9F%E7%90%86%E5%AE%9E%E7%8E%B0/#实现图片懒加载" class="sidebar-link">实现图片懒加载</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%8E%9F%E7%90%86%E5%AE%9E%E7%8E%B0/#实现-jsonp" class="sidebar-link">实现 JSONP</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%8E%9F%E7%90%86%E5%AE%9E%E7%8E%B0/#实现单例模式" class="sidebar-link">实现单例模式</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%8E%9F%E7%90%86%E5%AE%9E%E7%8E%B0/#观察者模式" class="sidebar-link">观察者模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%8E%9F%E7%90%86%E5%AE%9E%E7%8E%B0/#通用实现" class="sidebar-link heading3">通用实现</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%8E%9F%E7%90%86%E5%AE%9E%E7%8E%B0/#defineproperty-实现" class="sidebar-link heading3">defineProperty 实现</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%8E%9F%E7%90%86%E5%AE%9E%E7%8E%B0/#proxy实现" class="sidebar-link heading3">Proxy实现</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%8E%9F%E7%90%86%E5%AE%9E%E7%8E%B0/#发布订阅者模式" class="sidebar-link">发布订阅者模式</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%8E%9F%E7%90%86%E5%AE%9E%E7%8E%B0/#实现generator" class="sidebar-link">实现Generator</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%8E%9F%E7%90%86%E5%AE%9E%E7%8E%B0/#实现-async-await" class="sidebar-link">实现 async await</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><!----> <span class="title">应用</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/myblog/javascript/%E5%BA%94%E7%94%A8%E9%A2%98/" class="sidebar-link">JS应用题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%BA%94%E7%94%A8%E9%A2%98/#图片预加载和懒加载" class="sidebar-link">图片预加载和懒加载</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%BA%94%E7%94%A8%E9%A2%98/#图片预加载" class="sidebar-link heading3">图片预加载</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%BA%94%E7%94%A8%E9%A2%98/#图片懒加载" class="sidebar-link heading3">图片懒加载</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%BA%94%E7%94%A8%E9%A2%98/#url-拆解问题" class="sidebar-link">URL 拆解问题</a></li><li class="sidebar-sub-header"><a href="/myblog/javascript/%E5%BA%94%E7%94%A8%E9%A2%98/#将-http-header-转换成对象" class="sidebar-link">将 HTTP header 转换成对象</a></li></ul></li></ul></section></li></ul> <!----> <div class="content__sidebar-bottom"></div> <!----></aside> <main class="page"><nav class="breadcrumb disable"><!----></nav> <!----> <div class="content__page-top"></div> <div vocab="https://schema.org/" typeof="Article" class="page-title"><h1><!----> <span property="headline">JavaScript 基础</span></h1> <div class="page-info"><!----> <true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info><true-info defaultAuthor="" categoryPath="/category/$category/" tagPath="/tag/$tag/"></true-info></div> <!----> <hr></div> <div class="anchor-place-holder"><aside id="anchor"><div class="anchor-wrapper"><ul class="anchor-list"><li class="anchor"><a href="/myblog/javascript/#es6新特性" class="anchor-link heading2"><div>ES6新特性</div></a></li><li class="anchor"><a href="/myblog/javascript/#严格模式的限制" class="anchor-link heading2"><div>严格模式的限制</div></a></li><li class="anchor"><a href="/myblog/javascript/#script-标签加载脚本" class="anchor-link heading2"><div>Script 标签加载脚本</div></a></li><li class="anchor"><a href="/myblog/javascript/#js-延迟加载方式" class="anchor-link heading2"><div>JS 延迟加载方式</div></a></li><li class="anchor"><a href="/myblog/javascript/#内存分类" class="anchor-link heading2"><div>内存分类</div></a></li><li class="anchor"><a href="/myblog/javascript/#数据类型" class="anchor-link heading2"><div>数据类型</div></a></li><li class="anchor"><a href="/myblog/javascript/#undefined-null" class="anchor-link heading3"><div>undefined &amp; null</div></a></li><li class="anchor"><a href="/myblog/javascript/#nan" class="anchor-link heading3"><div>NaN</div></a></li><li class="anchor"><a href="/myblog/javascript/#精度丢失" class="anchor-link heading2"><div>精度丢失</div></a></li><li class="anchor"><a href="/myblog/javascript/#整数相关问题" class="anchor-link heading2"><div>整数相关问题</div></a></li><li class="anchor"><a href="/myblog/javascript/#显示转换-隐式转换" class="anchor-link heading2"><div>显示转换&amp;隐式转换</div></a></li><li class="anchor"><a href="/myblog/javascript/#运算符规则" class="anchor-link heading2"><div>运算符规则</div></a></li><li class="anchor"><a href="/myblog/javascript/#位运算符" class="anchor-link heading2"><div>位运算符</div></a></li><li class="anchor"><a href="/myblog/javascript/#异或运算" class="anchor-link heading3"><div>异或运算</div></a></li><li class="anchor"><a href="/myblog/javascript/#尾后逗号" class="anchor-link heading2"><div>尾后逗号</div></a></li><li class="anchor"><a href="/myblog/javascript/#symbol" class="anchor-link heading2"><div>Symbol</div></a></li><li class="anchor"><a href="/myblog/javascript/#类型判断" class="anchor-link heading2"><div>类型判断</div></a></li><li class="anchor"><a href="/myblog/javascript/#typeof-操作符" class="anchor-link heading3"><div>typeof 操作符</div></a></li><li class="anchor"><a href="/myblog/javascript/#instanceof-操作符" class="anchor-link heading3"><div>instanceof 操作符</div></a></li><li class="anchor"><a href="/myblog/javascript/#数据类型判断方法" class="anchor-link heading3"><div>数据类型判断方法</div></a></li><li class="anchor"><a href="/myblog/javascript/#数组" class="anchor-link heading2"><div>数组</div></a></li><li class="anchor"><a href="/myblog/javascript/#数组创建和检测" class="anchor-link heading3"><div>数组创建和检测</div></a></li><li class="anchor"><a href="/myblog/javascript/#数组方法" class="anchor-link heading3"><div>数组方法</div></a></li><li class="anchor"><a href="/myblog/javascript/#会改变原数组方法" class="anchor-link heading3"><div>会改变原数组方法</div></a></li><li class="anchor"><a href="/myblog/javascript/#数组迭代" class="anchor-link heading3"><div>数组迭代</div></a></li><li class="anchor"><a href="/myblog/javascript/#for-in-与-for-of-比较" class="anchor-link heading3"><div>for...in 与 for...of 比较</div></a></li><li class="anchor"><a href="/myblog/javascript/#类数组" class="anchor-link heading2"><div>类数组</div></a></li><li class="anchor"><a href="/myblog/javascript/#字符串" class="anchor-link heading2"><div>字符串</div></a></li><li class="anchor"><a href="/myblog/javascript/#字符串的不可变性" class="anchor-link heading3"><div>字符串的不可变性</div></a></li><li class="anchor"><a href="/myblog/javascript/#object-对象" class="anchor-link heading2"><div>Object 对象</div></a></li><li class="anchor"><a href="/myblog/javascript/#对象访问" class="anchor-link heading3"><div>对象访问</div></a></li><li class="anchor"><a href="/myblog/javascript/#对象方法" class="anchor-link heading3"><div>对象方法</div></a></li><li class="anchor"><a href="/myblog/javascript/#对象属性" class="anchor-link heading3"><div>对象属性</div></a></li><li class="anchor"><a href="/myblog/javascript/#对象属性方法" class="anchor-link heading3"><div>对象属性方法</div></a></li><li class="anchor"><a href="/myblog/javascript/#防篡改对象" class="anchor-link heading3"><div>防篡改对象</div></a></li><li class="anchor"><a href="/myblog/javascript/#假值对象" class="anchor-link heading3"><div>假值对象</div></a></li><li class="anchor"><a href="/myblog/javascript/#内置对象" class="anchor-link heading3"><div>内置对象</div></a></li><li class="anchor"><a href="/myblog/javascript/#new操作符" class="anchor-link heading3"><div>new操作符</div></a></li><li class="anchor"><a href="/myblog/javascript/#深浅拷贝" class="anchor-link heading2"><div>深浅拷贝</div></a></li><li class="anchor"><a href="/myblog/javascript/#集合" class="anchor-link heading2"><div>集合</div></a></li><li class="anchor"><a href="/myblog/javascript/#set-集合" class="anchor-link heading3"><div>Set 集合</div></a></li><li class="anchor"><a href="/myblog/javascript/#weakset" class="anchor-link heading3"><div>WeakSet</div></a></li><li class="anchor"><a href="/myblog/javascript/#map-集合" class="anchor-link heading3"><div>Map 集合</div></a></li><li class="anchor"><a href="/myblog/javascript/#set、map、object-比较" class="anchor-link heading3"><div>Set、Map、Object 比较</div></a></li><li class="anchor"><a href="/myblog/javascript/#变量" class="anchor-link heading2"><div>变量</div></a></li><li class="anchor"><a href="/myblog/javascript/#变量声明方式" class="anchor-link heading3"><div>变量声明方式</div></a></li><li class="anchor"><a href="/myblog/javascript/#变量提升和函数提升" class="anchor-link heading3"><div>变量提升和函数提升</div></a></li><li class="anchor"><a href="/myblog/javascript/#this-和-this-绑定" class="anchor-link heading2"><div>this 和 this 绑定</div></a></li><li class="anchor"><a href="/myblog/javascript/#执行环境-环境栈" class="anchor-link heading2"><div>执行环境&amp;环境栈</div></a></li><li class="anchor"><a href="/myblog/javascript/#作用域-作用域链" class="anchor-link heading2"><div>作用域&amp;作用域链</div></a></li><li class="anchor"><a href="/myblog/javascript/#闭包" class="anchor-link heading2"><div>闭包</div></a></li><li class="anchor"><a href="/myblog/javascript/#prototype-对象" class="anchor-link heading2"><div>Prototype 对象</div></a></li><li class="anchor"><a href="/myblog/javascript/#prototype属性和proto-属性" class="anchor-link heading2"><div>Prototype属性和proto 属性</div></a></li><li class="anchor"><a href="/myblog/javascript/#获取原型方法" class="anchor-link heading2"><div>获取原型方法</div></a></li><li class="anchor"><a href="/myblog/javascript/#constructor-属性" class="anchor-link heading2"><div>constructor 属性</div></a></li><li class="anchor"><a href="/myblog/javascript/#原型-原型链" class="anchor-link heading2"><div>原型&amp;原型链</div></a></li><li class="anchor"><a href="/myblog/javascript/#函数" class="anchor-link heading2"><div>函数</div></a></li><li class="anchor"><a href="/myblog/javascript/#es5-函数" class="anchor-link heading3"><div>ES5 函数</div></a></li><li class="anchor"><a href="/myblog/javascript/#箭头函数" class="anchor-link heading3"><div>箭头函数</div></a></li><li class="anchor"><a href="/myblog/javascript/#箭头函数与普通函数的区别" class="anchor-link heading3"><div>箭头函数与普通函数的区别</div></a></li><li class="anchor"><a href="/myblog/javascript/#其他函数" class="anchor-link heading3"><div>其他函数</div></a></li><li class="anchor"><a href="/myblog/javascript/#函数柯里化" class="anchor-link heading3"><div>函数柯里化</div></a></li><li class="anchor"><a href="/myblog/javascript/#对象" class="anchor-link heading2"><div>对象</div></a></li><li class="anchor"><a href="/myblog/javascript/#创建对象方式有哪些" class="anchor-link heading3"><div>创建对象方式有哪些</div></a></li><li class="anchor"><a href="/myblog/javascript/#创建对象方式比较" class="anchor-link heading3"><div>创建对象方式比较</div></a></li><li class="anchor"><a href="/myblog/javascript/#对象继承方式" class="anchor-link heading3"><div>对象继承方式</div></a></li><li class="anchor"><a href="/myblog/javascript/#对象继承方式比较" class="anchor-link heading3"><div>对象继承方式比较</div></a></li><li class="anchor"><a href="/myblog/javascript/#类" class="anchor-link heading2"><div>类</div></a></li><li class="anchor"><a href="/myblog/javascript/#class-类" class="anchor-link heading3"><div>Class 类</div></a></li><li class="anchor"><a href="/myblog/javascript/#class-继承" class="anchor-link heading3"><div>Class 继承</div></a></li><li class="anchor"><a href="/myblog/javascript/#reflect-对象" class="anchor-link heading2"><div>Reflect 对象</div></a></li><li class="anchor"><a href="/myblog/javascript/#object-defineproperty" class="anchor-link heading2"><div>Object.defineProperty</div></a></li><li class="anchor"><a href="/myblog/javascript/#proxy-对象" class="anchor-link heading2"><div>Proxy 对象</div></a></li><li class="anchor"><a href="/myblog/javascript/#object-defineproperty-和-proxy-比较" class="anchor-link heading3"><div>Object.defineProperty 和 Proxy 比较</div></a></li><li class="anchor"><a href="/myblog/javascript/#模块加载方案" class="anchor-link heading2"><div>模块加载方案</div></a></li><li class="anchor"><a href="/myblog/javascript/#commonjs-模块" class="anchor-link heading3"><div>CommonJS 模块</div></a></li><li class="anchor"><a href="/myblog/javascript/#es6模块" class="anchor-link heading3"><div>ES6模块</div></a></li><li class="anchor"><a href="/myblog/javascript/#模块加载混合引用" class="anchor-link heading3"><div>模块加载混合引用</div></a></li><li class="anchor"><a href="/myblog/javascript/#模块加载循环引用" class="anchor-link heading3"><div>模块加载循环引用</div></a></li><li class="anchor"><a href="/myblog/javascript/#定时器" class="anchor-link heading2"><div>定时器</div></a></li><li class="anchor"><a href="/myblog/javascript/#垃圾回收" class="anchor-link heading2"><div>垃圾回收</div></a></li><li class="anchor"><a href="/myblog/javascript/#内存泄漏" class="anchor-link heading3"><div>内存泄漏</div></a></li><li class="anchor"><a href="/myblog/javascript/#ajax" class="anchor-link heading2"><div>AJax</div></a></li><li class="anchor"><a href="/myblog/javascript/#创建-ajax-过程" class="anchor-link heading3"><div>创建 Ajax 过程</div></a></li><li class="anchor"><a href="/myblog/javascript/#消息推送技术" class="anchor-link heading2"><div>消息推送技术</div></a></li><li class="anchor"><a href="/myblog/javascript/#sse实现" class="anchor-link heading3"><div>SSE实现</div></a></li><li class="anchor"><a href="/myblog/javascript/#websocket-实现" class="anchor-link heading3"><div>websocket 实现</div></a></li><li class="anchor"><a href="/myblog/javascript/#跨页面通信方法" class="anchor-link heading2"><div>跨页面通信方法</div></a></li><li class="anchor"><a href="/myblog/javascript/#iframe框架" class="anchor-link heading2"><div>Iframe框架</div></a></li><li class="anchor"><a href="/myblog/javascript/#bom" class="anchor-link heading2"><div>BOM</div></a></li><li class="anchor"><a href="/myblog/javascript/#dom" class="anchor-link heading2"><div>DOM</div></a></li><li class="anchor"><a href="/myblog/javascript/#dom事件分类" class="anchor-link heading3"><div>DOM事件分类</div></a></li><li class="anchor"><a href="/myblog/javascript/#事件流" class="anchor-link heading2"><div>事件流</div></a></li><li class="anchor"><a href="/myblog/javascript/#事件是如果实现的" class="anchor-link heading3"><div>事件是如果实现的？</div></a></li><li class="anchor"><a href="/myblog/javascript/#事件委托-代理" class="anchor-link heading3"><div>事件委托(代理)</div></a></li><li class="anchor"><a href="/myblog/javascript/#js-兼容性" class="anchor-link heading2"><div>JS 兼容性</div></a></li><li class="anchor"><a href="/myblog/javascript/#兼容性问题" class="anchor-link heading3"><div>兼容性问题</div></a></li><li class="anchor"><a href="/myblog/javascript/#兼容性统一处理方案" class="anchor-link heading3"><div>兼容性统一处理方案</div></a></li></ul></div></aside></div> <!----> <div class="content__content-top"></div> <div class="theme-default-content content__default"><h1 id="javascript-基础"><a href="#javascript-基础" class="header-anchor">#</a> JavaScript 基础</h1> <h2 id="es6新特性"><a href="#es6新特性" class="header-anchor">#</a> ES6新特性</h2> <ol><li>let const</li> <li>字符串、数组、对象的方法扩展</li> <li>symbol、set、map新的数据类型和数据结构</li> <li>proxy代理拦截</li> <li>异步解决方案：promise、generate，async、await</li> <li>class类</li> <li>module模块</li></ol> <p>详情可参考：<a href="https://es6.ruanyifeng.com/" target="_blank" rel="noopener noreferrer">ES6 入门教程 - 阮一峰<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="严格模式的限制"><a href="#严格模式的限制" class="header-anchor">#</a> 严格模式的限制</h2> <ol><li>变量必须声明后再使用</li> <li>函数的参数不能有同名属性，否则报错</li> <li>不能使用with语句</li> <li>不能对只读属性赋值，否则报错</li> <li>不能使用前缀0表示八进制数，否则报错</li> <li>不能删除不可删除的属性，否则报错</li> <li>不能删除变量delete prop，会报错，只能删除属性delete global[prop]</li> <li>eval不会在它的外层作用域引入变量</li> <li>eval和arguments不能被重新赋值</li> <li>arguments不会自动反映函数参数的变化</li> <li>不能使用arguments.callee</li> <li>不能使用arguments.caller</li> <li>禁止this指向全局对象</li> <li>不能使用fn.caller和fn.arguments获取函数调用的堆栈</li> <li>增加了保留字（比如protected、static和interface）</li></ol> <h2 id="script-标签加载脚本"><a href="#script-标签加载脚本" class="header-anchor">#</a> Script 标签加载脚本</h2> <p><img src="/myblog/assets/img/script3.a5fbeb23.png" alt=""></p> <p><img src="/myblog/assets/img/script2.55da35d6.png" alt="script2"></p> <p><img src="/myblog/assets/img/script1.416435d0.png" alt="script1"></p> <h2 id="js-延迟加载方式"><a href="#js-延迟加载方式" class="header-anchor">#</a> JS 延迟加载方式</h2> <p>js延迟加载，也就是等页面加载完成之后再加载JavaScript文件。js延迟加载有助于提高页面加载速度</p> <p>一般有以下几种方式：</p> <ul><li>defer属性</li> <li>async属性</li> <li>动态创建DOM方式：对文档的加载事件进行监听，当文档加载完成后再动态的创建script标签来引入js脚本</li> <li>使用setTimeout延迟方法</li> <li>让JS最后加载</li></ul> <h2 id="内存分类"><a href="#内存分类" class="header-anchor">#</a> 内存分类</h2> <p><img src="/myblog/assets/img/neicunfenlei.4791c734.png" alt=""></p> <h2 id="数据类型"><a href="#数据类型" class="header-anchor">#</a> 数据类型</h2> <ul><li>基本类型：Number、Boolean、String、null、undefined、symbol（ES6 新增的）， BigInt（ES2020）</li> <li>引用类型：Object</li> <li>基本包装类型（Array，Function）</li></ul> <p><img src="/myblog/assets/img/data-type.bc2929cd.png" alt=""></p> <p><strong>基本数据类型：</strong></p> <p><img src="/myblog/assets/img/jibenshujuleixing1.c29043d7.png" alt=""></p> <p><img src="/myblog/assets/img/jibenshujuleixing2.4669d604.png" alt="jibenshujuleixing2"></p> <p><img src="/myblog/assets/img/jibenshujuleixing3.e02dd05f.png" alt="jibenshujuleixing1"></p> <p><strong>引用类型：</strong></p> <p><img src="/myblog/assets/img/yingyongleixing1.ff235ba4.png" alt=""></p> <p><img src="/myblog/assets/img/yingyongleixing2.988b09ca.png" alt="yingyongleixing1"></p> <p><strong>包装类型:</strong></p> <p><img src="/myblog/assets/img/baozhuangleixing1.13e6e25a.png" alt=""></p> <p><img src="/myblog/assets/img/baozhuangleixing2.960fa6a1.png" alt="baozhuangleixing1"></p> <h3 id="undefined-null"><a href="#undefined-null" class="header-anchor">#</a> undefined &amp; null</h3> <blockquote><p><strong>undefined与undeclared区别?</strong></p></blockquote> <ul><li>已在作用域中声明但还没有赋值的变量，是undefined的。</li> <li>还没有在作用域中声明过的变量，是undeclared的。</li> <li>对于undeclared变量的引用，浏览器会报引用错误，如ReferenceError:bisnotdefined。但是我们可以使用typeof的安全防范机制来避免报错，因为对于undeclared（或者notdefined）变量，typeof会返回&quot;undefined&quot;。</li></ul> <blockquote><p><strong>null和undefined区别?</strong></p></blockquote> <ul><li>Undefined和Null都是基本数据类型，这两个基本数据类型分别都只有一个值，就是undefined和null。</li> <li>undefined代表的含义是未定义，null代表的含义是空对象。</li> <li>一般变量声明了但还没有定义的时候会返回undefined，null主要用于赋值给一些可能会返回对象的变量，作为初始化。</li> <li>undefined在js中不是一个保留字，这意味着我们可以使用undefined来作为一个变量名，这样的做法是非常危险的，它会影响我们对undefined值的判断。但是我们可以通过一些方法获得安全的undefined值，比如说void0。</li> <li>当我们对两种类型使用typeof进行判断的时候，Null类型化会返回“object”，这是一个历史遗留的问题。</li> <li>当我们使用双等号对两种类型的值进行比较时会返回true，使用三个等号时会返回false</li></ul> <blockquote><p><strong>如何获取安全的undefined值?</strong></p></blockquote> <ul><li>用 void 0 来获得 undefined</li> <li>因为undefined是一个标识符，所以可以被当作变量来使用和赋值，但是这样会影响undefined的正常判断。表达式void___没有返回值，因此返回结果是undefined。void并不改变表达式的结果，只是让表达式不返回值。</li></ul> <h3 id="nan"><a href="#nan" class="header-anchor">#</a> NaN</h3> <blockquote><p><strong>NaN 是什么，用 typeof 会输出什么？</strong></p></blockquote> <ul><li><p>Not a Number，表示非数字，NaN意指“不是一个数字”（notanumber），NaN是一个“警戒值”（sentinelvalue，有特殊用途的常规值），用于指出数字类型中的错误情况，即“执行数学运算没有成功，这是失败后返回的结果”。</p></li> <li><p>typeof NaN === 'number'</p></li> <li><p>NaN是一个特殊值，它和自身不相等，是唯一一个非自反（自反，reflexive，即x===x不成立）的值。而NaN!=NaN为true。</p></li></ul> <blockquote><p><strong>isNaN() 和 Number.isNaN() 函数的区别?</strong></p></blockquote> <ul><li>函数 isNaN() 接收参数后，会尝试将这个参数转换为数值，任何不能被转换为数值的的值都会返回true，因此非数字值传入也会返回true，会影响NaN的判断</li> <li>函数 Number.isNaN() 会首先判断传入参数是否为数字，如果是数字再继续判断是否为NaN，这种方法对于NaN的判断更为准确</li> <li>总结： isNaN() 判断不准确，非数字返回 true；Number.isNaN() 判断更为准确</li></ul> <h2 id="精度丢失"><a href="#精度丢失" class="header-anchor">#</a> 精度丢失</h2> <ul><li>解释一：</li></ul> <p><img src="/myblog/assets/img/jingduduishi.a9e3c6a2.png" alt=""></p> <ul><li><p>解释二：</p> <p>JavaScirpt 使用 Number 类型来表示数字（整数或浮点数），遵循 IEEE 754 标准，通过 64 位来表示一 个数字（1 + 11 + 52）</p> <ul><li>1 符号位，0 表示正数，1 表示负数 s</li> <li>11 指数位（e）</li> <li>52 尾数，小数部分（即有效数字）</li></ul> <p>最大安全数字：Number.MAX_SAFE_INTEGER = Math.pow(2, 53) - 1，转换成整数就是 16 位，所以 0.1 === 0.1，是因为通过 toPrecision(16) 去有效位之后，两者是相等的。</p> <p>在两数相加时，会先转换成二进制，0.1 和 0.2 转换成二进制的时候尾数会发生无限循环，然后进行对阶 运算，JS 引擎对二进制进行截断，所以造成精度丢失。</p> <p>总结：<strong>精度丢失可能出现在进制转换和对阶运算中</strong></p></li></ul> <h2 id="整数相关问题"><a href="#整数相关问题" class="header-anchor">#</a> 整数相关问题</h2> <blockquote><p><strong>JS整数是怎么表示的？</strong></p></blockquote> <p>​	通过 Number 类型来表示，遵循 IEEE754 标准，通过 64 位来表示一个数字，（1 + 11 + 52），最大安 全数字是 Math.pow(2, 53) - 1，对于 16 位十进制。（符号位 + 指数位 + 小数部分有效位）</p> <blockquote><p><strong>Number() 的存储空间是多大？如果后台发送了一个超过最大自己的数字怎么办</strong></p></blockquote> <p>​	Math.pow(2, 53) ，53 为有效数字，会发生截断，等于 JS 能支持的最大数字</p> <h2 id="显示转换-隐式转换"><a href="#显示转换-隐式转换" class="header-anchor">#</a> 显示转换&amp;隐式转换</h2> <p><strong>显示转换</strong></p> <p>显示转换一般指使用Number、String和Boolean三个构造函数，手动将各种类型的值，转换成数字、字符串或者布尔值</p> <p><strong>隐式转换</strong>：</p> <p>运算符两边数据类型不一致，编译器自动转换数据类型</p> <ul><li>转成string类型：+号两边如果有一边是字符串，则会把另一边转换成字符串，然后进行拼接</li> <li>转成number类型：
<ul><li>以下几种运算符会将任何数据转换成number类型再运算，如果无法转换则为NaN
<ul><li>数学正号 ： +num</li> <li>当 +/-号写在一个变量名的前面，此时表示数学的正/负数</li> <li>自增自减（++ --）</li> <li>算术运算符（+ - * / %）</li> <li>比较运算符(&gt; &lt; &gt;= &lt;= == != === !==)
说明：全等与不全等会先比较值（此时会隐式转换再比较），然后再比较数据类型</li></ul></li></ul></li> <li>转成boolean类型：逻辑非（！）会将任何数据转为boolean类型再运算</li></ul> <h2 id="运算符规则"><a href="#运算符规则" class="header-anchor">#</a> 运算符规则</h2> <p><strong>加号规则</strong></p> <p><img src="/myblog/assets/img/cuozofu+.bcdf2327.png" alt=""></p> <p><strong>减号规则</strong></p> <p><img src="/myblog/assets/img/caozuofu-.d56d52c2.png" alt=""></p> <p><strong>等号规则</strong></p> <p><img src="/myblog/assets/img/cauozuofu=.87f4a87e.png" alt=""></p> <p><strong>布尔操作符</strong></p> <p><img src="/myblog/assets/img/booleancaozuo.68317244.png" alt=""></p> <h2 id="位运算符"><a href="#位运算符" class="header-anchor">#</a> 位运算符</h2> <ul><li><p>位运算符工作于32位的数字上。任何数字操作都将转换为32位。结果会转换为 JavaScript 数字。</p></li> <li><table><thead><tr><th style="text-align:left;">运算符</th> <th style="text-align:left;">描述</th> <th style="text-align:left;">例子</th> <th style="text-align:left;">类似于</th> <th style="text-align:left;">结果</th> <th style="text-align:left;">十进制</th></tr></thead> <tbody><tr><td style="text-align:left;">&amp;</td> <td style="text-align:left;">AND</td> <td style="text-align:left;">x = 5 &amp; 1</td> <td style="text-align:left;">0101 &amp; 0001</td> <td style="text-align:left;">0001</td> <td style="text-align:left;">1</td></tr> <tr><td style="text-align:left;">|</td> <td style="text-align:left;">OR</td> <td style="text-align:left;">x = 5 | 1</td> <td style="text-align:left;">0101 | 0001</td> <td style="text-align:left;">0101</td> <td style="text-align:left;">5</td></tr> <tr><td style="text-align:left;">~</td> <td style="text-align:left;">取反</td> <td style="text-align:left;">x = ~ 5</td> <td style="text-align:left;">~0101</td> <td style="text-align:left;">1010</td> <td style="text-align:left;">-6</td></tr> <tr><td style="text-align:left;">^</td> <td style="text-align:left;">异或</td> <td style="text-align:left;">x = 5 ^ 1</td> <td style="text-align:left;">0101 ^ 0001</td> <td style="text-align:left;">0100</td> <td style="text-align:left;">4</td></tr> <tr><td style="text-align:left;">&lt;&lt;</td> <td style="text-align:left;">左移</td> <td style="text-align:left;">x = 5 &lt;&lt; 1</td> <td style="text-align:left;">0101 &lt;&lt; 1</td> <td style="text-align:left;">1010</td> <td style="text-align:left;">10</td></tr> <tr><td style="text-align:left;">&gt;&gt;</td> <td style="text-align:left;">右移</td> <td style="text-align:left;">x = 5 &gt;&gt; 1</td> <td style="text-align:left;">0101 &gt;&gt; 1</td> <td style="text-align:left;">0010</td> <td style="text-align:left;">2</td></tr></tbody></table> <p>(引用<a href="https://www.runoob.com/jsref/jsref-operators.html" target="_blank" rel="noopener noreferrer">菜鸟教程-JavaScript 位运算符<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)</p></li></ul> <h3 id="异或运算"><a href="#异或运算" class="header-anchor">#</a> 异或运算</h3> <h4 id="运算规则"><a href="#运算规则" class="header-anchor">#</a> 运算规则</h4> <ul><li>异或（eor）是一个数学运算符。它应用于逻辑运算。异或的数学符号为“⊕”，计算机符号为“eor”。其运算法则为：
<ul><li><strong>相同为0，不同为1</strong>：
<ul><li>二进制中： <code>1 ^ 1 = 0</code>，<code>0 ^ 0 = 0</code>，<code>1 ^ 0 = 1</code>，<code>0 ^ 1 = 1</code>;</li></ul></li> <li><strong>任何数与 0 异或，等于这个数</strong>： <code>a ^ 0 = a</code>；</li> <li><strong>任何数跟自己异或，等于 0</strong>: <code>a ^ a = 0</code>;</li> <li><strong>满足交换律</strong>： <code>a ^ b = b ^ a</code>；</li> <li><strong>满足结合律</strong>： <code>(a ^ b) ^ c = a ^ (b ^ c)</code>；</li></ul></li></ul> <h4 id="使用场景"><a href="#使用场景" class="header-anchor">#</a> 使用场景</h4> <ul><li><p><strong>异或运算交换两个数</strong>：</p> <ul><li><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token comment">// 使用异或运算交换值</span>
a <span class="token operator">=</span> a <span class="token operator">^</span> b<span class="token punctuation">;</span>
b <span class="token operator">=</span> a <span class="token operator">^</span> b<span class="token punctuation">;</span>
a <span class="token operator">=</span> a <span class="token operator">^</span> b<span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a=&gt;'</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span><span class="token string">'b=&gt;'</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li> <li><p>原理：</p> <blockquote><ul><li>第一步： <code>a = a ^ b = 5 ^ 10</code> ;</li> <li>第二步：  <code>b = a ^ b = 5 ^ 10 ^ 10 = 5</code> (相同为0，不同为1);</li> <li>第三步：  <code>a = a ^ b = 5 ^ 10 ^ 5 = 10</code> (相同为0，不同为1);</li></ul></blockquote></li></ul></li> <li><p><strong>简单加密</strong>：</p> <ul><li><blockquote><p>假设明文<code>text</code>，秘钥<code>key</code>，进行异或运算得到密文 <code>cipher</code>；</p> <ul><li>加密：<code>const cipher = text ^ key</code> ；</li> <li>解密：<code>const text = cipher ^ key</code>；</li></ul></blockquote></li> <li><p>原理：</p> <blockquote><ul><li>加密：<code>const cipher = text ^ key</code></li> <li>解密：<code>const text = (text ^ key) ^ key</code></li></ul></blockquote></li></ul></li></ul> <h4 id="算法题"><a href="#算法题" class="header-anchor">#</a> 算法题</h4> <ul><li><p>题目：</p> <blockquote><p>一个数组中有一种数出现了奇数次，其他数都出现了偶数次，怎么找到这一个数？</p> <p>要求： 时间复杂度 O(n)，空间复杂度 O(1)</p></blockquote></li> <li><p>思路：</p> <blockquote><ul><li><p>要求空间复杂度为 O(1)，则不能开辟新的空间；</p></li> <li><p>根据异或运算规则：</p> <ul><li>任何数字和 自己异或等于 0;</li> <li>任何数字和 0 异或等于这个数；</li></ul></li> <li><p>将所有数字进行异或操作，则偶数个数字异或结果为0，奇数个数字异或结果为1；</p></li></ul></blockquote></li> <li><p>代码：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> number <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    number <span class="token operator">=</span> number <span class="token operator">^</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'number=&gt;'</span><span class="token punctuation">,</span> number<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//输出为出现奇数次的数字</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li></ul> <h2 id="尾后逗号"><a href="#尾后逗号" class="header-anchor">#</a> <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Trailing_commas" target="_blank" rel="noopener noreferrer">尾后逗号<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <p><strong>尾后逗号</strong> （有时叫做“终止逗号”）在向 JavaScript 代码添加元素、参数、属性时十分有用。如果你想要添加新的属性，并且上一行已经使用了尾后逗号，你可以仅仅添加新的一行，而不需要修改上一行。这使得版本控制的代码比较（diff）更加清晰，代码编辑过程中遇到的麻烦更少。</p> <p>JavaScript 一开始就支持数组字面量中的尾后逗号，随后向对象字面量（ECMAScript 5）中添加了尾后逗号。最近（ECMAScript 2017），又将其添加到函数参数中</p> <p>但是，<a href="https://developer.mozilla.org/zh-CN/docs/Glossary/JSON" target="_blank" rel="noopener noreferrer">JSON<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 不允许尾后逗号。</p> <blockquote><p>[,,,] 的长度是多少？</p></blockquote> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
a<span class="token punctuation">.</span>length <span class="token comment">// 3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="symbol"><a href="#symbol" class="header-anchor">#</a> Symbol</h2> <p><strong>Symbol 是什么？</strong></p> <ul><li><p><code>Symbol</code>是ES6 引入的一种新的原始数据类型，表示独一无二的值。</p></li> <li><p>Symbol 值通过<code>Symbol</code>函数生成。</p></li></ul> <p><strong>Symbol 作用？</strong></p> <ul><li>保证对象每个属性的名字都是独一无二，防止命名冲突；</li> <li>提供遍历接口，布置了 symbol.iterator 的对象才可以使用 for···of 循环，可以统一处理数据结构。调用之后回返回一个遍历器对象，包含有一个 next 方法，使用 next 方法后有两个返回值 value 和 done 分别表示函数当前执行位置的值和是否遍历完毕。</li> <li><a href="https://es6.ruanyifeng.com/#docs/symbol#%E5%AE%9E%E4%BE%8B%EF%BC%9A%E6%B6%88%E9%99%A4%E9%AD%94%E6%9C%AF%E5%AD%97%E7%AC%A6%E4%B8%B2" target="_blank" rel="noopener noreferrer">消除魔术字符串<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p><strong>Symbol注意点:</strong></p> <ul><li>1.Symbol函数前不能使用new命令，否则会报错。</li> <li>2.Symbol函数可以接受一个字符串作为参数，表示对Symbol实例的描述，主要是为了在控制台显示，或者转为字符串时，比较容易区分。</li> <li>3.Symbol作为属性名，该属性不会出现在for...in、for...of循环中，也不会被Object.keys()、Object.getOwnPropertyNames()、JSON.stringify()返回。</li> <li>4.Object.getOwnPropertySymbols方法返回一个数组，成员是当前对象的所有用作属性名的Symbol值。</li> <li>5.Symbol.for接受一个字符串作为参数，然后搜索有没有以该参数作为名称的Symbol值。如果有，就返回这个Symbol值，否则就新建并返回一个以该字符串为名称的Symbol值。</li> <li>6.Symbol.keyFor方法返回一个已登记的Symbol类型值的key</li></ul> <p><strong>参考：</strong></p> <p><a href="https://es6.ruanyifeng.com/#docs/symbol" target="_blank" rel="noopener noreferrer">ECMAScript 6 入门-Symbol<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="类型判断"><a href="#类型判断" class="header-anchor">#</a> <strong>类型判断</strong></h2> <h3 id="typeof-操作符"><a href="#typeof-操作符" class="header-anchor">#</a> typeof 操作符</h3> <p><img src="/myblog/assets/img/typeof.03d5cd7c.png" alt=""></p> <p><strong>内部属性[[Class]]:</strong></p> <p>​	所有typeof返回值为&quot;object&quot;的对象（如数组）都包含一个内部属性[[Class]]（我们可以把它看作一个内部的分类，而非传统的面向对象意义上的类）。这个属性无法直接访问，一般通过Object.prototype.toString(..)来查看</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//&quot;[objectArray]&quot;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">regex-literal</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//&quot;[objectRegExp]&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="instanceof-操作符"><a href="#instanceof-操作符" class="header-anchor">#</a> instanceof 操作符</h3> <p><img src="/myblog/assets/img/instanceof-mind.39b8d3c3.png" alt=""></p> <h3 id="数据类型判断方法"><a href="#数据类型判断方法" class="header-anchor">#</a> 数据类型判断方法</h3> <p>判断数据类型方法</p> <ul><li><p>typeof 操作符</p></li> <li><p>Object.prototype.toString.call()</p> <p><img src="/myblog/assets/img/toString.ad8695c7.png" alt=""></p></li></ul> <h2 id="数组"><a href="#数组" class="header-anchor">#</a> <strong>数组</strong></h2> <h3 id="数组创建和检测"><a href="#数组创建和检测" class="header-anchor">#</a> 数组创建和检测</h3> <p><img src="/myblog/assets/img/array.ea1cbe4a.png" alt=""></p> <h3 id="数组方法"><a href="#数组方法" class="header-anchor">#</a> 数组方法</h3> <p><img src="data:image/png;base64,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" alt=""></p> <p><img src="/myblog/assets/img/array3.aefcd76b.png" alt="array3"></p> <p><img src="/myblog/assets/img/array2.17316272.png" alt="array2"></p> <p><img src="/myblog/assets/img/array1.e6de9aa4.png" alt="array1"></p> <h3 id="会改变原数组方法"><a href="#会改变原数组方法" class="header-anchor">#</a> <strong>会改变原数组方法</strong></h3> <table><thead><tr><th style="text-align:center;">方法</th> <th style="text-align:center;">是否修改原始数组</th> <th style="text-align:center;">描述与基本操作</th></tr></thead> <tbody><tr><td style="text-align:center;"><strong>push()</strong></td> <td style="text-align:center;"><strong>是</strong></td> <td style="text-align:center;">向数组的末尾添加一个或更多元素，并返回新的长度。</td></tr> <tr><td style="text-align:center;"><strong>pop()</strong></td> <td style="text-align:center;"><strong>是</strong></td> <td style="text-align:center;">删除并返回数组的最后一个元素。</td></tr> <tr><td style="text-align:center;"><strong>shift()</strong></td> <td style="text-align:center;"><strong>是</strong></td> <td style="text-align:center;">删除并返回数组的第一个元素。</td></tr> <tr><td style="text-align:center;"><strong>unshift()</strong></td> <td style="text-align:center;"><strong>是</strong></td> <td style="text-align:center;">向数组的开头添加一个或更多元素，并返回新的长度。</td></tr> <tr><td style="text-align:center;"><strong>splice()</strong></td> <td style="text-align:center;"><strong>是</strong></td> <td style="text-align:center;">通过删除或替换现有元素或者添加新元素来修改数组，并以数组形式返回被修改的内容。</td></tr> <tr><td style="text-align:center;"><strong>sort()</strong></td> <td style="text-align:center;"><strong>是</strong></td> <td style="text-align:center;">对数组的元素进行排序，并返回数组。排序不一定是稳定的。默认排序顺序是根据字符串Unicode码点。</td></tr> <tr><td style="text-align:center;"><strong>reverse()</strong></td> <td style="text-align:center;"><strong>是</strong></td> <td style="text-align:center;">颠倒数组中元素的顺序，并返回该数组。数组的第一个元素会变成最后一个，数组的最后一个元素变成第一个。</td></tr> <tr><td style="text-align:center;"><strong>fill()</strong></td> <td style="text-align:center;"><strong>是</strong></td> <td style="text-align:center;">用一个固定值填充一个数组中从起始索引到终止索引内的全部元素。不包括终止索引。</td></tr> <tr><td style="text-align:center;"><strong>copyWithin()</strong></td> <td style="text-align:center;"><strong>是</strong></td> <td style="text-align:center;">在数组内部，将一段连续元素复制到另一个位置，并返回这个数组。不会改变数组的大小。</td></tr> <tr><td style="text-align:center;"><strong>concat()</strong></td> <td style="text-align:center;"><strong>否</strong></td> <td style="text-align:center;">用于连接两个或多个数组。此方法不会更改现有数组，而是返回一个新数组。</td></tr> <tr><td style="text-align:center;"><strong>slice()</strong></td> <td style="text-align:center;"><strong>否</strong></td> <td style="text-align:center;">可从已有的数组中返回选定的元素。此方法并不会修改原数组，而是返回一个新数组。</td></tr> <tr><td style="text-align:center;"><strong>join()</strong></td> <td style="text-align:center;"><strong>否</strong></td> <td style="text-align:center;">把数组的所有元素放入一个字符串。元素通过指定的分隔符进行分隔。</td></tr> <tr><td style="text-align:center;"><strong>toString()</strong></td> <td style="text-align:center;"><strong>否</strong></td> <td style="text-align:center;">把数组转换为字符串，并返回结果。</td></tr> <tr><td style="text-align:center;"><strong>indexOf()</strong></td> <td style="text-align:center;"><strong>否</strong></td> <td style="text-align:center;">返回在数组中可以找到给定元素的第一个索引，如果不存在，则返回-1。</td></tr> <tr><td style="text-align:center;"><strong>lastIndexOf()</strong></td> <td style="text-align:center;"><strong>否</strong></td> <td style="text-align:center;">返回指定元素在数组中的最后一个的索引，如果不存在则返回 -1。从数组的后面向前查找，从 fromIndex 处开始。</td></tr> <tr><td style="text-align:center;"><strong>includes()</strong></td> <td style="text-align:center;"><strong>否</strong></td> <td style="text-align:center;">判断一个数组是否包含一个指定的值，根据情况，如果需要，搜索也可使用值来开始。</td></tr> <tr><td style="text-align:center;"><strong>find()</strong></td> <td style="text-align:center;"><strong>否</strong></td> <td style="text-align:center;">返回数组中满足提供的测试函数的第一个元素的值。否则返回undefined。</td></tr> <tr><td style="text-align:center;"><strong>findIndex()</strong></td> <td style="text-align:center;"><strong>否</strong></td> <td style="text-align:center;">返回数组中满足提供的测试函数的第一个元素的索引。否则返回-1。</td></tr> <tr><td style="text-align:center;"><strong>forEach()</strong></td> <td style="text-align:center;"><strong>否</strong></td> <td style="text-align:center;">对数组的每个元素执行一次提供的函数。</td></tr> <tr><td style="text-align:center;"><strong>map()</strong></td> <td style="text-align:center;"><strong>否</strong></td> <td style="text-align:center;">创建一个新数组，其结果是该数组中的每个元素都调用一个提供的函数后返回的结果。</td></tr> <tr><td style="text-align:center;"><strong>filter()</strong></td> <td style="text-align:center;"><strong>否</strong></td> <td style="text-align:center;">创建一个新数组, 其包含通过所提供函数实现的测试的所有元素。</td></tr> <tr><td style="text-align:center;"><strong>reduce()</strong></td> <td style="text-align:center;"><strong>否</strong></td> <td style="text-align:center;">对累加器和数组中的每个元素（从左到右）应用一个函数，将其减少为单个输出值。</td></tr> <tr><td style="text-align:center;"><strong>some()</strong></td> <td style="text-align:center;"><strong>否</strong></td> <td style="text-align:center;">测试数组中是不是至少有1个元素通过由提供的函数实现的测试。它返回的是一个Boolean值。</td></tr> <tr><td style="text-align:center;"><strong>every()</strong></td> <td style="text-align:center;"><strong>否</strong></td> <td style="text-align:center;">测试数组的所有元素是否都通过了由提供的函数实现的测试。它返回一个布尔值。</td></tr> <tr><td style="text-align:center;"><strong>reduceRight()</strong></td> <td style="text-align:center;"><strong>否</strong></td> <td style="text-align:center;">接收一个函数作为累加器（accumulator），数组中的每个值（从左到右）开始缩减，最终为一个值。</td></tr></tbody></table> <p>请注意，尽管上述方法按照是否修改原始数组进行了分类，但某些方法（如<code>sort()</code>）可能会以不可预测的方式修改原始数组的元素顺序，即使它们不添加或删除元素。此外，<code>sort()</code>方法默认将数组元素转换为字符串，然后进行Unicode码点比较，这可能并不是您所期望的排序方式，特别是对于非字符串数组元素。在这种情况下，您可能需要提供一个自定义比较函数。</p> <h3 id="数组迭代"><a href="#数组迭代" class="header-anchor">#</a> 数组迭代</h3> <p><img src="/myblog/assets/img/array4.e55e0dad.png" alt=""></p> <blockquote><p><strong>indexOf 和 findIndex 的区别?</strong></p></blockquote> <ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex" target="_blank" rel="noopener noreferrer">indexOf<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ：查找值作为第一个参数，采用 <code>===</code> 比较，更多的是用于查找基本类型，如果是对象类型，则是判断是否是同一个对象的引用</li> <li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex" target="_blank" rel="noopener noreferrer">findIndex<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ：比较函数作为第一个参数，多用于非基本类型(例如对象)的数组索引查找，或查找条件很复杂</li></ul> <h3 id="for-in-与-for-of-比较"><a href="#for-in-与-for-of-比较" class="header-anchor">#</a> <a href="https://es6.ruanyifeng.com/#docs/iterator#%E4%B8%8E%E5%85%B6%E4%BB%96%E9%81%8D%E5%8E%86%E8%AF%AD%E6%B3%95%E7%9A%84%E6%AF%94%E8%BE%83" target="_blank" rel="noopener noreferrer">for...in 与 for...of 比较<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p><strong><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/for...in" target="_blank" rel="noopener noreferrer">for...in 循环<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></strong>：</p> <ul><li><code>for...in</code>循环主要是为遍历对象而设计的，不适用于遍历数组；</li> <li>缺点：
<ul><li>数组的键名是数字，但是<code>for...in</code>循环是以字符串作为键名“0”、“1”、“2”等等。</li> <li><code>for...in</code>循环不仅遍历数字键名，还会遍历手动添加的其他键，甚至包括原型链上的键。</li> <li>某些情况下，<code>for...in</code>循环会以任意顺序遍历键名</li></ul></li></ul> <p><strong><a href="https://es6.ruanyifeng.com/#docs/iterator#for---of-%E5%BE%AA%E7%8E%AF" target="_blank" rel="noopener noreferrer">for...of 循环<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></strong>：</p> <ul><li>一个数据结构只要部署了<code>Symbol.iterator</code>属性，就被视为具有 iterator 接口，就可以用<code>for...of</code>循环遍历它的成员；</li> <li><code>for...of</code>循环内部调用的是数据结构的<code>Symbol.iterator</code>方法；</li> <li><code>for...of</code>循环可以使用的范围包括数组、Set 和 Map 结构、某些类似数组的对象（比如<code>arguments</code>对象、DOM NodeList 对象）、 Generator 对象，字符串.</li> <li>优点：
<ul><li>有着同<code>for...in</code>一样的简洁语法，但是没有<code>for...in</code>那些缺点。</li> <li>不同于<code>forEach</code>方法，它可以与<code>break</code>、<code>continue</code>和<code>return</code>配合使用。</li> <li>提供了遍历所有数据结构的统一操作接口</li></ul></li></ul> <h2 id="类数组"><a href="#类数组" class="header-anchor">#</a> 类数组</h2> <p><strong>类数组概念:</strong></p> <ul><li>JavaScript中，数组是一个特殊的对象，其 property 名为正整数，且其l ength 属性会随着数组成员的增减而发生变化，同时又从 Array 构造函数中继承了一些用于进行数组操作的方法。</li> <li>而对于一个普通的对象来说，如果它的所有 property 名均为正整数，同时也有相应的 <em>length</em> 属性，那么虽然该对象并不是由Array构造函数所创建的，它依然呈现出数组的行为，在这种情况下，这些对象被称为　“类数组对象”　。</li> <li>总结： 拥有<code>length</code>属性的对象</li></ul> <p><strong>类数组包含:</strong></p> <ul><li>DOM方法的返回结果： document.getElementsByTagName() 返回的就是一个类数组对象</li> <li>函数 arguments 对象</li> <li>函数也可以被看作是类数组对象，因为它含有length属性值，代表可接收的参数个数</li></ul> <p><strong>类数组转数组的方法：</strong></p> <ul><li>扩展运算符 ...</li> <li>Array.from(arrayLike)</li> <li>Array.prototype.slice.apply(arguments)</li> <li>Array.prototype.splice.call(arrayLike,0)</li> <li>Array.prototype.concat.apply([],arrayLike)</li></ul> <h2 id="字符串"><a href="#字符串" class="header-anchor">#</a> 字符串</h2> <h3 id="字符串的不可变性"><a href="#字符串的不可变性" class="header-anchor">#</a> 字符串的不可变性</h3> <ul><li>在JavaScript中，字符串是不可变的（immutable），这意味着一旦<strong>字符串被创建，就无法对其进行修改</strong>。</li> <li>当你对字符串执行某些操作时，实际上是创建了一个新的字符串，而原始字符串保持不变。</li> <li>当你尝试修改字符串中的某个字符时，<strong>例如使用索引访问并更改字符的值，或者使用类似 <code>str[index] = newValue</code> 的方式来修改，这些操作实际上是无效的，不会改变原始字符串</strong>。<strong>JavaScript中的字符串是只读的</strong>。</li> <li>这种不可变性的设计有一些重要的好处：
<ol><li>可靠性：由于字符串不可变，你可以确信一个字符串的值不会在其他地方被修改。这在多线程环境或并发操作中特别有用。</li> <li>缓存优化：不可变性使得字符串在进行缓存时更有效。由于字符串不会改变，可以更容易地对字符串进行缓存，以便在需要时重用。</li> <li>函数式编程：不可变性是函数式编程的重要概念之一。它鼓励使用纯函数，即函数的输出只由输入决定，不对外部状态进行修改。不可变性使得字符串在函数式编程中更易于处理。</li></ol></li> <li>尽管字符串是不可变的，但你可以通过创建新的字符串来进行字符串的拼接、替换、截取等操作。</li> <li>JavaScript提供了许多字符串处理方法来执行这些操作，例如 <code>concat()</code>、<code>slice()</code>、<code>replace()</code> 等等。</li> <li>总结起来，<strong>JavaScript中的字符串是不可变的，一旦创建就无法直接修改，但你可以通过创建新的字符串来实现对字符串的操作和变换</strong>。</li></ul> <p><strong>参考资料：</strong></p> <p><a href="https://github.com/mqyqingfeng/Blog/issues/14" target="_blank" rel="noopener noreferrer">JavaScript深入之类数组对象与arguments<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="object-对象"><a href="#object-对象" class="header-anchor">#</a> <strong>Object 对象</strong></h2> <h3 id="对象访问"><a href="#对象访问" class="header-anchor">#</a> 对象访问</h3> <p><img src="/myblog/assets/img/object.798e2654.png" alt=""></p> <h3 id="对象方法"><a href="#对象方法" class="header-anchor">#</a> 对象方法</h3> <p><img src="/myblog/assets/img/object2.0ceef1f3.png" alt=""></p> <p><img src="/myblog/assets/img/object6.7c5cc299.png" alt=""></p> <p><strong>相关问题</strong></p> <blockquote><p><code>Object.keys()</code> 、<code>Object.values()</code>是按什么顺序返回值?</p></blockquote> <ul><li>.Chrome Opera 的 JavaScript 解析引擎遵循的是新版 ECMA-262 第五版规范。因此，使用 for-in 语句遍历对象属性时遍历书序并非属性构建顺序。</li> <li>而 IE6 IE7 IE8 Firefox Safari 的 JavaScript解析引擎遵循的是较老的 ECMA-262 第三版规范，属性遍历顺序由属性构建的顺序决定。</li> <li>Chrome Opera 中使用 for-in 语句遍历对象属性时会遵循一个规律：
<ul><li>它们会先提取所有 key 的 parseFloat 值为非负整数的属性，然后根据数字顺序对属性排序首先遍历出来，然后按照对象定义的顺序遍历余下的所有属性。</li> <li>其它浏览器则完全按照对象定义的顺序遍历属性。</li></ul></li> <li>大多数浏览器将对象属性迭代为：
<ol><li>按升序排列的整数键（以及像“1”这样解析为整数的字符串）</li> <li>字符串键，按插入顺序（ES2015 保证这一点，所有浏览器都遵守）</li> <li>符号名称，按插入顺序（ES2015 保证这一点，所有浏览器都遵守）</li> <li>一些较旧的浏览器结合了类别 #1 和 #2，按插入顺序迭代所有键。如果您的键可能会解析为整数，最好不要依赖任何特定的迭代顺序。</li></ol></li></ul> <h3 id="对象属性"><a href="#对象属性" class="header-anchor">#</a> 对象属性</h3> <ul><li>对象属性包括
<ul><li>数据属性</li> <li>访问器属性</li></ul></li></ul> <p><img src="/myblog/assets/img/object3.5d1d8ae4.png" alt=""></p> <p><img src="/myblog/assets/img/object4.962f44bf.png" alt=""></p> <h3 id="对象属性方法"><a href="#对象属性方法" class="header-anchor">#</a> 对象属性方法</h3> <p><img src="/myblog/assets/img/object5.77b1e88f.png" alt=""></p> <h3 id="防篡改对象"><a href="#防篡改对象" class="header-anchor">#</a> 防篡改对象</h3> <p><img src="/myblog/assets/img/object7.da2d49fd.png" alt=""></p> <h3 id="假值对象"><a href="#假值对象" class="header-anchor">#</a> 假值对象</h3> <ul><li>浏览器在某些特定情况下，在常规JavaScript语法基础上自己创建了一些外来值，这些就是“假值对象”。</li> <li>假值对象看起来和普通对象并无二致（都有属性，等等），但将它们强制类型转换为布尔值时结果为false最常见的例子是document.all，它是一个类数组对象，包含了页面上的所有元素，由DOM（而不是JavaScript引擎）提供给JavaScript程序使用</li></ul> <h3 id="内置对象"><a href="#内置对象" class="header-anchor">#</a> 内置对象</h3> <p>全局的对象（globalobjects）或称标准内置对象，不要和&quot;全局对象（globalobject）&quot;混淆。</p> <p>这里说的全局的对象是说在全局作用域里的对象。</p> <p>全局作用域中的其他对象可以由用户的脚本创建或由宿主程序提供。</p> <p>标准内置对象的分类：</p> <ul><li>（1）值属性。这些全局属性返回一个简单值，这些值没有自己的属性和方法。例如Infinity、NaN、undefined、null字面量</li> <li>（2）函数属性。全局函数可以直接调用，不需要在调用时指定所属对象，执行结束后会将结果直接返回给调用者。例如eval()、parseFloat()、parseInt()等</li> <li>（3）基本对象。基本对象是定义或使用其他对象的基础。基本对象包括一般对象、函数对象和错误对象。例如Object、Function、Boolean、Symbol、Error等</li> <li>（4）数字和日期对象。用来表示数字、日期和执行数学计算的对象。例如Number、Math、Date</li> <li>（5）字符串。用来表示和操作字符串的对象。例如String、RegExp</li> <li>（6）可索引的集合对象。这些对象表示按照索引值来排序的数据集合，包括数组和类型数组，以及类数组结构的对象。例如Array</li> <li>（7）使用键的集合对象。这些集合对象在存储数据时会使用到键，支持按照插入顺序来迭代元素。例如Map、Set、WeakMap、WeakSet</li> <li>（8）矢量集合。SIMD矢量集合中的数据会被组织为一个数据序列。例如SIMD等</li> <li>（9）结构化数据。这些对象用来表示和操作结构化的缓冲区数据，或使用JSON编码的数据。例如JSON等</li> <li>（10）控制抽象对象。例如Promise、Generator等</li> <li>（11）反射。例如Reflect、Proxy</li> <li>（12）国际化，为了支持多语言处理而加入ECMAScript的对象。例如Intl、Intl.Collator等</li> <li>（13）WebAssembly（</li> <li>14）其他例如arguments</li></ul> <p><strong>总结</strong>：</p> <ul><li>内置对象主要指的是在程序执行前存在全局作用域里的由js定义的一些全局值属性、函数和用来实例化其他对象的构造函数对象。</li> <li>一般我们经常用到的如全局变量值NaN、undefined，全局函数如parseInt()、parseFloat()用来实例化对象的构造函数如Date、Object等，还有提供数学计算的单体内置对象如Math对象。</li></ul> <p>详细资料可以参考：<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects" target="_blank" rel="noopener noreferrer">《标准内置对象的分类》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><a href="https://segmentfault.com/a/1190000011467723" target="_blank" rel="noopener noreferrer">《JS所有内置对象属性和方法汇总》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="new操作符"><a href="#new操作符" class="header-anchor">#</a> new操作符</h3> <blockquote><p>new操作符具体干了什么?</p></blockquote> <ul><li>创建一个空对象</li> <li>继承了该函数的原型</li> <li>属性和方法被加入到 this 引用的对象中</li> <li>新创建的对象由 this 所引用，并且最后隐式的返回 this</li></ul> <p><img src="/myblog/assets/img/new-demo.fe3b8504.png" alt=""></p> <h2 id="深浅拷贝"><a href="#深浅拷贝" class="header-anchor">#</a> 深浅拷贝</h2> <p><img src="/myblog/assets/img/copy.96764817.png" alt=""></p> <p><strong>浅拷贝</strong>：仅拷贝第一层</p> <ul><li><code>Object.assign</code>，</li> <li>展开运算符 <code>...</code></li></ul> <p><strong>深拷贝</strong>：</p> <p><code>JSON.parse(JSON.stringify(object))</code> <strong>缺陷</strong>：</p> <ul><li><p>使用<code>JSON.parse(JSON.stringify(object))</code>拷贝对象存在以下缺陷：</p> <ul><li><p>函数、undefined 丢失；</p></li> <li><p>正则表达式、Error对象 只得到空对象；</p></li> <li><p>NaN、Infinity、-Infinity 会变成null;</p></li> <li><p>会忽略 symbol;</p></li> <li><p>时间对象 <code>Date()</code>，拷贝后时间将是字符串的形式，而不是对象的形式;</p> <p><img src="/myblog/assets/img/test-json.parse.0dc55590.png" alt=""></p></li> <li><p>JSON.stringify()只能拷贝对象的可枚举的自有属性。</p> <ul><li><p>如果对象中的对象是有构造函数生成的， 则使用JSON.parse(JSON.stringify(obj))深拷贝后，会丢弃对象的constructor；</p> <p><img src="/myblog/assets/img/test-json.parse2.f0dd1670.png" alt=""></p></li></ul></li></ul></li></ul> <h2 id="集合"><a href="#集合" class="header-anchor">#</a> <strong>集合</strong></h2> <h3 id="set-集合"><a href="#set-集合" class="header-anchor">#</a> Set 集合</h3> <p><img src="/myblog/assets/img/set.32af65c9.png" alt="set"></p> <h3 id="weakset"><a href="#weakset" class="header-anchor">#</a> WeakSet</h3> <p><img src="/myblog/assets/img/weakset.9d970e32.png" alt="weakset"></p> <h3 id="map-集合"><a href="#map-集合" class="header-anchor">#</a> Map 集合</h3> <p><img src="/myblog/assets/img/map.1a4e8595.png" alt="map"></p> <h3 id="set、map、object-比较"><a href="#set、map、object-比较" class="header-anchor">#</a> Set、Map、Object 比较</h3> <p><img src="/myblog/assets/img/weakmap.a01e79f3.png" alt=""></p> <blockquote><p><strong>为什么要引入：<a href="http://es6.ruanyifeng.com/#docs/set-map#WeakSet" target="_blank" rel="noopener noreferrer">WeakSet<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 和 <a href="http://es6.ruanyifeng.com/#docs/set-map#WeakMap" target="_blank" rel="noopener noreferrer">WeakMap<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>？</strong></p></blockquote> <ul><li>js 引擎会对未使用的引用需要进行垃圾回收，需要及时清除未使用的引用。但有时候不容易记住所有未使用的引用，所以容易导致内存泄漏。</li> <li>因此，引入一种方法，在新建引用的时候就声明，哪些引用必须手动清除，哪些引用可以忽略不计，当其他引用消失以后，垃圾回收机制就可以释放内存。这样就能大大减轻程序员的负担，你只要清除主要引用就可以了。</li> <li>ES6 考虑到了这一点，推出了两种新的数据结构：<a href="http://es6.ruanyifeng.com/#docs/set-map#WeakSet" target="_blank" rel="noopener noreferrer">WeakSet<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 和 <a href="http://es6.ruanyifeng.com/#docs/set-map#WeakMap" target="_blank" rel="noopener noreferrer">WeakMap<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。它们对于值的引用都是不计入垃圾回收机制的，所以名字里面才会有一个&quot;Weak&quot;，表示这是弱引用。</li> <li>基本上，如果你要往对象上添加数据，又不想干扰垃圾回收机制，就可以使用 WeakMap。</li></ul> <h2 id="变量"><a href="#变量" class="header-anchor">#</a> <strong>变量</strong></h2> <h3 id="变量声明方式"><a href="#变量声明方式" class="header-anchor">#</a> 变量声明方式</h3> <p><img src="/myblog/assets/img/bianliangshengmin.ea6d5ac0.png" alt=""></p> <p><img src="/myblog/assets/img/const.0e5ad756.png" alt=""></p> <p><strong>嵌套作用域-屏蔽</strong></p> <ul><li><p>嵌套作用域的屏蔽是指当变量在一个嵌套的作用域中被声明时，它会屏蔽外部作用域中具有相同名称的变量。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">sumMatrix</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">matrix</span><span class="token operator">:</span> number<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> matrix<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> currentRow <span class="token operator">=</span> matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> currentRow<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            sum <span class="token operator">+=</span> currentRow<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><blockquote><p>这个版本的循环能得到正确的结果，因为内层循环的<code>i</code>可以屏蔽掉外层循环的<code>i</code>。</p></blockquote></li></ul> <p><strong>变量作用域理解</strong></p> <ul><li>题目1：输出结果</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;=</span><span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">500</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">//输出： 6,6,6,6,6,6</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p>分析：</p> <ul><li><p>考察点：<code>JavaScript中的事件循环机制</code>、<code>变量作用域</code></p></li> <li><p>分析：该题目涉及 JS 时间循环机制 和 作用域 考察</p> <ul><li><p>JS 循环机制：</p> <ul><li>JS是单线程环境，也就是说代码的执行是从上到下，依次执行，这样的执行称为同步执行；</li> <li>遇到异步任务，会将异步任务添加到异步事件队列；等待异步任务执行完成，会将异步任务结果放入回调队列；</li> <li>等主线程所有任务执行完成，才执行回调队列中的事件。</li></ul></li> <li><p>在此代码中：</p> <ul><li>for循环是同步代码，而setTimeout中的是异步代码，JS碰到这个有同步和异步的情况下会先从上到下执行同步代码，碰到异步的代码会将其插入到任务队列当中等待</li> <li>在循环中，使用了<code>setTimeout</code>函数来创建了一个异步任务。每次循环迭代时，都会创建一个新的异步任务，并将其添加到事件队列中。这些异步任务将在指定的延迟时间后执行。</li> <li>然而，<code>setTimeout</code>中的回调函数是在循环结束后才被调用的。此时，循环已经完成，并且变量<code>i</code>的值已经变为了6。</li> <li>由于JavaScript中的变量没有块级作用域，而是函数级作用域，这意味着在循环中定义的变量<code>i</code>是一个全局变量。</li></ul></li> <li><p>作用域链：</p> <ul><li>作用域是变量等资源的作用范围</li> <li>当同步代码执行完毕开始执行异步的setTimeout代码时，setTimeout中需要变量 i,而执行的时候在当前的作用域中开始找，找不到变量i的定义，这个时候就把创建这个函数的作用域作为当前作用域</li> <li>再次寻找，创建这个函数的作用域就是全局作用域，也就是找到了for循环中i，找到了之后就结束寻找变量i的过程</li> <li>由于这个时候的i是全局的，并且保存变量 6，因此所有定时任务都输出全局作用域的变量 i 的结果。</li></ul></li> <li><p>解决方法：使用闭包来创建一个独立的作用域，并在每次循环迭代时将<code>i</code>的值传递给回调函数：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// ES5 写法</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;=</span><span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 输出：0 1 2 3 4 5</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//ES6 写法</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//输出：1，2，3，4，5</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>分析：
<ul><li>首先同步执行 for 循环，循环内部 包含一个闭包函数，通过参数形式传入 i，闭包中保存变量 i 副本；当遇到 setTimeout 时，打印闭包中的 i 副本，因此每次输出 i 都是递增值</li></ul></li></ul></li></ul></li></ul></blockquote> <h3 id="变量提升和函数提升"><a href="#变量提升和函数提升" class="header-anchor">#</a> 变量提升和函数提升</h3> <ul><li><p>提升：js代码执行前引擎会先进行预编译，预编译期间会将函数声明提升至其对应作用域的最顶端；</p></li> <li><p>变量提升：变量的声明会被自动移到函数或者全局代码的最顶上；移动的仅仅是声明，变量的定义并不会随之提升；</p></li> <li><p>函数提升：直接在函数声明之前调用该函数，并能成功执行它，而不会提升函数表达式；</p></li></ul> <p><img src="/myblog/assets/img/bianliangtisheng.9e11a319.png" alt=""></p> <p><strong>变量提升相关题目</strong></p> <ul><li><p>题目1：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">&quot;world&quot;</span><span class="token punctuation">;</span>
     <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> name <span class="token operator">==</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     		<span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">'yang'</span><span class="token punctuation">;</span>
     		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hello '</span> <span class="token operator">+</span> name<span class="token punctuation">)</span>
     	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
     		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hello '</span> <span class="token operator">+</span> name<span class="token punctuation">)</span>
     	<span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li><p>输出结果：Hello yang</p></li> <li><p>代码相当于</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">&quot;world&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> name<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> name <span class="token operator">==</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">'yang'</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hello '</span> <span class="token operator">+</span> name<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hello '</span> <span class="token operator">+</span> name<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li></ul></li></ul> <h2 id="this-和-this-绑定"><a href="#this-和-this-绑定" class="header-anchor">#</a> this 和 this 绑定</h2> <p>在 JavaScript 中，<code>this</code> 关键字是一个特殊的关键字，它在函数被调用时确定其值。<code>this</code> 的值是在函数执行时动态绑定的，而不是在函数定义时绑定的。</p> <p>注意：在严格模式（<code>'use strict'</code>）下，全局执行上下文中的 <code>this</code> 是 <code>undefined</code>，而不是全局对象。</p> <p>this 绑定方式：</p> <table><thead><tr><th style="text-align:center;">绑定方式</th> <th style="text-align:center;">说明</th> <th style="text-align:center;">特点</th></tr></thead> <tbody><tr><td style="text-align:center;"><strong>默认绑定(全局执行上下文)</strong></td> <td style="text-align:center;">在全局作用域中，<code>this</code> 指向全局对象（在浏览器中是 <code>window</code>）。</td> <td style="text-align:center;">当你在全局作用域中调用一个函数，且该函数内部没有显式地设置 <code>this</code> 的值时，<code>this</code> 会指向全局对象。</td></tr> <tr><td style="text-align:center;"><strong>隐式绑定(函数调用)</strong></td> <td style="text-align:center;">当一个函数以函数调用的方式执行时，<code>this</code> 绑定到全局对象。</td> <td style="text-align:center;">这就是在全局作用域中直接调用函数时的情况。</td></tr> <tr><td style="text-align:center;"><strong>对象方法</strong></td> <td style="text-align:center;">当一个函数作为对象的方法被调用时，<code>this</code> 绑定到该对象。</td> <td style="text-align:center;">当你在一个对象上调用它的方法时，<code>this</code> 会指向该对象。</td></tr> <tr><td style="text-align:center;"><strong>构造函数</strong></td> <td style="text-align:center;">当一个函数以构造函数的方式调用时（使用 <code>new</code> 关键字），<code>this</code> 绑定到新创建的对象。</td> <td style="text-align:center;">构造函数是一种特殊类型的函数，用于初始化一个新创建的对象。在构造函数内部，<code>this</code> 指向新创建的对象。</td></tr> <tr><td style="text-align:center;"><strong><code>call</code>、<code>apply</code>、<code>bind</code></strong></td> <td style="text-align:center;">你可以使用 <code>call</code>、<code>apply</code> 或 <code>bind</code> 方法来显式地设置 <code>this</code> 的值。</td> <td style="text-align:center;">这些方法允许你控制函数执行时 <code>this</code> 的值。<code>call</code> 和 <code>apply</code> 会立即调用函数，而 <code>bind</code> 会返回一个新的函数，该函数在调用时具有指定的 <code>this</code> 值。</td></tr> <tr><td style="text-align:center;"><strong>箭头函数</strong></td> <td style="text-align:center;">箭头函数不绑定自己的 <code>this</code>，而是从包含它的函数或全局作用域中继承 <code>this</code>。</td> <td style="text-align:center;">箭头函数提供了一种简洁的方式来定义函数，同时保持 <code>this</code> 的上下文不变。这对于在回调函数和其他情况下保持 <code>this</code> 的正确引用非常有用。</td></tr></tbody></table> <p><img src="/myblog/assets/img/this.c4cdb75d.png" alt=""></p> <p><img src="/myblog/assets/img/new-bingding.5fadbcb5.png" alt=""></p> <p><img src="/myblog/assets/img/hanshu-this.cdd62f70.png" alt=""></p> <ul><li>this 绑定判断</li></ul> <p><img src="/myblog/assets/img/this-panduan.181e2a1e.png" alt=""></p> <ul><li><p>this 使用</p> <p><img src="/myblog/assets/img/this-use.f4ba83cc.png" alt=""></p></li></ul> <p><strong>相关问题：</strong></p> <blockquote><p><strong>如果一个构造函数，bind了一个对象，用这个构造函数创建出的实例会继承这个对象的属性吗？为什么?</strong></p></blockquote> <p>​		不会继承，因为根据 this 绑定四大规则，new 绑定的优先级高于 bind 显示绑定，通过 new 进行构造函数调用时，会创建一个新对象，这个新对象会代替 bind 的对象绑定，作为此函数的 this，并且在此函数没有返回对象的情况下，返回这个新建的对象。</p> <h2 id="执行环境-环境栈"><a href="#执行环境-环境栈" class="header-anchor">#</a> 执行环境&amp;环境栈</h2> <p><strong>执行环境</strong></p> <p><img src="/myblog/assets/img/zhixinghuanjing.606f6f16.png" alt=""></p> <p><strong>环境栈</strong></p> <p><img src="/myblog/assets/img/huanjingzhan.40393c26.png" alt=""></p> <h2 id="作用域-作用域链"><a href="#作用域-作用域链" class="header-anchor">#</a> 作用域&amp;作用域链</h2> <p><img src="/myblog/assets/img/zuoyonyu-zuoyongyulian.94823a77.png" alt=""></p> <p><strong>作用域:</strong></p> <ul><li>作用域是变量与函数的可访问范围，即作用域控制着变量与函数的可见性和生命周期。</li> <li>作用域是一套规则，在当前作用域以及嵌套的子作用域中根据标识符名称进行变量查找。</li></ul> <p><img src="/myblog/assets/img/zuoyongyu.9345b21f.png" alt=""></p> <p><strong>作用域链:</strong></p> <ul><li>作用域链的作用是保证执行环境里有权访问的变量和函数是有序的</li> <li>作用域链的变量只能向上访问，变量访问到window对象即被终止，作用域链向下访问变量是不被允许的。</li></ul> <p><img src="/myblog/assets/img/zuoyongyulian.a91f3276.png" alt=""></p> <p><img src="/myblog/assets/img/yanchangzuoyongyu.03d3721c.png" alt=""></p> <h2 id="闭包"><a href="#闭包" class="header-anchor">#</a> 闭包</h2> <p><img src="/myblog/assets/img/bibao.36a9d7d7.png" alt=""></p> <p><strong>相关问题</strong></p> <blockquote><p><strong>什么是闭包？</strong></p></blockquote> <ul><li><p>闭包是有权限访问其他函数作用域的局部变量的一个<strong>函数</strong></p></li> <li><p>判断闭包：函数内部使用了该函数外部的变量，则该函数是闭包。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">closureOuter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">let</span> outerVar <span class="token operator">=</span> <span class="token string">'outer func var'</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// 闭包函数，引用了外部函数变量</span>
    <span class="token keyword">return</span> outerVar 
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> test <span class="token operator">=</span> <span class="token function">closureOuter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// 使用test接受匿名函数</span>
name <span class="token operator">=</span> <span class="token keyword">null</span> <span class="token comment">// 释放引用内存</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li></ul> <blockquote><p>为什么其他非闭包的函数，没有权限访问另一个函数的内部作用域?</p></blockquote> <ul><li>在JS中，变量的作用域属于函数作用域，在函数执行后作用域就会被清理、内存也随之被收回;</li> <li>闭包是建立在一个函数内部的子函数，由于其可访问上级作用域的原因，因此存在对上级作用域的引用计数（无法垃圾回收），即使上级函数执行完，作用域也不会随之销毁；</li> <li>这时的子函数—也就是闭包，便拥有了访问上级作用域中的变量的权限，即使上级函数执行完后，作用域内的值也不会被销毁。</li></ul> <blockquote><p><strong>闭包产生本质？</strong></p></blockquote> <ul><li>当前函数定义了其他函数，当前环境中存在指向父级作用域的引用</li> <li>本质上闭包就是将函数内部和函数外部连接起来的方式</li></ul> <blockquote><p><strong>闭包解决了什么？</strong></p></blockquote> <ul><li><p>作用域链的变量只能向上访问，变量访问到window对象即被终止，作用域链向下访问变量是不被允许的。闭包就是用于解决这个问题所产生的</p> <p><img src="data:image/png;base64,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" alt=""></p></li> <li><p>由于闭包可以缓存下级作用域，那么就使得函数外部打破了“函数作用域”的束缚，可以访问函数内部的变量。</p></li></ul> <blockquote><p><strong>闭包作用？</strong></p></blockquote> <ul><li>可以读取函数内部的变量；</li> <li>保存上级作用域，实现方法或属性的私有化；</li></ul> <blockquote><p><strong>闭包特性？</strong></p></blockquote> <ul><li>函数内部嵌套函数</li> <li>函数内部可以引用外部的变量</li> <li>参数和变量不会被垃圾回收机制回收</li></ul> <blockquote><p><strong>如何产生闭包？</strong></p></blockquote> <ul><li>函数中返回一个函数</li> <li>函数当作参数传递</li> <li>IIFE 执行函数</li> <li>定时器 setTimeout 和自执行函数</li> <li>所有的回调函数</li></ul> <blockquote><p><strong>闭包的this指向</strong></p></blockquote> <ul><li>闭包的 this 指向的是 window</li></ul> <blockquote><p><strong>闭包应用场景</strong>？</p></blockquote> <ul><li><p>回调函数</p></li> <li><p>柯里化 bind</p></li> <li><p>模块</p></li> <li><p>创建私有变量</p></li> <li><p>模仿块级作用域</p> <ul><li><p>概念：JavaScript 没有块级作用域的概念。这意味着在块语句中定义的变量，实际上是在包含函数中而非语句中创建的</p></li> <li><p>要点：</p> <ul><li>创建并立即调用一个函数，这样既可以执行其中的代码，又不会在内存中留下对该函数的引用</li> <li>函数内部的所有变量都会被立即销毁——除非将某些变量赋值给了包含作用域（即外部作用域）中的变量</li></ul></li> <li><p>语法：</p> <ul><li><div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token comment">//这里是块级作用域</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>解释：以上代码定义并立即调用了一个匿名函数。将函数声明包含在一对圆括号中，表示它实际上是一个函数表达式。而紧随其后的另一对圆括号会立即调用这个函数</p></li></ul></li> <li><p>实例：<img src="/myblog/assets/img/闭包实例4.1c29b09c.png" alt="image-20210715181307848"></p> <ul><li>在匿名函数中定义的任何变量，都会在执行结束时被销毁；</li> <li>变量 i 只能在循环中使用，使用后即被销毁；</li> <li>在私有作用域中能够访问变量 count ，是因为这个匿名函数是一个闭包，它能够访问包含作用域中的所有变量</li></ul></li></ul></li></ul> <blockquote><p><strong>滥用闭包存在什么问题？</strong></p></blockquote> <ul><li>会造成网页的性能问题，在IE中可能导致内存泄漏。
<ul><li>原因：
<ul><li>JS使用垃圾回收机制的原理是标记清除，当一个变量所属的函数作用域被销毁了，变量所存在的作用域没有了，这时JS会给这个变量打上一个标记，待下次垃圾回收时会将其清除。</li> <li>闭包函数中引用了外部函数的变量，并且外部函数返回的函数赋给了全局作用域中的变量，导致了原本应该被回收的闭包外部函数的变量一直被引用无法回收，这样会导致内存泄漏。</li></ul></li> <li>解决方法：全局作用域中的变量复制为 null。</li></ul></li></ul> <blockquote><p><strong>栈内存释放</strong></p></blockquote> <ul><li>即使外部函数栈内存释放闭包依旧存在
<ul><li>堆内存：存储引用类型，对象类型就是键值对，函数就是代码字符串。将引用类型的空间地址赋值为 <code>null</code>。</li> <li>栈内存：提供代码的执行环境和存储基本类型。函数执行完后函数的私有作用域会被释放掉。</li></ul></li></ul> <blockquote><p><strong>匿名函数与闭包区别?</strong></p></blockquote> <ul><li>闭包中引用了其他作用域链上的变量</li></ul> <p><strong>实例解析</strong></p> <ul><li><p>闭包使用实例：</p> <ul><li><img src="/myblog/assets/img/闭包使用.280b7b1a.png" alt="image-20210715165629637"></li> <li>图示：<img src="/myblog/assets/img/闭包图形.1c7ef558.png" alt="image-20210715165706895"></li> <li><img src="/myblog/assets/img/闭包解析过程.0378e1d7.png" alt="image-20210715165752815"></li></ul></li> <li><p><strong>闭包只能取得包含函数中任何变量的最后一个值</strong></p> <ul><li><p>原因：闭包所保存的是整个变量对象，而不是某个特殊的变量</p></li> <li><p>实例：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">createFunctions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        result<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">return</span> num<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> res <span class="token operator">=</span> <span class="token function">createFunctions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span>res<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>res<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>res<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 输出结果： [ƒ, ƒ, ƒ, ƒ, ƒ, ƒ, ƒ, ƒ, ƒ, ƒ] 0 1 9</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">createFunctions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        result<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> num
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> res <span class="token operator">=</span> <span class="token function">createFunctions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 输出结果：[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ul><li>创建另一个匿名函数强制让闭包将变量i传递给该匿名函数</li> <li>匿名函数(闭包)活动对象中保存变量副本,数组每一个变量则保存匿名函数引用</li> <li>图示：<img src="/myblog/assets/img/闭包实例2.7c3d5c32.png" alt="image-20210715170437808"></li></ul></li></ul></li> <li><p><strong>闭包形参优先级高于变量提升的变量</strong></p> <ul><li>实例：<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAP8AAAEUCAMAAADTIhANAAAAb1BMVEX////JycpSUlLb29twcHDv7++JiYnx8fEiIiL39/irq6s8PDypGhr99/ny3OTNdXbuysv67+/mq66RDKvVj4/BWlq5RETlw+vFftP37fmpQL2dKrXVo9/cOU+3YsnRABwERprPAByWlpbpg5FKercHw1SJAAAK/UlEQVR42u1di5aiMAwtKiiMKKCOOiPO7rj//43bd1rkpQKKzd09AyIot0nTNI2BEAQCgUAgOkG2XC4/V/deHS0WXldn3Q7f74B+8sDVUS2vNP/JWp14J8Lod/roR6zX4QNXz4LqN+N1nmj+tWfeLf7f30cbIN1tSU/8LxnpmT9tgKCkAVbfB9gcNpvN15HtnI9nuVvKP9F2IN3R3ewW/tMPj3bxD3Er/mSiuiXlHxf5e4uoM/4x04CrjhWeOcvTN2Vz2BNy/GKvaUOc6O45NskvBWgbbBn3LTMGCeOeLLc38V/MQhII3p42dnGJ/MMZO7U7DYiCXy8uHNxvKOv4fFbfs+ctwQ6SQ0EBlPxXn4m0BvGaH8msMcH7I/AvrODPOHmCty3/K/2POpS/sAFBsQscvw5M/fdWexSZ2/yzXSo3oiVkgzRAMqb8I+MVqCfwJ9HHlJB+TOD1yHKiXE+c7/Frw9DIfyv5f66SpeTfaAGihZJpBX+j/3PF9/qgH5S0K5V9eD7xHdbfa+Tv2/Lf7nzZExLLL6jQ/wb5k77lXzUAhufDnqs/Z95G/wXdcL2N5ZFs599i/wz+Df3f687+TSvH//3X4SB6Pt2cWuh/uOb2n/3JhP3PyJ386+0/Cbrzhan/58el79BuL6wf5b45cFNYz5+Nfcul8AWT1jOCWvknPwKJzd+fdDcAhD55Ktp7dXBmOOtnJBgLf28RkLdBa6sOI0U/M+FnIWg7/48IAoFADASvy2n2lUFrM4ZNZ/ET6WuLy1zA75sCvNp7rLbnysNdM68xrjrLEAEd+IYc9/1JoOnvW12xh/Oa+At3l9MX08ZGGdBLhvV6AjUHM8JArfk3+nJKrk1BgkC7R9FkUFddS0jEgrrlD/P8pGHxALRwYP5a/Jq/2K6+TzwS/LXZHGSkhBsHGSZiIVJ1SCjPRpxIZ5AndRTEb/Bnq0iiL1izR30fw/JXsw1N62DxZ/EAvkeNA/17PMQF+Z8EUx5B5yEk2ib0r5hC+5OIKKIcCQmZHTBCCFvVLlpVhuWvbvFK/nvBf89CRJSQ2Tls/nz/wE0He2MPcTQW7CcF+Sdc4CyWAHFkux8Oyx+6f4H/kfNnYowZ/70xLtr8Rez0ROSGXydPMcJ8iv9W0KUbiCNbBgAMwXP57zV/Lv8TxMhL5C+6CL9yX8tfiXu7S7cibKhWDwTv6cew1q9a/y35h1LODfJnzWDKv0T/t9wFYs2g48ipJYiB5W+YaJs/t3em/p9q5B8K14FFkk35G1wo/xDEne4yiCM/1f6VjH+c9Wlj8xem8HhgJOZf4Cidvn3RJAc5CPgG/5Lxz99x+0913xgEnjj+lfk/IR3Lz/6X1f8ZJb0mzAfLk5gvyKPMFRArCAb/Mv+HzwPkSpKOIz/R/zEUoHvMZ22nlk/zf+WKbG9zy6DledoMD82/3zBzuzVsc85njMhDNcBvn/GPNmwiUwW9xTvF/REIBMJyCyb3ruvOg+evCEeLRV1iRrBost/+RF2eiKDILc7KKyyJh/VuXdMULpjMFf3s1q+Gthstf5gUbHe3u3reC6wPP8QfLg7X6zuWfTqer0w/VDou69fss/1JRF0wlaGj9sIZ9GtNAd4u5c/fjvSeuB7EH+uMcmNSCOFhYDxbTcCm6Os70QTun/tBSDlR7jzjht4r3eX5GtwvDwNf7qmpkuLPD17fhuLP3+GzC36inArI+Q2nvBRrYqvPLVshoXtGeNiyqB5MC9Snd5IeDKrqcSVgr0VWFv8+kFXAv8tTujCbw8GgeBvyQ2VonTUkb0x5GE7XsV8RFGUhAggPW/w9Q+f0ThfpwZ4eTuRt0Y2KREZGDo4ME8qNnNbLV1eZPZKojP6xjcHfsB2q/7NoGA8NZRAejos9Hq7r0gDoe1cfTz/c4K87uNQ+LVl+MjMdDBX8pbKwS6X+e4buGP1frg1SqRvh4YH5S/mzbzH5E5mFKEUtD4aW/Ks6lZQ/awbPaKbgSv6+kD9rBggPV/IPZx16ABBsiGT/j0iBP38tv1R2F/nKuhPaTJ7NX26YvTNNBDS5kr/csr4P4WECWQGc/xzGnEDZ/w4agtsWZv+51eODgME/0smqYMYN4mbkyIhaqDuMhP2PbJUFm6rHf/4TEj4IqPBwKgy8aCpb/vr6btKDPTnqwwBvyj/Qess7u6fO06eqPS1/OdIvIvnZUq30JYbWwPi/+mTzAK5T4AnY8teX6bbsMj24b3+R37NUF+8hsYG7MZ70YNlv5Oah+6bzn7luibGECWWee6CdibtHMKlJZGTpwcJmaNb+7F7+08nbZMQjEAjEs1GbmOsC/drE3NtxYb9ku4yGf4tf797xofloGiB5qKpHlVJd8nR0/CsSc5W7adRtaNEJZGTjFVYrask3J+ZqdxvqNjR/rvgpK53BvvwUrTExV/E36jYoN17+1P2PzTGj9i8zrxoF/8rEXMUkumHqnuZj6//Vibn38KcDQDYu/tWJudX8/X+l+i8UYET86xJz1YJ7qfzDJgPoT0Zj/yoSc9XvkW/Tf+X/jCCVrSExt1b+5aaPmv9cjZ3B4uUHgF4Ruf1r9gcinW+AcIaJrAgEAoEYP8Zc/7cT+slDnmANL1YALV+1OPGZ3kx/9X+TPOU1gJvPfCJ6rP8rG+EyOP/Xqf/LJo5F/v2ner9M/V8jZtBX/d9SvEz9X7ZuVuz/A0yeX6X+L4uaqzXYaMiY2evU/4WIeS/1fyst4EvU/zXpDyr/16j/u8rz1fVI6Q0RPHyF+r9JniclnkIwhC/8CvV/L/3X/32694z1f28+E+v/vlP0AOv/IhAIBPFnrtd/mEMkycX6D76iP9r6D/P7+Zv1H+Y3f/c71H+QrLH+w0jrP8yx/kMIB92r/yC7MNZ/uK/+Q1jo/1j/Aes/EKz/gPUfCNZ/uMH/HWv9hznWf3C9/sPdUQys/4BAIHqAHVoNZ22sqzf2BUpqmGFAMYZlGGd45tu20nse/QotMDVDq3qSku5qY3TR+Ndo4SE14FrC5K+hPAK03hvwh6kFzNeyhvSW4Z/W0CN/O0nN5m+EaM2sHyMsMVJNMPjrwK3s/ZkM0VKyEKItlIdQlsJbjNQUGPyVMI1HsFD5q7oI0hoUykN4j09qnj0AgNmX/T6w+BNihWgL5SHGbwCMh65V8ocQLSmUhxg9fzMgf6X/oaRphGgL5SG8sXsAZfYPOGWfU2H9ZYh2Wnxum7J/QyZtP2H8gxCt/dw2rT3ihx3v6/+IEC3fNZ/bZiwgLMY5ANT7v61nD6PNVtX8jdCqDlU2AeY/o01WVrpuObAt2YDGjLTQiV5jKoZWw1Yh2uB961s4WxATgUD0Csz/xfxfQd/157+NM/93jvm/+Pw3gs9/czj/1+nnv80x/xfzfzH/F/N/Mf+3pb+M+b8E838x/1e1B+b/IhAIRI+DjttABUAgEAgEAoFAlCHNfzJ32bOnLrjM/5IRp/kTVno8cznXMUb5o/wdlz/yx/6P/d9N4RtPXkAgEAgEAoEYN1qsEc/ZP/Uf178RCAQCgUAgEO+P5Ofv33zlLv08Jena4QZgWOUXp1cA0vyC8ndY/he3lz+yn3Xq9AiYO07f4c4fr3KnB39K32XbR02/4+vfWOYQgUAgEIh3QtuFYrYIjr//RiAQCAQCgUAgHMAq/+v0+j+Lf8YX59f/nf4FIFm5vf4bry/uLoCm+Y/b67+EJQC4/QtocnFcAzK3+adrp/OfqPo7O/5lbPHf7ew/BAKBQCAQb4P/LqcWZut0IY8AAAAASUVORK5CYII=" alt="image-20210715170659490"> <ul><li>在函数内部，调用 foo.n 优先访问的是形参，而不是内部定义的变量；console.log 访问的按作用域链优先访问内部变量</li></ul></li></ul></li> <li><p><strong>使用闭包创建私有变量</strong></p> <ul><li>概念：
<ul><li>JavaScript 中没有私有成员的概念；所有对象属性都是公有的</li> <li>但是任何在函数中定义的变量，都可以认为是私有变量</li> <li>可以使用闭包来实现公有方法，而通过公有方法可以访问在包含作用域中定义的变量</li></ul></li> <li>特权方法：
<ul><li>概念：有权访问私有变量的公有方法叫做特权方法</li> <li>为自定义类型创建私有变量和特权方法：
<ul><li>基本模式：<img src="data:image/png;base64,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" alt="image-20210715185337006"></li> <li>原理：能够在构造函数中定义特权方法，是因为特权方法作为闭包有权访问在构造函数中定义的所有变量和函数，使用函数声明创建局部特权方法</li> <li>作用：利用私有和特权成员，可以隐藏那些不应该被直接修改的数据</li></ul></li></ul></li> <li>静态私有变量：
<ul><li>概念：在私有作用域中定义私有变量或函数，同样也可以创建特权方法</li> <li>基本模式：<img src="/myblog/assets/img/静态变量.4459c05a.png" alt="image-20210715185513942"></li> <li>原理：公有方法是在原型上定义，使用了函数表达式</li> <li>与在构造函数中定义特权方法的主要区别：
<ul><li>私有变量和函数是由实例共享的</li> <li>特权方法是在原型上定义的，因此所有实例都使用同一个函数</li> <li>特权方法作为一个闭包，总是保存着对包含作用域的引用</li></ul></li> <li>实例<img src="/myblog/assets/img/闭包创建私有变量.c56ae2fd.png" alt="image-20210715185637370"></li></ul></li> <li>为单例创建私有变量和特权方法：
<ul><li>模块模式：通过为单例添加私有变量和特权方法能够使其得到增强
<ul><li><img src="data:image/png;base64,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" alt="image-20210715185725868"></li> <li>解释：
<ul><li>使用了一个返回对象的匿名函数</li> <li>在这个匿名函数内部，首先定义了私有变量和函数。然后，将一个对象字面量作为函数的值返回</li> <li>返回的对象字面量中只包含可以公开的属性和方法</li> <li>由于这个对象是在匿名函数内部定义的，因此它的公有方法有权访问私有变量和函数</li> <li>从本质上来讲，这个对象字面量定义的是单例的公共接口</li></ul></li></ul></li></ul></li> <li>增强的模块模式：在返回对象之前加入对其增强的代码
<ul><li><img src="/myblog/assets/img/增强的模块模式.6f1216a3.png" alt="image-20210715185825041"></li> <li>适用情况：单例必须是某种类型的实例，同时还必须添加某些属性和（或）方法对其加以增强的情况</li></ul></li></ul></li></ul> <h2 id="prototype-对象"><a href="#prototype-对象" class="header-anchor">#</a> Prototype 对象</h2> <p><img src="/myblog/assets/img/yuanxingduixiang.1605cfdb.png" alt=""></p> <p><img src="/myblog/assets/img/yuanxingduixiang2.0a3d8fce.png" alt=""></p> <ul><li><p>示例：</p> <blockquote><p>使用 Person 构造函数和 Person.prototype 创建实例</p></blockquote> <ul><li>语法一：<img src="/myblog/assets/img/yuanxingduixiang-demo.5af75427.png" alt=""> <ul><li>图示：<img src="/myblog/assets/img/yuanxingduixiang-demo5.f6dbe448.png" alt=""></li></ul></li> <li>语法二：<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUsAAADbCAMAAADTeENbAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAACWUExURf///9vb2zw8PImJiff3+O3t7XBwcCIiIsnJyaurq8UYFlJSUu/v7/rt8v33+asMkfHHxemnpfjc3M00MuGFg9FKSNlqaN+j1fHZ7b1AqbUqnevD5dR/xslit+Dg8RoaqcnL8Eo+zJCM2+/v+3Z0z1pawT+C8hwA0YCAgAAAAK2t4U5OTp6enplEAH6r96+l79ZbWdOvkW0DGIoAABDISURBVHja7J0Jd6LKEoBRUJooCIqaRGNckkkmM3fuff//z72upRcQ3OI6dp2jsjXCR1V1dUM1nufEiRMn1y8tLT/NpMPiWDqWtytBW8CP8G+EZfLS6/Vekn2KTHpP8XlQdhCVH/qaZVc0w8/Wz24Uhr8vxHL+Z1WHcjcuyYvhvSPL5SvI/PCDjpoNngiFYiman6CX3W5XEMzzo/zx40dQuebxeezty3JHWb7L6/f1ujz0oBvNqKigoJa/fzWUjX+2L6OXfyTMGnudnI5lF74XjQOP2e+0ilgB3e9Oo6tZNi7jLwHmagNL0k+Yi5/GE+lCJ7y6BwY97pGAbY+Nf42f5DSUGz/FL2teF/VSKqa08uBNWvsXaNjbcvX++voGRjKXy3ATWg36O1vMv15fF7OiWoJitgNmafSy3b5U3QNmPlsDyTIpsER6z49yfgpIH6clvVTTE+A46U2R71gWnFboJbBcvUt4s8WSqM1pEiHPiOASvnAbwEwFRbNRcp3M8uJ66a2qYFbrJWgfzlvOtIJl8oLsgPoYtXNarJJILwHMF0wl8B28gdIFb5oYbghqmswl2wZAxymJr2NxElD7sI1f2l/WKGYVyxWqF86PDZwKlo/PE49/WIvLLLukfdKw8QBw8k3VgV9s4F73/Uv9zNAREEvfZokGL8k1fn3q+DIKo+5lWP6pRFmpl5rldCNLLgpbVrOEkAh4gofk+Mhiqf3lbMEsl8HsfRNLGVuitySWMizyZVh0IZSed1SWrJdQRrFcrftLqnC4YIElUpO1/Ir0EpASVskyqbHxRsfWS3GxmGi1neW0yNIKmCpYcl0zNjVVlb8sUC2zTCy7F9KTNoAl+0tBAXqx7rHiy65/mbpH+sqaho/ChXymvSLL5AUYPRKyda5jqsfH3gZ/6ZHKKYKGZfA2U9vMX7EeX0I9/hUoG6+Niax6vHuZNmRt25oRQaw4BbO1WHIwSRuMKb7E9ruUKcdUSHGLXgYYQEK4Y+ll8P7KgaZUR25sNix/WRurX0E9fvWdQkSd/GpdG/I64ssbFF95TKtv4wra4zfafUlNHxFGnukn+s16Kaccyz1gfiJL3+4LFqHqv/x0/erf6M8E+Q1fPyMtDstB0m5/ttXnE3+lOCxOnDhxslck2mxc+hhkZCHl9HUhtadLUui8+B7Ky5Pk7hcRtoObZtnqXENkRHego6MpiGNJbTSwdzxjv91qhyH1JnTkQkE05JRPBy7UQrOfX1AESgdtHwrhjrB0pDwJ7zKiCVxHDqbR9Kkrw5cfIderliOXuD2W4HOoP8aHE2x1JA48y8Bv0YnKL7lMQpAbRUUPFekiwFzQ5rhbgRdA6yX+A7ezlV5yLxDsstGEq4DuD41lN0d4VTaOZyFQN4TqnoHeQ2OFPrKA+Van0yp21CJLmBV4OWCXwE5qqP4LzZJu1LY6vm3jOIGb49VCNsSnROl//5DkV8sS9Sdim/btPlipJsI+WjpJ31tniYjgShjPSFeHfvRSuib0o1niLnGOdgtYCXqln+WuzvK/X0VMhEfis/sqsNT+ktHBSW9kGVlnz6hwS7VU/eJfGK2H4ohXsWwHysduDzH88Dr6N8wVte76FW6mAk5lcXiqG1gCnDW9ZAMu6CXNGpZyb/QPfC+i4xef2liz8eAa9VIfhRWgFFnimTELOMECy0aTdsB+F+sVxZI2pIvUVUsj9pdR6S/bAv+UdgtXoXSxNpn4VdU9ZH160rCM9CljdYy1c4FlxI0m43ctDxdRPc4bKseLvMk5/9KbCt4PPZ4B8YC5QXFb9XjJd1p66St3CtUQBZXVeqn9rl1bCF1ah5UmTrXiT3Ml8V/Y/wn0l+JmWJ7imnynXbTJsh3L3US5Tsfy2yy5FXkoy3JteccsI9PrdyBL6YSvIixy4sSJEydO/nLJHnIvf8hKS5NReVE8zCtK5w8PD3ntvuVe0ng46N8Ly1SyyABc+jCEJ1/zUbIHy/rljDpNRvfGMoUJxEcsd2e2neUwvheW/UEmMQLLQQ5nfVSWmdTJ/OpZ2jcII+7+EZ1GJ5SLdfdPtN5Qrm/cpYNskBLLeCjdYKp9HiqsZNYf8FJcn5VYZnIZmbNd/BaEbxACmijiPjIhifqdz1nHvmtZ6rKo7zNLB33gyHqZMoz+AObzvgT0n1QwUDS5LiPfYLPMMuAOq/sDuSTJ4xtiWb6rILB/2G82oEOT7nBEZS3crJd9AFhiqS00HsIUeIRklCv7Ldt4f5CaojfEsnhXAeZhTmqqZMm3b/d6EEOyDEajJB/FFst4mBX8IrBEYJ76KbHM4OvGYFos0TWCc2SW3Y6vH8LYj6Wyc8MS4ZRYFlcpluhXyYvenr9ULM2zBsSya/Ryv+Bo0E8kmO0sWSG15uZFF8Bbr4X/t8BS3Sq0bbyuM3aLv5ROcDgqsAxGKkRCZgnAYnoZeVKeI4pl9LZEp3967wgs5TGKoo1z1bQmW+px1Kdi3UPVNdbjSi9VMynzCixlOQr3oUavqID88ORP733fX8L9wTbcYrH0kp1oGehWvZSciMmDihaV87NY4nqzkrwkLBv1sarKdaRZiuLEbdh8cvVHaN3wd/JNEaFLozoWSaeVTpw4ceLEiRMnf7HMPz4+aCRGbykn/3VEDke5WHkrHGFwBaM+rRZLx+RbMvuQBP9drJDt7K5R+Do9kVJvcIC1TlVfuggre4ZRG5dvpKfzu0YpVBeaj4kpHZUkud6H4FenhOLoq0vUy9XCeUyT34MPAvuc1hvspJfLjzlUQuAq31ztw/d7FEt+5H7H56v//XhboXbKGn1+33rJtxqFsnF8tiDUnnOHqGixssz9nv2ledaA7kZwVv4eAaaFUuro6s6tW907UxV3TUJylb+cLewoSMWXKmvt7lj6GAwVkj5rKpn1enz2YaOcf7yp8qF/j4oJQaWPOmnCS3ai/la9hHYjyFyq5IfhKt2F73l3be2ULn8M84zu/P4WDydyjOGVKLn5joV0qeZBjX2k23F3XcWZxi1z4sSJEydOnBxRZCun2Ie+ZWgGSE3sDzalLuGDl+mpjzse7vsf1Umbl2QJ6Tf0XDk9hJqvo8zUlqPDH+jkJ2HzI7LUSZtnbALtwhIoYTqTl5YPTifzfJPl0TVbJ21eDUtgFSOl6hxFQ/DaWFqpMKex79AeMJXGJsTRWKmrZ1NnRyF3FvIYaVYRzMhI5VJOP6E0FJ3wmA76mfKrMFHibk46G/ZHanWmHoGHrEp6mr28mqZ0dpD809TkXZ68KU4E8bYZ3q3oNIUZoXZDszJ7MNYsp8D4OdeJzkhRVTkmgMckPKa4UQ6T8FXOarZYAglKGoAN2Vfr9L/SatoPuh903BI6ZGCeybSRJfWrY586DV9HWZCbO+G0XqWcD5FX2jik8IFOpiotghMec0ZGequ0t1j3pJy8gg6F/oAZGpZqtbUfytWCb0prNSlDZ2DJCaTwQ/5S7NT7xjQ5zSy3tdFMQRopxCOZ0jw8M9uIY28tL8pajczqWerVZj+cgJmhMzhnxR1ZoxDiUKrEcsc8mv4ALJtZwskYlrGaykdxnv0XA2qT8Ghg5Q8V8U8VS7bxUVDN0uwHvCk51uQCLFkvfa2XO48/lukUZ0kxVt+eZ01B9dAfpnluJzyW9bK2HtewEroQeWH5ml4qr2JV3mdmSWqI2aTEUg1buxUpsMzYX2a2NhoNTYeZbHGMRpmd8GhgVcYpVXpZdKlrLE0Rcwx1LE+UV8nDe6Ola3OP1BDL9fV4jFqHvh3VLaaa2IoqMz2swQNEdljN6IRHc+aVg7xUs8w2sEys/aRae2tYniivkq3ZV5mPIjRD82/US8pjTImrNj47QueoE0cXoiGGTMKjrY3Zw1ryo2lDWv5Sh5cqelUDTnC7ISsmYELpGpYnyquMbubRAGrpH2WsohPlVd7OkJ05QcyPwPL4eZWRuKlsTQrLpc8Nvk3yBFrph+Gt5GMbJ3o740Y4ceLEiZO/WAS1eD/v4yHaca/Xe37cp0T81JvsFy3WPZEcXT5YCdqhelfMEVDuxmVittudJb8Hp+5xxegKwj7JknKnvn8oyctLsi/LQ1puVQ2PQ4ZSOwHLNuRUHINl/DT1TsbSfkVDRYP4bCz16yPNuKx0aeWPPAgfE36EZxIntw/bWpU7oFjS7+Pz2POmL9KIe1NWW+lNx2DVJGPYRvtXXDvF0uOJnJxs6FCouB1wLpbYYSnwnZxqXFb2OfIA5UHQe7WElTi5fdjWtYQLjWhaYAlQcEp+gweYPpb0ckwsH5+nvInc0VOsFlez0q7z7CzLuTyUUUG5uvDyPR82MDYucAjcbcO27qqXQI386PQprrJxhjZFVwsr4ifYkPjb+KL6MzqnXha76tHz4FeEL9j0wWYslqE4cNhWxXJlsQQuyFKarlfPktfCj1W6xl1WOUxxrmpc+0s9Lqsyb7qgbOcmcfKwYVtXFXqpWdpw1lnyWigZH8AyOmuyUUQvFTbvgFW6iECjZtQUVuLkYcO2xoezZL2EjapZbrNxcc7wkl68a16KKSFF/HJnONLPprASJ7cP27rdX457yHLFLO3gc50lr53ImWqWBXyXq3ta7RYfixmX1bS56CAismxfT20btrVqAAQdX4I2jnu9gl5KgLB2SlpouHLdg2uxMq9meS0xESaLcxXC47J6euBVOgh61lUnTm4ftnWTXnqBjBX/394Z9CYMw1AYlAGtEOPIKsqJy6Tt//++NUkTOyEwUFMat+9d0Jg0xodJYr/EuXw1IUu7ajrTAupk8/dOduLuf5uee4pZq0ep3t0vStEqOYeshR0A94NNsrYxKUt5fWT7YaW/0bec0FCinEkH81fH43q/ns9bmk6fQABBkHBV4/eLWH+LbUmhU6WnFxnx8irwKl4wGh/XZiT393i4YOMZsU+gXC18DJay71V4mqVP7pIs8y2JBTfqepYlFR3GZSmtflCz1oOOpfchu5RXV9m3H77WXrOwNHWeo6n1XJtW/3ReBUajKQpFBrra6r+lLKq+mKVUtdOHNdUqah7r47+WkOB4m5KxJB9SQ3VnKCkuWVGB4rJhTqJ7bPXj+XSb95nANkVWk3Gr3Xbzs68rU7vmzWPda3aApUSoc9F6luRDWsq2wE0smXnAWDInsX82ualD2csB/RSt7ElN/fmZEmrQPNYPJkpM4u3+ZcuS+ZDcJghvm0yOlxHLVXu8han2m5ClPRGnh8ZKIw2ax8oaMJlN6d4C8yEHskyOl8TStvQKWEbNY0Wx5DZlFJeWdIpl4jt+TbM0OJtDmmXtjGbnM1Fc3i4YxHy7Q5bMGkizZM/+E5fsB5fFEMv+fGYQl5F161+zFjD3BDalY0k+JH9rzCcg2MZGvMfycCEXrRtL2AflewPY7YsUl5FBp/yRQwkXopFNaRu40j43HUeRRe0GVvbV671ExjI2GtswuyaW5lWqOojLsHksDZczvj7yTccDKYd8dA2ocGXoTfpabWPO7XWrN8wFtAN05tdHWoNw3PR2Me2JYRBCEARB0RyInTZZaQJmLhVxWhAsIbAES7Bc2ES+yJveRotMLIsQlxgvwRICS7AEy6WrwoIo14IIV0JCEARBUHFrxt1st85NQRMwsylLY1oILEdjic0E2VgKOiJYflwqxOXgiXwxO4/fEplYFiEuS57HMfdkYinjiKCQuJRzRLB8ljM+IjjBeAlHZ5jcCdkKo+XQBREIQhAEQRAEQRAEQRAEQRAEQRAEla8/PHdT6OzW6a0AAAAASUVORK5CYII=" alt=""> <ul><li>问题
constructor 属性不指向 Person
无法通过 constructor 确定对象的类型</li> <li>改进：<img src="data:image/png;base64,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" alt=""> <ul><li>问题问题：
<ul><li>这种方式重设 constructor 属性会导致它的 [[Enumerable]] 特性被设置为 true</li> <li>默认情况下，原生的 constructor 属性是不可枚举的</li> <li>切断了构造函数与最初原型之间的联系<img src="/myblog/assets/img/yuanxingduixiang-demo4.e7be7fb1.png" alt=""> <ul><li>Person.prototype 原来指向 Person Prototype，重写后指向了 New Person Prototype 新的原型对象</li></ul></li> <li>重写原型对象切断了现有原型与任何之前已经存在的对象实例之间的联系；它们引用的仍然是最初的原型</li></ul></li></ul></li></ul></li></ul></li></ul> <h2 id="prototype属性和proto-属性"><a href="#prototype属性和proto-属性" class="header-anchor">#</a> Prototype属性和proto 属性</h2> <p><img src="/myblog/assets/img/prototype.9dd4c351.png" alt=""></p> <p><img src="/myblog/assets/img/proto.c3982191.png" alt=""></p> <p><img src="/myblog/assets/img/prototype-proto.d772f6b4.png" alt=""></p> <blockquote><p><img src="/myblog/assets/img/原型对象和构造函数.e9d7f969.png" alt="image-20231106201948401"></p> <p>分析：</p> <ul><li><code>A</code>指向 A 类型的构造函数 <code>constructor</code>;</li> <li><code>B.__proto__</code>指向 A 类型的构造函数 <code>constructor</code>;</li> <li><code>A.prototype</code> 指向 A 的原型对象，A 的原型对象中包含 A 的构造函数 constructor 和属性；</li> <li><code>B.prototype</code> 指向 B 的原型对象，B 的原型对象中包含 B 的构造函数 constructor 和属性；</li> <li><code>B.prototype.__proto__</code> 指向 A 的原型对象，即为 B 原型对象中 [[Prototype]]  属性；</li></ul></blockquote> <h2 id="获取原型方法"><a href="#获取原型方法" class="header-anchor">#</a> 获取原型方法</h2> <ul><li><p><code>p.__proto</code>__</p></li> <li><p><code>p.constructor.prototype</code></p></li> <li><p><code>Object.getPrototypeOf(p)</code></p></li></ul> <h2 id="constructor-属性"><a href="#constructor-属性" class="header-anchor">#</a> constructor 属性</h2> <p><img src="/myblog/assets/img/construct.d1548bf7.png" alt=""></p> <p><img src="/myblog/assets/img/construct2.24a1c27c.png" alt=""></p> <h2 id="原型-原型链"><a href="#原型-原型链" class="header-anchor">#</a> 原型&amp;原型链</h2> <p><img src="/myblog/assets/img/yuanxing.47959188.png" alt=""></p> <p><img src="/myblog/assets/img/yuanxinglian2.ac07ae9d.png" alt=""></p> <p><img src="/myblog/assets/img/yuanxinglianshixian.caa88fd6.png" alt=""></p> <p><img src="/myblog/assets/img/morenyuanxing.a2bcd693.png" alt=""></p> <ul><li>注意：
<ul><li>通过 <code>Object.prototype.__proto__</code> 查找原型，原型链的终点是 null。
<ul><li><img src="data:image/png;base64,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" alt="image-20210713011124954"></li></ul></li></ul></li></ul> <h2 id="函数"><a href="#函数" class="header-anchor">#</a> <strong>函数</strong></h2> <h3 id="es5-函数"><a href="#es5-函数" class="header-anchor">#</a> ES5 函数</h3> <p><strong>函数定义</strong></p> <p><img src="/myblog/assets/img/ES5function1.c798f4b7.png" alt=""></p> <p><img src="/myblog/assets/img/ES5function4.70b43811.png" alt=""></p> <p><img src="/myblog/assets/img/ES5function5.aabe6c19.png" alt=""></p> <p><img src="/myblog/assets/img/ES5function6.b66daa13.png" alt=""></p> <p><strong>函数参数</strong></p> <p><img src="/myblog/assets/img/ES5function2.808c8d6f.png" alt=""></p> <p><img src="/myblog/assets/img/ES5function3.1cb296f2.png" alt=""></p> <h3 id="箭头函数"><a href="#箭头函数" class="header-anchor">#</a> 箭头函数</h3> <p><img src="/myblog/assets/img/jiantouhanshu.2a910dcf.png" alt=""></p> <h3 id="箭头函数与普通函数的区别"><a href="#箭头函数与普通函数的区别" class="header-anchor">#</a> 箭头函数与普通函数的区别</h3> <p><strong>普通函数</strong>：</p> <p>​	普通函数通过 function 关键字定义， this 无法结合词法作用域使用，在运行时绑定，只取决于函数的调用方式，在哪里被调用，调用位置。（取决于调用者，和是否独立运行）</p> <p><strong>箭头函数：</strong></p> <ol><li>函数体内的this对象，就是定义时所在的对象，而不是使用时所在的对象;</li> <li>箭头函数常用于回调函数中，包括事件处理器或定时器;</li> <li>没有原型、没有 this、没有 super，没有 arguments，没有 new.target;</li> <li>不可以使用arguments对象，该对象在函数体内不存在。如果要用，可以用Rest参数代替;</li> <li>不可以使用yield命令，因此箭头函数不能用作Generator函数;</li> <li>不可以当作构造函数，也就是说，不可以使用new命令，否则会抛出一个错误:
<ul><li>一个函数内部有两个方法：[[Call]] 和 [[Construct]]</li> <li>在通过 new 进行函数调用时，会执行[[construct]] 方法，创建一个实例对象，然后再执行这个函数体，将函数的 this 绑定在这个实例对象上当直接调用时，执行 [[Call]] 方法</li> <li>直接执行函数体箭头函数没有 [[Construct]] 方法，不能被用作构造函数调用，当使用 new 进行函数调用时会报错</li></ul></li></ol> <h3 id="其他函数"><a href="#其他函数" class="header-anchor">#</a> 其他函数</h3> <p><img src="/myblog/assets/img/functionType1.78af2d90.png" alt=""></p> <p><img src="/myblog/assets/img/functionType2.89e2ad88.png" alt=""></p> <p><img src="/myblog/assets/img/functionType13.ef5a3b39.png" alt=""></p> <h3 id="函数柯里化"><a href="#函数柯里化" class="header-anchor">#</a> 函数柯里化</h3> <p><img src="/myblog/assets/img/hanshukelihua.6b4452c6.png" alt=""></p> <h2 id="对象"><a href="#对象" class="header-anchor">#</a> <strong>对象</strong></h2> <h3 id="创建对象方式有哪些"><a href="#创建对象方式有哪些" class="header-anchor">#</a> 创建对象方式有哪些</h3> <p><img src="/myblog/assets/img/createObject.b45fb04b.png" alt=""></p> <h3 id="创建对象方式比较"><a href="#创建对象方式比较" class="header-anchor">#</a> 创建对象方式比较</h3> <p><img src="/myblog/assets/img/createObject1.4c4cb123.png" alt=""></p> <p><img src="/myblog/assets/img/createObject2.c0f0a449.png" alt="createObject6"></p> <p><img src="/myblog/assets/img/createObject3.5425c00d.png" alt="createObject5"></p> <p><img src="/myblog/assets/img/createObject4.c6deae8f.png" alt="createObject4"></p> <p><img src="/myblog/assets/img/createObject5.b5e4e0e2.png" alt="createObject3"></p> <p><img src="/myblog/assets/img/createObject6.80ac06a9.png" alt="createObject2"></p> <p><img src="/myblog/assets/img/createObject7.247756cb.png" alt="createObject1"></p> <h3 id="对象继承方式"><a href="#对象继承方式" class="header-anchor">#</a> 对象继承方式</h3> <p><img src="/myblog/assets/img/objectInherit.065291e2.png" alt=""></p> <h3 id="对象继承方式比较"><a href="#对象继承方式比较" class="header-anchor">#</a> 对象继承方式比较</h3> <p><img src="/myblog/assets/img/inherit1.b95e0e59.png" alt=""></p> <p><img src="/myblog/assets/img/inherit2.903b85dc.png" alt="inherit5"></p> <p><img src="/myblog/assets/img/inherit3.8fd4af94.png" alt="inherit4"></p> <p><img src="/myblog/assets/img/inherit4.58720ecb.png" alt="inherit3"></p> <p><img src="/myblog/assets/img/inherit5.5aeb06e4.png" alt="inherit2"></p> <p><img src="/myblog/assets/img/inherit6.30e00190.png" alt="inherit1"></p> <p><img src="/myblog/assets/img/inherit7.dd711853.png" alt=""></p> <h2 id="类"><a href="#类" class="header-anchor">#</a> <strong>类</strong></h2> <h3 id="class-类"><a href="#class-类" class="header-anchor">#</a> Class 类</h3> <p><img src="/myblog/assets/img/class.23763a75.png" alt="class"></p> <p><img src="/myblog/assets/img/class2.06684e79.png" alt="class2"><img src="/myblog/assets/img/class3.b0c884b3.png" alt=""></p> <h3 id="class-继承"><a href="#class-继承" class="header-anchor">#</a> Class 继承</h3> <p><img src="/myblog/assets/img/class-extend.022bfcae.png" alt=""></p> <p><img src="/myblog/assets/img/class-extend3.6ecf2a34.png" alt=""></p> <p><img src="/myblog/assets/img/class-extend2.b3a6abbf.png" alt="class-extend2"></p> <h2 id="reflect-对象"><a href="#reflect-对象" class="header-anchor">#</a> Reflect 对象</h2> <p><img src="/myblog/assets/img/reflect.420d9e02.png" alt=""></p> <h2 id="object-defineproperty"><a href="#object-defineproperty" class="header-anchor">#</a> <a href="https://devdoc.net/web/developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties.html" target="_blank" rel="noopener noreferrer">Object.defineProperty<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <p><img src="/myblog/assets/img/Object.defineProperty.20f1cc7d.png" alt=""></p> <h2 id="proxy-对象"><a href="#proxy-对象" class="header-anchor">#</a> <a href="https://es6.ruanyifeng.com/#docs/proxy" target="_blank" rel="noopener noreferrer">Proxy 对象<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <p><img src="/myblog/assets/img/proxy1.30fdfeec.png" alt=""></p> <p><img src="/myblog/assets/img/proxy2.bf415905.png" alt="proxy2"></p> <p><img src="/myblog/assets/img/proxy3.fb8093ef.png" alt="proxy3"></p> <p><img src="/myblog/assets/img/proxy4.56da9262.png" alt="proxy4"></p> <p><img src="/myblog/assets/img/proxy5.5bfc2ebc.png" alt="proxy5"></p> <h3 id="object-defineproperty-和-proxy-比较"><a href="#object-defineproperty-和-proxy-比较" class="header-anchor">#</a> Object.defineProperty 和 Proxy 比较</h3> <blockquote><p><strong>如何监听一个变量的变化?</strong></p></blockquote> <ul><li>ES5 的 <code>Object.defineProperty</code></li> <li>ES6 的 <code>Proxy</code></li></ul> <blockquote><p><code>Object.defineProperty</code> 和  <code>Proxy</code>  区别：</p></blockquote> <ul><li><p><strong>Object.defineProperty</strong>：这是一个ES5引入的特性，<strong>用于定义对象的新属性或修改现有属性的特性</strong>。</p> <ul><li>通过使用<code>Object.defineProperty</code>，可以精确地控制属性的读取(get)、写入(set)和删除(delete)等操作。</li> <li>它可以拦截对属性的访问和修改，从而实现对属性的监视和自定义行为。</li> <li><code>Object.defineProperty</code> 缺点：</li> <li>只能对已存在的属性进行劫持，并且需要逐个定义每个属性。这意味着在大型对象或需要动态添加属性的情况下，使用<code>Object.defineProperty</code>会变得复杂和冗长。</li> <li>无法检测到对象属性的新增和删除；</li> <li>无法检测数组的变化。</li></ul></li> <li><p><strong>Proxy</strong>：这是ES6引入的特性，它提供了一个可以代理目标对象的代理对象。</p> <ul><li><p>通过使用<code>Proxy</code>，可以<strong>拦截并重定义目标对象的底层操作</strong>，如读取属性(get)、写入属性(set)、删除属性(delete)、函数调用等。</p></li> <li><p>``Proxy`提供了更强大和灵活的拦截功能，它可以<strong>拦截对整个对象的操作，而不仅限于属性级别的拦截</strong>。</p></li> <li><p><code>Proxy</code>也<strong>支持动态添加和删除属性</strong>，可以在代理对象上直接进行操作，而不需要像<code>Object.defineProperty</code>那样逐个定义属性。</p></li></ul></li></ul> <blockquote><p>为什么Vue 3使用 <code>Proxy</code> 替代 <code>Object.defineProperty</code> 来实现双向绑定？</p></blockquote> <ul><li><p><strong>更强大的拦截能力</strong>：Proxy提供了丰富的拦截方法，能够拦截更多类型的操作，包括属性读取、写入、删除、函数调用等，比Object.defineProperty更灵活。</p></li> <li><p><strong>更好的性能</strong>：Proxy在底层实现上比Object.defineProperty更高效。Proxy可以直接代理整个对象，而不需要逐个定义属性，这在大型对象或动态属性的场景下性能更优。</p></li> <li><p><strong>更好的语法支持</strong>：Proxy的语法更简洁直观，可以通过定义一个代理对象来统一拦截操作，而不需要分散处理每个属性。</p></li></ul> <h2 id="模块加载方案"><a href="#模块加载方案" class="header-anchor">#</a> 模块加载方案</h2> <p><img src="/myblog/assets/img/module1.bce6c853.png" alt=""></p> <h3 id="commonjs-模块"><a href="#commonjs-模块" class="header-anchor">#</a> CommonJS 模块</h3> <p>commonjs 核心就是 require 语句</p> <p><strong>require() 的基本用法</strong></p> <p>当 Node 遇到 require(X) 时，按下面的顺序处理。</p> <p>（1）如果 X 是内置模块（比如 require('http'）)
　　a. 返回该模块。
　　b. 不再继续执行。</p> <p>（2）如果 X 以 &quot;./&quot; 或者 &quot;/&quot; 或者 &quot;../&quot; 开头
　　a. 根据 X 所在的父模块，确定 X 的绝对路径。
　　b. 将 X 当成文件，依次查找下面文件，只要其中有一个存在，就返回该文件，不再继续执行。</p> <blockquote><ul><li>X</li> <li>X.js</li> <li>X.json</li> <li>X.node</li></ul></blockquote> <p>c. 将 X 当成目录，依次查找下面文件，只要其中有一个存在，就返回该文件，不再继续执行。</p> <blockquote><ul><li>X/package.json（main字段）</li> <li>X/index.js</li> <li>X/index.json</li> <li>X/index.node</li></ul></blockquote> <p>（3）如果 X 不带路径
　　a. 根据 X 所在的父模块，确定 X 可能的安装目录。
　　b. 依次在每个目录中，将 X 当成文件名或目录名加载。</p> <p>（4） 抛出 &quot;not found&quot;</p> <p><strong>参考资料：</strong></p> <p><a href="http://www.ruanyifeng.com/blog/2015/05/require.html" target="_blank" rel="noopener noreferrer">require() 源码解读<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="es6模块"><a href="#es6模块" class="header-anchor">#</a> ES6模块</h3> <p><img src="/myblog/assets/img/module-es6.05e3b978.png" alt="module-es6"></p> <ul><li>ES6 模块命令：</li></ul> <p><img src="/myblog/assets/img/module-es6-1.c7bd1bd5.png" alt="module-es6-1"></p> <p><img src="/myblog/assets/img/module-es6-2.da82639e.png" alt="module-es6-2"></p> <p><img src="/myblog/assets/img/module-es6-4.30ea8bae.png" alt="module-es6-4"></p> <p><img src="/myblog/assets/img/module-es6-3.a80e5152.png" alt="module-es6-3"></p> <p><img src="/myblog/assets/img/module-es6-5.d11593f4.png" alt=""></p> <h3 id="模块加载混合引用"><a href="#模块加载混合引用" class="header-anchor">#</a> 模块加载混合引用</h3> <p><img src="/myblog/assets/img/module-hunhe.cc563bc2.png" alt=""></p> <h3 id="模块加载循环引用"><a href="#模块加载循环引用" class="header-anchor">#</a> 模块加载循环引用</h3> <p><img src="/myblog/assets/img/module-xunhuan.93c778fb.png" alt=""></p> <h2 id="定时器"><a href="#定时器" class="header-anchor">#</a> 定时器</h2> <p><img src="/myblog/assets/img/dingshi1.51af9cde.png" alt=""></p> <p><img src="/myblog/assets/img/dingshi2.328494fc.png" alt=""></p> <p><img src="/myblog/assets/img/dingshi3.efea70d0.png" alt=""></p> <ul><li><strong>为什么使用setTimeout实现setInterval？怎么模拟？</strong></li></ul> <blockquote><p><code>setInterval</code> 每 n 毫秒启动一个函数，而不考虑函数何时完成执行。</p> <p>如果一个函数总是花费相同的时间，那就没问题：</p> <p><a href="https://dev.nodejs.cn/static/fa9e9fec1aea517d98b47b11c5fec296/4d383/setinterval-ok.png" target="_blank" rel="noopener noreferrer"><img src="data:image/png;base64,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" alt="setInterval working fine"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>也许该函数需要不同的执行时间，具体取决于网络条件，例如：</p> <p><a href="https://dev.nodejs.cn/static/f2ae544ad5038515ba1d44b29322bec9/19a6b/setinterval-varying-duration.png" target="_blank" rel="noopener noreferrer"><img src="data:image/png;base64,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" alt="setInterval varying duration"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>也许一个长时间的执行与下一个重叠：</p> <p><a href="https://dev.nodejs.cn/static/4e64c07dfb9f7be0e819fe3eb7def66a/393aa/setinterval-overlapping.png" target="_blank" rel="noopener noreferrer"><img src="data:image/png;base64,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" alt="setInterval overlapping"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>为避免这种情况，你可以安排一个递归的 setTimeout 在回调函数完成时调用：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>jscopyconst <span class="token function-variable function">myFunction</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// do something</span>

  <span class="token function">setTimeout</span><span class="token punctuation">(</span>myFunction<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span>myFunction<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>添加控制器版本</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//思路是使用递归函数，不断地去执行 setTimeout 从而达到 setInterval 的效果</span>
<span class="token keyword">function</span> <span class="token function">mySetInterval</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span>timeout</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
    <span class="token comment">//控制器，控制定时器是否继续执行</span>
    <span class="token keyword">var</span> timer <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">flag</span><span class="token operator">:</span><span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> 
    <span class="token comment">//设置递归函数，模拟定时器执行。</span>
    <span class="token keyword">function</span> <span class="token function">interval</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>timer<span class="token punctuation">.</span>flag<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">setTimeout</span><span class="token punctuation">(</span>interval<span class="token punctuation">,</span>timeout<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//启动定时器</span>
	<span class="token function">setTimeout</span><span class="token punctuation">(</span>interval<span class="token punctuation">,</span>timeout<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//返回控制器</span>
    <span class="token keyword">return</span> timer<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>实现这种情况：</p> <p><a href="https://dev.nodejs.cn/static/4bde07363650160e953f899734adc29e/1790f/recursive-settimeout.png" target="_blank" rel="noopener noreferrer"><img src="data:image/png;base64,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" alt="Recursive setTimeout"><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><code>setTimeout</code> 和 <code>setInterval</code> 在 Node.js 中可用，通过 <a href="https://nodejs.cn/api/timers.html" target="_blank" rel="noopener noreferrer">定时器模块<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <p>Node.js 还提供了 <code>setImmediate()</code>，相当于使用 <code>setTimeout(() =&gt; {}, 0)</code>，主要用于配合 Node.js Event Loop。</p></blockquote> <p>引用资料：<a href="https://dev.nodejs.cn/learn/discover-javascript-timers/" target="_blank" rel="noopener noreferrer">探索 JavaScript 定时器<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="垃圾回收"><a href="#垃圾回收" class="header-anchor">#</a> 垃圾回收</h2> <p><img src="/myblog/assets/img/lajihuishou.59c4afc6.png" alt=""><strong>V8引擎的垃圾回收机制</strong></p> <p>v8的垃圾回收机制基于分代回收机制，这个机制又基于世代假说，这个假说有两个特点:</p> <ul><li>一是新生的对象容易早死；</li> <li>二是不死的对象会活得更久；</li></ul> <p>基于这个假说，v8引擎将内存分为了新生代和老生代。</p> <ul><li><p>新创建的对象或者只经历过一次的垃圾回收的对象被称为新生代。</p></li> <li><p>经历过多次垃圾回收的对象被称为老生代。</p></li></ul> <p>新生代被分为From和To两个空间，To一般是闲置的。当From空间满了的时候会执行Scavenge算法进行垃圾回收。</p> <p>当我们执行垃圾回收算法的时候应用逻辑将会停止，等垃圾回收结束后再继续执行。</p> <p>这个算法分为三步：</p> <ul><li>（1）首先检查From空间的存活对象，如果对象存活则判断对象是否满足晋升到老生代的条件，如果满足条件则晋升到老生代。如果不满足条件则移动To空间。</li> <li>（2）如果对象不存活，则释放对象的空间。</li> <li>（3）最后将From空间和To空间角色进行交换。</li></ul> <p>新生代对象晋升到老生代有两个条件：</p> <ul><li>（1）第一个是判断是对象否已经经过一次Scavenge回收。若经历过，则将对象从From空间复制到老生代中；若没有经历，则复制到To空间。</li> <li>（2）第二个是To空间的内存使用占比是否超过限制。当对象从From空间复制到To空间时，若To空间使用超过25%，则对象直接晋升到老生代中。设置25%的原因主要是因为算法结束后，两个空间结束后会交换位置，如果To空间的内存太小，会影响后续的内存分配。</li></ul> <p>老生代采用了标记清除法和标记压缩法：</p> <ul><li>标记清除法首先会对内存中存活的对象进行标记，标记结束后清除掉那些没有标记的对象。由于标记清除后会造成很多的内存碎片，不便于后面的内存分配。</li> <li>所以了解决内存碎片的问题引入了标记压缩法。</li></ul> <p><strong>参考资料：</strong></p> <p><a href="https://www.jianshu.com/p/b8ed21e8a4fb" target="_blank" rel="noopener noreferrer">深入理解V8的垃圾回收原理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://zhuanlan.zhihu.com/p/23992332" target="_blank" rel="noopener noreferrer">JavaScript 中的垃圾回收<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="内存泄漏"><a href="#内存泄漏" class="header-anchor">#</a> 内存泄漏</h3> <p><strong>定义</strong></p> <p>​	指由于疏忽或错误造成程序未能释放已经不再使用的内存的情况。内存泄漏并非指内存在物理上的消失，而是应用程序分配某段内存后，由于设计错误，失去了对该段内存的控制，因而造成了内存的浪费。</p> <p><strong>哪些操作会造成内存泄漏?</strong></p> <p>造成内存泄漏情况：</p> <ul><li>意外的全局变量
<ul><li>由于使用未声明的变量，而意外的创建了一个全局变量，而使这个变量一直留在内存中无法被回收</li></ul></li> <li>被遗忘的计时器或回调函数
<ul><li>设置了setInterval定时器，而忘记取消它，如果循环函数有对外部变量的引用的话，那么这个变量会被一直留在内存中，而无法被回收</li></ul></li> <li>脱离DOM的引用
<ul><li>获取一个DOM元素的引用，而后面这个元素被删除，由于我们一直保留了对这个元素的引用，所以它也无法被回收</li></ul></li> <li>闭包
<ul><li>不合理的使用闭包，从而导致某些变量一直被留在内存当中
<ul><li>闭包会导致原始作用域链不释放，造成内存泄漏（占用）；</li></ul></li></ul></li></ul> <p><strong>内存泄漏的识别方法:</strong></p> <ul><li><p><strong>浏览器</strong>:</p> <ul><li><p>Chrome 浏览器查看内存占用，按照以下步骤操作:</p> <ul><li><p>打开开发者工具，选择 Timeline 面板</p></li> <li><p>在顶部的<code>Capture</code>字段里面勾选 Memory</p></li> <li><p>点击左上角的录制按钮。</p></li> <li><p>在页面上进行各种操作，模拟用户的使用情况。</p></li> <li><p>一段时间后，点击对话框的 stop 按钮，面板上就会显示这段时间的内存占用情况</p> <p><img src="/myblog/assets/img/neicunxielou.23cdab83.png" alt=""></p></li> <li><p>如果内存占用基本平稳，接近水平，就说明不存在内存泄漏</p></li> <li><p>正常情况： <img src="/myblog/assets/img/内存泄漏.bc539d94.png" alt=""></p></li> <li><p>内存泄漏：<img src="/myblog/assets/img/neicunxielou2.e41ff95c.png" alt=""></p></li></ul></li></ul></li> <li><p><strong>命令行</strong></p> <ul><li><p>命令行可以使用 Node 提供的<a href="https://nodejs.org/api/process.html#process_process_memoryusage" target="_blank" rel="noopener noreferrer"><code>process.memoryUsage</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>方法</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span><span class="token function">memoryUsage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// { rss: 27709440,</span>
<span class="token comment">//  heapTotal: 5685248,</span>
<span class="token comment">//  heapUsed: 3449392,</span>
<span class="token comment">//  external: 8772 }</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li> <li><p><code>process.memoryUsage</code>返回一个对象，包含了 Node 进程的内存占用信息。该对象包含四个字段，单位是字节，<a href="http://stackoverflow.com/questions/12023359/what-do-the-return-values-of-node-js-process-memoryusage-stand-for" target="_blank" rel="noopener noreferrer">含义<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>如下:</p> <ul><li>rss（resident set size）：所有内存占用，包括指令区和堆栈。</li> <li>heapTotal：&quot;堆&quot;占用的内存，包括用到的和没用到的。</li> <li>heapUsed：用到的堆的部分。</li> <li>external： V8 引擎内部的 C++ 对象占用的内存。</li></ul> <p><img src="/myblog/assets/img/neicunxielou3.857a3550.png" alt=""></p></li></ul></li></ul> <p><strong>参考资料：</strong></p> <p><a href="http://www.ruanyifeng.com/blog/2017/04/memory-leak.html" target="_blank" rel="noopener noreferrer">JavaScript 内存泄漏程<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://segmentfault.com/a/1190000008901861" target="_blank" rel="noopener noreferrer">javascript典型内存泄漏及chrome的排查方法<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="ajax"><a href="#ajax" class="header-anchor">#</a> AJax</h2> <p><img src="/myblog/assets/img/ajax1.d0f99348.png" alt=""></p> <h3 id="创建-ajax-过程"><a href="#创建-ajax-过程" class="header-anchor">#</a> 创建 Ajax 过程</h3> <p><img src="/myblog/assets/img/ajax2.335905ff.png" alt=""></p> <ul><li>示例：</li></ul> <p><img src="/myblog/assets/img/ajax3.f8f9f008.png" alt=""></p> <h2 id="消息推送技术"><a href="#消息推送技术" class="header-anchor">#</a> 消息推送技术</h2> <p><img src="/myblog/assets/img/tuisongjishu.f705a0bf.png" alt=""></p> <p><strong>websocket 与 Ajax 区别</strong></p> <p><img src="/myblog/assets/img/wesock-ajax.7e8f77bc.png" alt=""></p> <h3 id="sse实现"><a href="#sse实现" class="header-anchor">#</a> SSE实现</h3> <p><img src="/myblog/assets/img/sse.0445baa6.png" alt=""></p> <h3 id="websocket-实现"><a href="#websocket-实现" class="header-anchor">#</a> websocket 实现</h3> <p><img src="data:image/png;base64,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" alt=""></p> <p><img src="/myblog/assets/img/websocket.eb57c76e.png" alt=""></p> <h2 id="跨页面通信方法"><a href="#跨页面通信方法" class="header-anchor">#</a> 跨页面通信方法</h2> <p>在浏览器中，我们可以同时打开多个Tab页，每个Tab页可以粗略理解为一个“独立”的运行环境，即使是全局对象也不会在多个Tab间共享。然而有些时候，我们希望能在这些“独立”的Tab页面之间同步页面的数据、信息或状态，因此需要跨页面通信。</p> <p>跨页面通信分为两类</p> <ul><li>同源跨页面通信
<ul><li>广播模式：Broadcast Channe / Service Worker / LocalStorage + StorageEvent</li> <li>共享存储模式：Shared Worker / IndexedDB / cookie</li> <li>口口相传模式：window.open + window.opener</li> <li>基于服务端：Websocket / Comet / SSE 等</li></ul></li> <li>非同源跨页面通信
<ul><li>嵌入同源 iframe 作为“桥”，将非同源页面通信转换为同源页面通信</li></ul></li></ul> <p><strong>同源跨页面通信方案</strong></p> <ul><li><p><strong><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/BroadcastChannel" target="_blank" rel="noopener noreferrer">BroadcastChannel<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></strong></p> <ul><li><p>接口代理了一个命名频道，可以让指定 <a href="https://developer.mozilla.org/zh-CN/docs/Glossary/Origin" target="_blank" rel="noopener noreferrer">origin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 下的任意 <a href="https://developer.mozilla.org/zh-CN/docs/Glossary/Browsing_context" target="_blank" rel="noopener noreferrer">browsing context<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 来订阅它。它允许同源的不同浏览器窗口，Tab页，frame或者 iframe 下的不同文档之间相互通信。通过触发一个 <code>message</code> 事件，消息可以广播到所有监听了该频道的 <code>BroadcastChannel</code> 对象。</p></li> <li><p>实现：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 发送消息页面</span>
<span class="token keyword">const</span> channel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BroadcastChannel</span><span class="token punctuation">(</span><span class="token string">'tabs'</span><span class="token punctuation">)</span>
channel<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span>

<span class="token comment">// 监听消息页面</span>
<span class="token keyword">const</span> channel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BroadcastChannel</span><span class="token punctuation">(</span><span class="token string">'tabs'</span><span class="token punctuation">)</span>
channel<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token parameter">evt</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token comment">// evt.data</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li> <li><p>缺点：</p></li> <li><p><code>BroadcastChannel</code>方案兼容性差些（chrome &gt; 58），但比<code>localStorage</code>方案生命周期短（不会持久化）。</p></li></ul> <hr></li> <li><p><strong><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/localStorage" target="_blank" rel="noopener noreferrer">LocalStorage<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></strong></p> <ul><li><p>当 LocalStorage 变化时，会触发<code>storage</code>事件。利用这个特性，我们可以在发送消息时，把消息写入到某个 LocalStorage 中；然后在各个页面内，通过监听<code>storage</code>事件即可收到通知。</p> <p><code>storage</code>事件只有在值真正改变时才会触发。</p> <p>触发写入操作的页面下的 <code>storage listener</code>不会被触发。</p> <p>safari隐身模式下无法设置<code>localStorage</code>值</p></li> <li><p>实现：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//监听消息页面</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'storage'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>key <span class="token operator">===</span> <span class="token string">'broadcast'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>newValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> text <span class="token operator">=</span> <span class="token string">'[receive] '</span> <span class="token operator">+</span> data<span class="token punctuation">.</span>msg <span class="token operator">+</span> <span class="token string">' —— tab '</span> <span class="token operator">+</span> data<span class="token punctuation">.</span>from<span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'[Storage I] receive message:'</span><span class="token punctuation">,</span> text<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//发送消息页面</span>
window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'broadcast'</span><span class="token punctuation">,</span> <span class="token string">'123'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 第一次设置值触发 storage 事件</span>
window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'broadcast'</span><span class="token punctuation">,</span> <span class="token string">'123'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 第二次设置相同值不会触发 storage 事件</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><hr></li></ul></li> <li><p><strong><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/SharedWorker" target="_blank" rel="noopener noreferrer">Shared Worker<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></strong></p> <ul><li><code>**SharedWorker**</code> 接口代表一种特定类型的 worker，可以从几个浏览上下文中<em>访问</em>，例如几个窗口、iframe 或其他 worker。它们实现一个不同于普通 worker 的接口，具有不同的全局作用域</li></ul></li></ul> <p><strong>非同源跨页面通信方案</strong></p> <ul><li><p><strong>获取句柄</strong>：</p> <ul><li><p>父页面通过<code>window.open(url, name)</code>方式打开的子页面可以获取句柄，然后通过<code>postMessage</code>完成通讯需求。</p></li> <li><p>实现：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// parent.html</span>
<span class="token keyword">const</span> childPage <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'child.html'</span><span class="token punctuation">,</span> <span class="token string">'child'</span><span class="token punctuation">)</span>

childPage<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   childPage<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">,</span> location<span class="token punctuation">.</span>origin<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// child.html</span>
window<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token parameter">event</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token comment">// event.data</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li> <li><p>缺点：</p> <ul><li><p>当指定<code>window.open</code>的第二个name参数时，再次调用<code>window.open('****', 'child')</code>会使之前已经打开的同name子页面刷新</p></li> <li><p>只能与自己打开的页面完成通讯，应用面相对较窄；但优点是在跨域场景中依然可以使用该方案。</p></li> <li><p>由于安全策略，异步请求之后再调用<code>window.open</code>会被浏览器阻止，不过可以通过句柄设置子页面的url即可实现类似效果。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 首先先开一个空白页</span>
<span class="token keyword">const</span> tab <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'about:blank'</span><span class="token punctuation">)</span>

<span class="token comment">// 请求完成之后设置空白页的url</span>
<span class="token function">fetch</span><span class="token punctuation">(</span><span class="token comment">/* ajax */</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   tab<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">'****'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li></ul></li></ul></li> <li><p><strong>iframe:</strong></p> <p>嵌入同源 iframe 作为“桥”，将非同源页面通信转换为同源页面通信。由于 iframe 与父页面间可以通过指定<code>origin</code>来忽略同源限制，因此可以在每个页面中嵌入一个 iframe ，而这些 iframe 由于使用的是一个 url，因此属于同源页面，其通信方式可以复用上面第一部分提到的各种方式。</p> <ul><li><p>实现：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 页面中监听 iframe 发来的消息</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'message'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// …… do something</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//当页面要与其他的同源或非同源页面通信时，会先给 iframe 发送消息</span>
window<span class="token punctuation">.</span>frames<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>window<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span>mydata<span class="token punctuation">,</span> <span class="token string">'*'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//frame 收到消息后，会使用某种跨页面消息通信技术在所有 iframe 间同步消息，例如下面使用的 Broadcast Channel：</span>
<span class="token keyword">const</span> bc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BroadcastChannel</span><span class="token punctuation">(</span><span class="token string">'broadcast'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 收到来自页面的消息后，在 iframe 间进行广播</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'message'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    bc<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token comment">//其他 iframe 收到通知后，则会将该消息同步给所属的页面</span>
<span class="token comment">// 对于收到的（iframe）广播消息，通知给所属的业务页面</span>
bc<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span>parent<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>data<span class="token punctuation">,</span> <span class="token string">'*'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p><img src="/myblog/assets/img/iframe-tongxin.70cd9a19.png" alt=""></p></li></ul></li></ul> <hr> <p><strong>参考：</strong></p> <p><a href="https://blog.csdn.net/p3118601/article/details/88966864" target="_blank" rel="noopener noreferrer">前端跨页面通信，你知道哪些方法？<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://zhuanlan.zhihu.com/p/29368435" target="_blank" rel="noopener noreferrer">跨页面通信的各种姿势*<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <hr> <h2 id="iframe框架"><a href="#iframe框架" class="header-anchor">#</a> Iframe框架</h2> <ul><li><p>概念：</p> <ul><li><strong>HTML内联框架元素 (<code>&lt;iframe&gt;</code>)</strong> 表示嵌套的<a href="https://developer.mozilla.org/zh-CN/docs/Glossary/Browsing_context" target="_blank" rel="noopener noreferrer">browsing context<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。它能够将另一个HTML页面嵌入到当前页面中。</li> <li>每个嵌入的浏览上下文（embedded browsing context）都有自己的<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/History" target="_blank" rel="noopener noreferrer">会话历史记录(session history)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>和<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document" target="_blank" rel="noopener noreferrer">DOM树<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</li> <li>包含嵌入内容的浏览上下文称为<em>父级浏览上下文</em>。顶级浏览上下文（没有父级）通常是由 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window" target="_blank" rel="noopener noreferrer"><code>Window</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 对象表示的浏览器窗口。</li></ul></li> <li><p>属性： iframe的特性都是依赖参数配置实现：</p> <table><thead><tr><th>属性</th> <th>解释</th> <th>备注</th></tr></thead> <tbody><tr><td>allow</td> <td>可以为iframe指定<a href="https://link.juejin.cn/?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FHTTP%2FFeature_Policy" target="_blank" rel="noopener noreferrer">特性策略<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td></td></tr> <tr><td>allowfullscreen</td> <td>是否允许iframe调用requestFullscreen()方法激活全屏模式，这个属性等同于allow属性的这个配置：<code>allow=&quot;fullscreen&quot;</code></td> <td></td></tr> <tr><td>allowpaymentrequest</td> <td>是否允许一个跨域的iframe调用<a href="https://link.juejin.cn/?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FPayment_Request_API" target="_blank" rel="noopener noreferrer">支付请求API<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td></td></tr> <tr><td>csp</td> <td>内嵌的资源强制实行同源策略</td> <td></td></tr> <tr><td>height</td> <td>iframe的高度，默认150px</td> <td></td></tr> <tr><td>importance</td> <td>标识在iframe属性src指示的资源的下载优先级，有<code>auto</code>/<code>high</code>/<code>low</code>三个等级</td> <td></td></tr> <tr><td>name</td> <td>内嵌的浏览内容的目标名称</td> <td></td></tr> <tr><td>referrerpolicy</td> <td>指示当获取frame的资源的时候携带的referrer，默认是<code>no-referrer-when-downgrade</code>，也就是仅当发生协议降级（如 HTTPS 页面引入 HTTP 资源，从 HTTPS 页面跳到 HTTP 等）时不发送 Referrer 信息。这个规则是现在大部分浏览器默认所采用的；</td> <td></td></tr> <tr><td>sandbox</td> <td>在frame上的内容上运用额外的一下限制: 1. script脚本不能执行；2. 不能发送ajax请求；3. 不能使用本地存储，即localStorage,cookie等； 4. 不能创建新的弹窗和window； 5. 不能发送表单 6. 不能加载额外插件比如flash等</td> <td></td></tr></tbody></table></li> <li><p>优点：</p> <ul><li>iframe能够原封不动的把嵌入的网页展现出来。</li> <li>如果有多个网页引用iframe，那么你只需要修改iframe的内容，就可以实现调用的每一个页面内容的更改，方便快捷。</li> <li>网页如果为了统一风格，头部和版本都是一样的，就可以写成一个页面，用iframe来嵌套，可以增加代码的可重用。</li> <li>如果遇到加载缓慢的第三方内容如图标和广告，这些问题可以由iframe来解决。</li></ul></li> <li><p>缺点：</p> <ul><li>iframe会阻塞主页面的onload事件；动态设置<code>src</code>可解决这个问题。</li> <li>iframe和主页面共享连接池，而浏览器对相同域的连接有限制，所以会影响页面的并行加载。会产生很多页面，不容易管理。</li> <li>iframe框架页面会增加服务器的http请求。加载了新页面，增加了<code>css</code>与<code>js</code>文件的请求，即额外增加了<code>HTTP</code>请求。</li> <li>不利于搜索引擎优化（SEO）。现在的搜索引擎爬虫还不能很好的处理iframe中的内容。</li> <li>iframe 如果框架个数多的话，可能会出现上下、左右滚动条，会分散访问者的注意力，用户体验度差。</li> <li>设备兼容性差。很多的移动设备无法完全显示框架</li></ul></li> <li><p>应用：</p> <ul><li>实现Ajax：可以使用<code>iframe</code>进行实现异步请求发送，来模拟<code>Ajax</code>的请求操作，<code>Ajax</code>的异步请求完成操作为<code>XHR.readyState === 4</code>执行<code>callback</code>，<code>iframe</code>使用<code>iframe.onload</code>执行<code>callback</code>，还可以实现一个轮询长连接
<ul><li>现在基本上都是用Ajax来代替iframe，所以iframe已经渐渐的退出了前端开发。如果需要使用iframe，最好是通过javascript动态给iframe添加src属性值</li></ul></li> <li>加载广告：广告是与原文无关的，假如硬编码进去，会造成网页布局的紊乱,而且这样势必需要引入额外的<code>css</code>和<code>js</code>文件，极大的降低了网页的安全性，使用<code>iframe</code>便可以解决这些问题。</li> <li>提交表单：可以使用<code>iframe</code>提交表单来避免整个页面的刷新，还可以实现无刷新文件上传的操作。</li></ul></li> <li><p>常见问题：</p></li></ul> <p><strong>参考资料</strong></p> <p><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/iframe" target="_blank" rel="noopener noreferrer"><code>&lt;iframe&gt;</code> MDN<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="bom"><a href="#bom" class="header-anchor">#</a> BOM</h2> <p><img src="/myblog/assets/img/bom.01948a4a.png" alt=""></p> <h2 id="dom"><a href="#dom" class="header-anchor">#</a> DOM</h2> <p><img src="/myblog/assets/img/dom.0450bb0a.png" alt=""></p> <h3 id="dom事件分类"><a href="#dom事件分类" class="header-anchor">#</a> DOM事件分类</h3> <p><img src="/myblog/assets/img/event.76f7f848.png" alt=""></p> <h2 id="事件流"><a href="#事件流" class="header-anchor">#</a> 事件流</h2> <p>事件流是网页元素接收事件的顺序，&quot;DOM2级事件&quot;规定的事件流包括三个阶段：</p> <ul><li>事件捕获阶段</li> <li>处于目标阶段</li> <li>事件冒泡阶段</li></ul> <p><img src="/myblog/assets/img/event-io.451aa690.png" alt="event-io"></p> <ul><li>例题：</li></ul> <p><img src="/myblog/assets/img/event-demo.3bed52de.png" alt=""></p> <h3 id="事件是如果实现的"><a href="#事件是如果实现的" class="header-anchor">#</a> 事件是如果实现的？</h3> <p>基于<strong>发布订阅模式</strong>，就是在浏览器加载的时候会读取事件相关的代码，但是只有实际等到具体的事件触发的时候才会执行。</p> <p>比如点击按钮，这是个事件（Event），而负责处理事件的代码段通常被称为事件处理程序（EventHandler），也就是「启动对话框的显示」这个动作。</p> <p>在 Web 端，我们常见的就是 DOM 事件：</p> <ul><li>DOM0 级事件，直接在 html 元素上绑定 on-event，比如 onclick，取消的话，dom.onclick =null，同一个事件只能有一个处理程序，后面的会覆盖前面的。</li> <li>DOM2 级事件，通过 addEventListener 注册事件，通过 removeEventListener 来删除事件，一个事件可以有多个事件处理程序，按顺序执行，捕获事件和冒泡事件。</li> <li>DOM3级事件，增加了事件类型，比如 UI 事件，焦点事件，鼠标事件。</li></ul> <h3 id="事件委托-代理"><a href="#事件委托-代理" class="header-anchor">#</a> 事件委托(代理)</h3> <ul><li><p>概念：事件委托本质上是利用了浏览器事件冒泡的机制。因为事件在冒泡过程中会上传到父节点，并且父节点可以通过事件对象获取到目标节点，把子节点的监听函数定义在父节点上，由父节点的监听函数统一处理多个子元素的事件，这种方式称为事件代理。</p></li> <li><p>为什么要用事件委托？</p> <ul><li>使用事件代理可以不必要为每一个子元素都绑定一个监听事件，这样减少了内存上的消耗和减少DOM操作。
<ul><li>每个函数都是一个对象，是对象就会占用内存，对象越多，内存占用率越大。</li> <li>在JavaScript中，添加到页面上的事件处理程序数量将直接关系到页面的整体运行性能，因为需要不断的与dom节点进行交互，访问dom的次数越多，引起浏览器<strong>重绘与重排</strong>的次数也就越多，就会延长整个页面的交互就绪时间；</li></ul></li> <li>使用事件代理可以实现事件的动态绑定。
<ul><li>比如：新增了一个子节点，我们并不需要单独地为它添加一个监听事件，它所发生的事件会交给父元素中的监听函数来处理</li></ul></li></ul></li> <li><p>优点：</p> <ul><li>动态添加和修改元素，减少dom事件绑定的次数。将事件绑定到父节点上，通过事件冒泡获取到实际点击的叶子节点。</li> <li>减少管理的函数。不用为每个元素都添加监听函数。同一个父节点下面类似的子元素，可以通过委托给父元素的监听函数来处理事件。</li> <li>减少 JavaScript 和 DOM 节点之间的关联，这样也就减少了因循环引用而带来的内存泄漏发生的概率。</li></ul></li></ul> <ul><li><p>应用：</p> <blockquote><p>实现事件代理的效果跟直接给节点的事件效果相同。如：列表中点击 <code>&lt;li&gt;</code> 触发事件使用事件代理实现</p></blockquote> <p>解决方案:</p> <ul><li><p>Event 对象提供了一个属性叫 target，可以返回事件的目标节点；标准浏览器用ev.target，IE浏览器用event.srcElement；通过 target.nodeName 获取签名。</p></li> <li><p>根据标签名称在 <code>&lt;li&gt;</code> 父节点获取 <code>target.nodeName</code> 判断子节点类型，分类处理。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> myul <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'ul'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        myul<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">ev</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// 标准浏览器ev ie是event</span>
            <span class="token keyword">let</span> ev <span class="token operator">=</span> ev <span class="token operator">||</span> window<span class="token punctuation">.</span>event <span class="token comment">// 兼容ie</span>
            <span class="token keyword">let</span> target <span class="token operator">=</span> ev<span class="token punctuation">.</span>target <span class="token operator">||</span> ev<span class="token punctuation">.</span>srcElement
            <span class="token keyword">switch</span><span class="token punctuation">(</span> target<span class="token punctuation">.</span>nodeName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">case</span> <span class="token string">'li'</span><span class="token operator">:</span> <span class="token comment">//do somthing...</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li></ul></li></ul> <hr> <h2 id="js-兼容性"><a href="#js-兼容性" class="header-anchor">#</a> JS 兼容性</h2> <ul><li>兼容性产生原因：浏览器内核不同，不同 js 引擎对 js 的实现存在差异
<ul><li>Trident ['traɪd(ə)nt] 内核（IE 内核）：IE、浏览器兼容模式</li> <li>Blink 内核（Chromium 内核）：Chrome、Opera</li> <li>Gecko ['gekəʊ] 内核（FireFox 内核）：FireFox</li> <li>Webkit 内核：Safari</li></ul></li> <li>目前主要是 IE 浏览器与其他浏览 firefox 浏览器的差异。</li></ul> <h3 id="兼容性问题"><a href="#兼容性问题" class="header-anchor">#</a> 兼容性问题</h3> <ul><li>const
<ul><li>现有问题：在IE中不能使用<code>const</code>关键字。如<code>const constVar = 32;</code>在IE中这是语法错误。</li> <li>解决方法：不使用 <code>const</code>，以 <code>var</code> 代替。</li></ul></li> <li>多余的逗号</li> <li>现有问题：firefox 中对象文字常量容许多余的逗号，在IE中不允许。下面语句在IE中非法: <code>var obj = { ‘key’ : ‘aaa’, }</code></li> <li>解决方法：去掉多余逗号。</li></ul> <p><strong>元素查找问题</strong></p> <ul><li><p>document.all[name]</p> <ul><li>现有问题：Firefox不支持document.all[name]</li> <li>解决方法：使用getElementsByName(name)，getElementById(id)等来替代。</li></ul></li> <li><p>集合类对象问题</p></li> <li><p>现有问题：IE中对许多集合类对象取用时可以用 ()，但在Firefox只能用[]。</p> <ul><li>如：IE中可以使用<code>document.forms(“formName”)</code>来返回名字为”formName”的Form，但在Firefox却行不通。</li></ul></li> <li><p>解决方法：使用[]，上例中可以改为<code>document.forms[“formName”]</code></p></li> <li><p>HTML元素的ID在<a href="http://lib.csdn.net/base/javascript" target="_blank" rel="noopener noreferrer">JavaScript<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>可见</p> <ul><li>现有问题：IE中HTML元素中的ID可以作为document的下属对象变量名直接使用。在Firefox中不能。</li> <li>解决方法：使用 <code>getElementById(“idName”)</code>代替 idName 作为对象变量使用。</li></ul></li> <li><p><code>eval(idName)</code>取得对象</p> <ul><li>现有问题：在IE中，利用eval(idName)可以取得ID为idName的HTML对象，在Firefox中不能。</li> <li>解决方法：用 <code>getElementById(idName)</code> 代替 <code>eval(idName)</code>。</li></ul></li> <li><p>变量名与某HTML对象ID相同</p> <ul><li>现有问题：在Firefox中，因为对象ID不作为HTML对象的名称，所以可以使用与HTML对象id相同的变量名，IE中不能。</li> <li>解决方法：在声明变量时，一律加上var，以避免歧义，这样在IE中亦可正常运行。此外，最好不要取与HTML对象id相同的变量名，以减少错误。</li> <li>注：3、4和5都属于同一类的问题。</li></ul></li> <li><p>Frame</p> <ul><li>现有问题：在IE中可以用 <code>window.top.frameId</code> 和 <code>window.top.frameName</code> 来得到该 Frame 所代表的 Window，Firefox中只能用 <code>window.top.frameName</code>。</li> <li>解决方法：将 Frame 的Id和Name设置成相同，使用 <code>window.top.frameName</code> 来访问Frame。</li></ul></li></ul> <p><strong>DOM 操作</strong></p> <ul><li><p>创建DOM</p> <ul><li><p>现有问题：IE 使用 ActiveXObject() 创建 DOM， firefox 使用 <code>document.implementation.createDocument</code></p></li> <li><p>解决方法:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">createXmlDom</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> oXmlDom<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>Window<span class="token punctuation">.</span>ActiveXObject<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// IE</span>
     oXmlDom <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ActiveXObject</span><span class="token punctuation">(</span><span class="token string">&quot;Microsoft.XmlDom&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment">// Firefox</span>
     oXmlDom <span class="token operator">=</span> document<span class="token punctuation">.</span>implementation<span class="token punctuation">.</span><span class="token function">createDocument</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li></ul></li> <li><p>设置元素的文本内容。</p> <ul><li><p>现有问题：IE使用innerText，而Firefox使用 textContent 来设置元素文本内容。</p></li> <li><p>解决方法：如果文本内容不包含 <code>&lt;</code> 和 <code>&gt;</code> 等特殊字符，可以使用 innerHTML。否则，可以使用：</p> <ul><li><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> child <span class="token operator">=</span> elem<span class="token punctuation">.</span>firstChild<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>child <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> elem<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span><span class="token punctuation">;</span>
elem<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul></li></ul></li> <li><p>parentElement，parent.children</p> <ul><li>现有问题：IE可以使用 parentElement 获得父结点，parent.children 得到结点的所有孩子结点。Firefox不支持。</li> <li>解决方法：使用 parentNode 和 parent.childNodes。</li></ul></li> <li><p>对childNodes的解释。</p></li> <li><p>现有问题：IE和Firefox中对childNodes的解释不同，IE不会包含空白文本结点，而Firefox会包含。</p></li> <li><p>解决方法：使用childNodes过滤文本结点，如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token keyword">var</span> children <span class="token operator">=</span> elem<span class="token punctuation">.</span>childNodes<span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> children<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span>children<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>nodeType <span class="token operator">!=</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 过滤文本结点</span>
    <span class="token comment">// ...</span>
   <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li> <li><p>对 <code>document.getElementsByName</code> 的解释。</p> <ul><li>现有问题：IE中 <code>getElementsByName</code> 只会检查和元素，而在Firefox下会检查所有元素。</li> <li>解决方法：不要使用 <code>getElementsByName</code> 检查除和之外的元素，如果要获得单个元素，尽量使用 <code>getElementById</code>。</li></ul></li> <li><p>对 <code>document.getElementById</code> 的解释。</p> <ul><li>现有问题：IE中 <code>getElementById</code> 不仅检查Id属性，也会检查Name属性，当Name属性匹配参数时也会返回该元素。而在Firefox中只会检查Id属性。</li> <li>解决方法：尽量保持Id和Name相同，不要让一个元素name属性和另一个元素的id属性相同。</li></ul></li></ul> <p><strong>事件</strong></p> <ul><li><p>event.x与event.y问题</p> <ul><li><p>现有问题：在IE中，event对象有x,y 属性，Firefox中没有。</p></li> <li><p>解决方法：在Firefox中，与event.x 等效的是 event.pageX。可以使用：</p></li> <li><div class="language-js line-numbers-mode"><pre class="language-js"><code>mX <span class="token operator">=</span> event<span class="token punctuation">.</span>x <span class="token operator">?</span> event<span class="token punctuation">.</span>x <span class="token operator">:</span> event<span class="token punctuation">.</span>pageX<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li> <li><p>获取事件及事件对象目标</p> <ul><li><p>存在问题：</p> <ul><li>在IE中，event对象为window的属性，作用于全局作用域，而在Firefox中，event对象是最为事件的参数存在的</li> <li>在IE中通过event对象的srcElement属性访问，而在火狐中通过event对象的target属性访问。</li></ul></li> <li><p>解决方案：</p></li> <li><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//获取事件对象的兼容性写法</span>
 <span class="token function-variable function">getEvent</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> event <span class="token operator">?</span> event <span class="token operator">:</span> window<span class="token punctuation">.</span>event<span class="token punctuation">;</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token comment">//获取事件对象目标的兼容性写法</span>
 <span class="token function-variable function">getTarget</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> event<span class="token punctuation">.</span>target <span class="token operator">||</span> event<span class="token punctuation">.</span>srcElement<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li></ul></li> <li><p>添加事件方法</p> <ul><li><p>现有问题：IE中使用attachEvent来添加事件，Firefox中使用addEventListener。</p></li> <li><p>解决方法：如下，注意事件参数的区别，一个是click，一个是onclick。</p></li> <li><div class="language-js line-numbers-mode"><pre class="language-js"><code>addHandler：<span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span>type<span class="token punctuation">,</span>handler</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token keyword">if</span><span class="token punctuation">(</span>element<span class="token punctuation">.</span>addEventListener<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//检测是否为DOM2级方法</span>
  element<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> handler<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>element<span class="token punctuation">.</span>attachEvent<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//检测是否为IE级方法</span>
  element<span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span><span class="token string">&quot;on&quot;</span> <span class="token operator">+</span> type<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><span class="token comment">//检测是否为DOM0级方法</span>
  element<span class="token punctuation">[</span><span class="token string">&quot;on&quot;</span> <span class="token operator">+</span> type<span class="token punctuation">]</span> <span class="token operator">=</span> handler<span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li></ul></li> <li><p>移除事件方法</p> <ul><li><p>问题：IE中使用detachEvent来移除事件，Firefox中使用 removeEventListener。</p></li> <li><p>解决方法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>removeHandler：<span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> type<span class="token punctuation">,</span> handler</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>element<span class="token punctuation">.</span>removeEventListener<span class="token punctuation">)</span><span class="token punctuation">{</span>
   element<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> handler<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>element<span class="token punctuation">.</span>detachEvent<span class="token punctuation">)</span><span class="token punctuation">{</span>
   element<span class="token punctuation">.</span><span class="token function">detachEvent</span><span class="token punctuation">(</span><span class="token string">&quot;on&quot;</span> <span class="token operator">+</span> type<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
   element<span class="token punctuation">[</span><span class="token string">&quot;on&quot;</span> <span class="token operator">+</span> type<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li></ul></li> <li><p>阻止浏览器默认事件的兼容性写法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function-variable function">preventDefault</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>preventDefault<span class="token punctuation">)</span><span class="token punctuation">{</span>
   event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
   event<span class="token punctuation">.</span>returnValue <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li> <li><p>阻止事件冒泡的兼容性写法:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function-variable function">stopPropagation</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>stopPropagation<span class="token punctuation">)</span><span class="token punctuation">{</span>
   event<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
   event<span class="token punctuation">.</span>cancelBubble <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li> <li><p>mouseover和mouseout 事件才包含的获取相关元素的方法:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//mouseover和mouseout 事件才包含的获取相关元素的方法</span>
<span class="token function-variable function">getRelatedTarget</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>relatedTarget<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> event<span class="token punctuation">.</span>relatedTarget<span class="token punctuation">;</span>
 <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>toElement<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> event<span class="token punctuation">.</span>toElement<span class="token punctuation">;</span>
 <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>fromElement<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> event<span class="token punctuation">.</span>fromElement<span class="token punctuation">;</span>
 <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></li> <li><p>鼠标滚轮判断 :</p> <ul><li><p>对于mousedown 和mouseup 事件来说，则在其 event 对象存在一个button 属性， 表示按下或释放的按钮。</p></li> <li><p>DOM的button 属性可能有如下3 个值：0 表示主鼠标按钮，1 表示中间的鼠 标按钮（鼠标滚轮按钮），2 表示次鼠标按钮。</p> <ul><li>在常规的设置中，主鼠标按钮就是鼠标左键，而次鼠标 按钮就是鼠标右键。</li></ul></li> <li><p>IE8 及之前版本也提供了button 属性，但这个属性的值与DOM 的button 属性有很大差异。</p> <ul><li>0：表示没有按下按钮。</li> <li>1：表示按下了主鼠标按钮。</li> <li>2：表示按下了次鼠标按钮。</li> <li>3：表示同时按下了主、次鼠标按钮。</li> <li>4：表示按下了中间的鼠标按钮。</li> <li>5：表示同时按下了主鼠标按钮和中间的鼠标按钮。</li> <li>6：表示同时按下了次鼠标按钮和中间的鼠标按钮。</li> <li>7：表示同时按下了三个鼠标按钮。</li></ul></li> <li><p>解决方案：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>
<span class="token function-variable function">getButton</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>implementation<span class="token punctuation">.</span><span class="token function">hasFeature</span><span class="token punctuation">(</span><span class="token string">&quot;MouseEvents&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2.0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> event<span class="token punctuation">.</span>button<span class="token punctuation">;</span>
 <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>button<span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span>
   <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>
   <span class="token keyword">case</span> <span class="token number">3</span><span class="token operator">:</span>
   <span class="token keyword">case</span> <span class="token number">5</span><span class="token operator">:</span>
   <span class="token keyword">case</span> <span class="token number">7</span><span class="token operator">:</span>
   <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
   <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span>
   <span class="token keyword">case</span> <span class="token number">6</span><span class="token operator">:</span>
   <span class="token keyword">return</span> <span class="token number">2</span><span class="token punctuation">;</span>
   <span class="token keyword">case</span> <span class="token number">4</span><span class="token operator">:</span>
   <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div></li> <li><p>取得鼠标滚轮增量值（delta）的方法:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function-variable function">getWheelDelta</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>wheelDelta<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>client<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>opera <span class="token operator">&amp;&amp;</span> client<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>opera <span class="token operator">&lt;</span> <span class="token number">9.5</span> <span class="token operator">?</span>
   <span class="token operator">-</span>event<span class="token punctuation">.</span>wheelDelta <span class="token operator">:</span> event<span class="token punctuation">.</span>wheelDelta<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">-</span>event<span class="token punctuation">.</span>detail <span class="token operator">*</span> <span class="token number">40</span><span class="token punctuation">;</span><span class="token comment">//firefox中的值为+3表示向上滚，-3表示向下滚</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li></ul></li> <li><p>跨浏览器的方式取得字符编码:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function-variable function">getCharCode</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> event<span class="token punctuation">.</span>charCode <span class="token operator">==</span> <span class="token string">&quot;number&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> event<span class="token punctuation">.</span>charCode<span class="token punctuation">;</span>
 <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> event<span class="token punctuation">.</span>keyCode<span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li> <li><p>访问剪贴板中的数据:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function-variable function">getClipboardText</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> clipboardData <span class="token operator">=</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>clipboardData <span class="token operator">||</span> window<span class="token punctuation">.</span>clipboardData<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> clipboardData<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token string">&quot;text&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p>设置剪贴板中的数据:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function-variable function">setClipboardText</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>clipboardData<span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token keyword">return</span> event<span class="token punctuation">.</span>clipboardData<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token string">&quot;text/plain&quot;</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>clipboardData<span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token keyword">return</span> window<span class="token punctuation">.</span>clipboardData<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token string">&quot;text&quot;</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li></ul> <p><strong>XML 兼容性</strong></p> <ul><li><p>创建XMLHttpRequest</p> <ul><li><p>现有问题：Firefox使用XMLHttpRequest，IE使用ActiveXObject。</p></li> <li><p>解决方法：</p></li> <li><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>XMLHttpRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   req <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>ActiveXObject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   req <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ActiveXObject</span><span class="token punctuation">(</span><span class="token string">&quot;Microsoft.XMLHTTP&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ul></li> <li><p>加载XML</p> <ul><li><p>现有问题：如果要加载外部文件IE和Firefox都可以用:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>oXmlDom<span class="token punctuation">.</span>async<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>      <span class="token comment">// 这在Firefox中是必须的</span>
oXmlDom<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">&quot;test.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>但是它们加载xml字符串的方式不一样，IE中直接可以使用 <code>oXmlDom.loadXML(&quot;&lt;root&gt;&lt;child/&gt;&lt;/root&gt;&quot;)</code>，而Firefox要使用DOMParser:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> oParser <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DOMParser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> oXmlDom <span class="token operator">=</span> oParser<span class="token punctuation">.</span><span class="token function">parseFromString</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;root/&gt;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;text/xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>解决方法：比较好的方法是给Firefox产生的XMLDom加上loadXML方法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>isFirefox<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 需要浏览器检测</span>
 <span class="token class-name">Document</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">loadXML</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">sXml</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> oParser <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DOMParser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> oXmlDom <span class="token operator">=</span> oParser<span class="token punctuation">.</span><span class="token function">parseFromString</span><span class="token punctuation">(</span>sXml<span class="token punctuation">,</span> <span class="token string">&quot;text/xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>firstChild<span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>firstChild<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> oXmlDom<span class="token punctuation">.</span>childNodes<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">var</span> oNewNode <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">importNode</span><span class="token punctuation">(</span>oXmlDom<span class="token punctuation">.</span>childNodes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>oNewNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>这样在IE和Firefox就可以调用loadXML方法了。</p></li></ul></li></ul> <h3 id="兼容性统一处理方案"><a href="#兼容性统一处理方案" class="header-anchor">#</a> 兼容性统一处理方案</h3> <hr> <p><a href="https://github.com/mqyqingfeng/Blog" target="_blank" rel="noopener noreferrer">冴羽的博客<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <!----> <div class="content__content-bottom"></div> <footer class="page-meta"><!----> <div class="meta-item update-time"><span class="label">Last update:</span> <span class="info">March 7, 2024 16:38</span></div> <div class="meta-item contributors"><span class="label">Contributors: </span> <span class="info"><span title="email: 596777598@qq.com" class="contributor">
          sewar
        </span> <!----></span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/myblog/javascript/%E5%BC%82%E6%AD%A5/">
        异步编程
        <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon next-icon"><path d="M906.772 512c0 4.772-2.211 9.267-5.99 12.175L524.257 813.66a15.37 15.37 0 0 1-18.616.092 15.368 15.368 0 0 1-5.038-17.91l75.714-191.672h-443.73c-8.488 0-15.36-6.881-15.36-15.36v-153.6c0-8.489 6.872-15.36 15.36-15.36h443.73l-75.714-191.682a15.358 15.358 0 0 1 5.048-17.91c5.51-4.158 13.128-4.137 18.606.092l376.525 289.485a15.323 15.323 0 0 1 5.99 12.165z" fill="currentColor"></path></svg></a></span></p></div> <!----> <!----> <div class="content__page-bottom"></div></main> <!----></div><div class="global-ui"><!----><div id="pwa-install"><!----> <div id="install-modal-wrapper" style="display:none;"><div class="background"></div> <div class="install-modal"><div class="header"><button aria-label="Close" class="close-button"><svg width="23" height="22" xmlns="http://www.w3.org/2000/svg" class="icon close-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.12.358a1.224 1.224 0 011.729 0l8.92 8.914L20.686.358a1.224 1.224 0 011.73 1.728L13.497 11l8.92 8.913a1.222 1.222 0 11-1.73 1.729l-8.919-8.913-8.92 8.913a1.224 1.224 0 01-1.729-1.729L10.04 11l-8.92-8.914a1.222 1.222 0 010-1.728z" fill="currentColor"></path></svg></button> <div class="logo"><!----> <div class="title"><h1></h1> <p class="desc">This app can be installed on your PC or mobile device.  This will allow this web app to look and behave like any other installed app.  You will find it in your app lists and be able to pin it to your home screen, start menus or task bars.  This installed web app will also be able to safely interact with other apps and your operating system. </p></div></div></div> <div class="content"><div class="highlight"><!----> <!----></div> <div class="description"><h3>Description</h3> <p></p></div></div> <div class="button-wrapper"><button class="install-button">
        Install <span></span></button> <button class="cancel-button">
        Cancel
      </button></div></div></div></div><!----><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button title="Close" aria-label="Close" class="pswp__button pswp__button--close"></button> <button title="Share" aria-label="Share" class="pswp__button pswp__button--share"></button> <button title="Switch to full screen" aria-label="Switch to full screen" class="pswp__button pswp__button--fs"></button> <button title="Zoom in/out" aria-label="Zoom in/out" class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button title="Prev (Arrow Left)" aria-label="Prev (Arrow Left)" class="pswp__button pswp__button--arrow--left"></button> <button title="Next (Arrow Right)" aria-label="Next (Arrow Right)" class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div></div>
    <script src="/myblog/assets/js/app.9d2b617a.js" defer></script><script src="/myblog/assets/js/layout-Layout.d2d4ce64.js" defer></script><script src="/myblog/assets/js/page-JavaScript基础.551be887.js" defer></script><script src="/myblog/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-components/Blog/BlogHome~layout-components/~2222f443.5835591a.js" defer></script>
  </body>
</html>
